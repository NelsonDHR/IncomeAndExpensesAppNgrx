var nD=Object.defineProperty,rD=Object.defineProperties,iD=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,sD=Object.prototype.hasOwnProperty,oD=Object.prototype.propertyIsEnumerable,J0=(je,ve,L)=>ve in je?nD(je,ve,{enumerable:!0,configurable:!0,writable:!0,value:L}):je[ve]=L,Q_=(je,ve)=>{for(var L in ve||(ve={}))sD.call(ve,L)&&J0(je,L,ve[L]);if(X0)for(var L of X0(ve))oD.call(ve,L)&&J0(je,L,ve[L]);return je},X_=(je,ve)=>rD(je,iD(ve));(self.webpackChunkincome_and_expenses=self.webpackChunkincome_and_expenses||[]).push([[179],{440:(je,ve,L)=>{"use strict";L.d(ve,{nm:()=>vt});var _=L(6351);L(5e3),L(5867);var ct=L(5861),$e=L(9681),bt=L(4859),Rt=L(2090),Ut=L(1877);const ge=new Map,Xt={activated:!1,tokenObservers:[]},Xe={initialized:!1,enabled:!1};function st(Qe){return ge.get(Qe)||Xt}function et(Qe,We){ge.set(Qe,We)}function ut(){return Xe}class jt{constructor(We,pt,kt,Kt,pn){if(this.operation=We,this.retryPolicy=pt,this.getWaitDuration=kt,this.lowerBound=Kt,this.upperBound=pn,this.pending=null,this.nextErrorWaitInterval=Kt,Kt>pn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(We){var pt=this;return(0,ct.Z)(function*(){pt.stop();try{pt.pending=new Rt.BH,yield function cn(Qe){return new Promise(We=>{setTimeout(We,Qe)})}(pt.getNextRun(We)),pt.pending.resolve(),yield pt.pending.promise,pt.pending=new Rt.BH,yield pt.operation(),pt.pending.resolve(),yield pt.pending.promise,pt.process(!0).catch(()=>{})}catch(kt){pt.retryPolicy(kt)?pt.process(!1).catch(()=>{}):pt.stop()}})()}getNextRun(We){if(We)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const pt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),pt}}}const on=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gt(Qe){if(!st(Qe).activated)throw on.create("use-before-activation",{appName:Qe.name})}function pr(Qe,We){return vr.apply(this,arguments)}function vr(){return(vr=(0,ct.Z)(function*({url:Qe,body:We},pt){const kt={"Content-Type":"application/json"},Kt=pt.getImmediate({optional:!0});if(Kt){const Ri=yield Kt.getHeartbeatsHeader();Ri&&(kt["X-Firebase-Client"]=Ri)}const pn={method:"POST",body:JSON.stringify(We),headers:kt};let Yn,li;try{Yn=yield fetch(Qe,pn)}catch(Ri){throw on.create("fetch-network-error",{originalErrorMessage:Ri.message})}if(200!==Yn.status)throw on.create("fetch-status-error",{httpStatus:Yn.status});try{li=yield Yn.json()}catch(Ri){throw on.create("fetch-parse-error",{originalErrorMessage:Ri.message})}const wr=li.ttl.match(/^([\d.]+)(s)$/);if(!wr||!wr[2]||isNaN(Number(wr[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${li.ttl}`});const pi=1e3*Number(wr[1]),Ui=Date.now();return{token:li.token,expireTimeMillis:Ui+pi,issuedAtTimeMillis:Ui}})).apply(this,arguments)}function zr(Qe,We){const{projectId:pt,appId:kt,apiKey:Kt}=Qe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${pt}/apps/${kt}:exchangeDebugToken?key=${Kt}`,body:{debug_token:We}}}const $n="firebase-app-check-store";let Ln=null;function Ur(){return Ln||(Ln=new Promise((Qe,We)=>{try{const pt=indexedDB.open("firebase-app-check-database",1);pt.onsuccess=kt=>{Qe(kt.target.result)},pt.onerror=kt=>{var Kt;We(on.create("storage-open",{originalErrorMessage:null===(Kt=kt.target.error)||void 0===Kt?void 0:Kt.message}))},pt.onupgradeneeded=kt=>{0===kt.oldVersion&&kt.target.result.createObjectStore($n,{keyPath:"compositeKey"})}}catch(pt){We(on.create("storage-open",{originalErrorMessage:pt.message}))}}),Ln)}function qt(){return(qt=(0,ct.Z)(function*(Qe,We){const kt=(yield Ur()).transaction($n,"readwrite"),pn=kt.objectStore($n).put({compositeKey:Qe,value:We});return new Promise((Yn,li)=>{pn.onsuccess=wr=>{Yn()},kt.onerror=wr=>{var pi;li(on.create("storage-set",{originalErrorMessage:null===(pi=wr.target.error)||void 0===pi?void 0:pi.message}))}})})).apply(this,arguments)}const jr=new Ut.Yd("@firebase/app-check");function Qr(Qe,We){return(0,Rt.hl)()?function Mr(Qe,We){return function er(Qe,We){return qt.apply(this,arguments)}(function Or(Qe){return`${Qe.options.appId}-${Qe.name}`}(Qe),We)}(Qe,We).catch(pt=>{jr.warn(`Failed to write token to IndexedDB. Error: ${pt}`)}):Promise.resolve()}function Gr(){return ut().enabled}function Jn(){return dn.apply(this,arguments)}function dn(){return(dn=(0,ct.Z)(function*(){const Qe=ut();if(Qe.enabled&&Qe.token)return Qe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const te={error:"UNKNOWN_ERROR"};function _e(Qe){return Rt.US.encodeString(JSON.stringify(Qe),!1)}function it(Qe){return St.apply(this,arguments)}function St(){return(St=(0,ct.Z)(function*(Qe,We=!1){const pt=Qe.app;Gt(pt);const kt=st(pt);let pn,Kt=kt.token;if(!Kt){const wr=yield kt.cachedTokenPromise;wr&&Zt(wr)&&(Kt=wr)}if(!We&&Kt&&Zt(Kt))return{token:Kt.token};let li,Yn=!1;if(Gr()){kt.exchangeTokenPromise||(kt.exchangeTokenPromise=pr(zr(pt,yield Jn()),Qe.heartbeatServiceProvider).then(pi=>(kt.exchangeTokenPromise=void 0,pi)),Yn=!0);const wr=yield kt.exchangeTokenPromise;return yield Qr(pt,wr),et(pt,Object.assign(Object.assign({},kt),{token:wr})),{token:wr.token}}try{kt.exchangeTokenPromise||(kt.exchangeTokenPromise=kt.provider.getToken().then(wr=>(kt.exchangeTokenPromise=void 0,wr)),Yn=!0),Kt=yield kt.exchangeTokenPromise}catch(wr){"appCheck/throttled"===wr.code?jr.warn(wr.message):jr.error(wr),pn=wr}return Kt?(li={token:Kt.token},et(pt,Object.assign(Object.assign({},kt),{token:Kt})),yield Qr(pt,Kt)):li=vn(pn),Yn&&rt(pt,li),li})).apply(this,arguments)}function Ee(Qe,We){const pt=st(Qe),kt=pt.tokenObservers.filter(Kt=>Kt.next!==We);0===kt.length&&pt.tokenRefresher&&pt.tokenRefresher.isRunning()&&pt.tokenRefresher.stop(),et(Qe,Object.assign(Object.assign({},pt),{tokenObservers:kt}))}function Fe(Qe){const{app:We}=Qe,pt=st(We);let kt=pt.tokenRefresher;kt||(kt=function ft(Qe){const{app:We}=Qe;return new jt((0,ct.Z)(function*(){let kt;if(kt=st(We).token?yield it(Qe,!0):yield it(Qe),kt.error)throw kt.error}),()=>!0,()=>{const pt=st(We);if(pt.token){let kt=pt.token.issuedAtTimeMillis+.5*(pt.token.expireTimeMillis-pt.token.issuedAtTimeMillis)+3e5;return kt=Math.min(kt,pt.token.expireTimeMillis-3e5),Math.max(0,kt-Date.now())}return 0},3e4,96e4)}(Qe),et(We,Object.assign(Object.assign({},pt),{tokenRefresher:kt}))),!kt.isRunning()&&pt.isTokenAutoRefreshEnabled&&kt.start()}function rt(Qe,We){const pt=st(Qe).tokenObservers;for(const kt of pt)try{"EXTERNAL"===kt.type&&null!=We.error?kt.error(We.error):kt.next(We)}catch(Kt){}}function Zt(Qe){return Qe.expireTimeMillis-Date.now()>0}function vn(Qe){return{token:_e(te),error:Qe}}class bn{constructor(We,pt){this.app=We,this.heartbeatServiceProvider=pt}_delete(){const{tokenObservers:We}=st(this.app);for(const pt of We)Ee(this.app,pt.next);return Promise.resolve()}}const bi="app-check-internal";!function Zr(){(0,$e._registerComponent)(new bt.wA("app-check",Qe=>function Rn(Qe,We){return new bn(Qe,We)}(Qe.getProvider("app").getImmediate(),Qe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Qe,We,pt)=>{Qe.getProvider(bi).initialize()})),(0,$e._registerComponent)(new bt.wA(bi,Qe=>function tr(Qe){return{getToken:We=>it(Qe,We),addTokenListener:We=>function Te(Qe,We,pt,kt){const{app:Kt}=Qe,pn=st(Kt),Yn={next:pt,error:kt,type:We};if(et(Kt,Object.assign(Object.assign({},pn),{tokenObservers:[...pn.tokenObservers,Yn]})),pn.token&&Zt(pn.token)){const li=pn.token;Promise.resolve().then(()=>{pt({token:li.token}),Fe(Qe)}).catch(()=>{})}pn.cachedTokenPromise.then(()=>Fe(Qe))}(Qe,"INTERNAL",We),removeTokenListener:We=>Ee(Qe.app,We)}}(Qe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$e.registerVersion)("@firebase/app-check","0.5.7")}();class vt{constructor(){return(0,_.vb)("app-check")}}"undefined"!=typeof window&&window},1041:(je,ve,L)=>{"use strict";L.d(ve,{zQ:()=>ut,ww:()=>ot,rT:()=>Xt,f7:()=>st,L6:()=>Ut,_Q:()=>ge,lh:()=>Xe,Qv:()=>Rt,nw:()=>et});var _=L(5e3),Z=L(7579),ie=L(9646),Se=L(8306),de=L(8996),Ne=L(6451),Ae=L(4707),me=L(3099);function De(Mt,Pt,gn){let Mn,Bt=!1;return Mt&&"object"==typeof Mt?({bufferSize:Mn=1/0,windowTime:Pt=1/0,refCount:Bt=!1,scheduler:gn}=Mt):Mn=null!=Mt?Mt:1/0,(0,me.B)({connector:()=>new Ae.t(Mn,Pt,gn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Bt})}var ce=L(3900),he=L(576);function be(Mt,Pt){return(0,he.m)(Pt)?(0,ce.w)(()=>Mt,Pt):(0,ce.w)(()=>Mt)}var Ye=L(5363),nt=L(4004),dt=L(590),ht=L(9468),yt=L(9300),lt=L(6351),Le=L(2011),Dt=L(9808),ct=L(440),$e=L(127);const Rt=new _.OlP("angularfire2.auth.use-emulator"),Ut=new _.OlP("angularfire2.auth.settings"),ge=new _.OlP("angularfire2.auth.tenant-id"),Xt=new _.OlP("angularfire2.auth.langugage-code"),Xe=new _.OlP("angularfire2.auth.use-device-language"),st=new _.OlP("angularfire.auth.persistence"),et=(Mt,Pt,gn,Mn,Bt,jt,cn,dr)=>(0,Le.cc)(`${Mt.name}.auth`,"AngularFireAuth",Mt.name,()=>{const on=Pt.runOutsideAngular(()=>Mt.auth());if(gn&&on.useEmulator(...gn),Mn&&(on.tenantId=Mn),on.languageCode=Bt,jt&&on.useDeviceLanguage(),cn)for(const[qn,Gt]of Object.entries(cn))on.settings[qn]=Gt;return dr&&on.setPersistence(dr),on},[gn,Mn,Bt,jt,cn,dr]);let ut=(()=>{class Mt{constructor(gn,Mn,Bt,jt,cn,dr,on,qn,Gt,kn,Xn,Un){const pr=new Z.x,vr=(0,ie.of)(void 0).pipe((0,Ye.Q)(cn.outsideAngular),(0,ce.w)(()=>jt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,820)))),(0,nt.U)(()=>(0,Le.on)(gn,jt,Mn)),(0,nt.U)(Tr=>et(Tr,jt,dr,qn,Gt,kn,on,Xn)),De({bufferSize:1,refCount:!1}));if((0,Dt.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ie.of)(null);else{vr.pipe((0,dt.P)()).subscribe();const br=vr.pipe((0,ce.w)(Ft=>Ft.getRedirectResult().then($n=>$n,()=>null)),lt.iC,De({bufferSize:1,refCount:!1})),zr=vr.pipe((0,ce.w)(Ft=>new Se.y($n=>({unsubscribe:jt.runOutsideAngular(()=>Ft.onAuthStateChanged(lr=>$n.next(lr),lr=>$n.error(lr),()=>$n.complete()))})))),Br=vr.pipe((0,ce.w)(Ft=>new Se.y($n=>({unsubscribe:jt.runOutsideAngular(()=>Ft.onIdTokenChanged(lr=>$n.next(lr),lr=>$n.error(lr),()=>$n.complete()))}))));this.authState=br.pipe(be(zr),(0,ht.R)(cn.outsideAngular),(0,Ye.Q)(cn.insideAngular)),this.user=br.pipe(be(Br),(0,ht.R)(cn.outsideAngular),(0,Ye.Q)(cn.insideAngular)),this.idToken=this.user.pipe((0,ce.w)(Ft=>Ft?(0,de.D)(Ft.getIdToken()):(0,ie.of)(null))),this.idTokenResult=this.user.pipe((0,ce.w)(Ft=>Ft?(0,de.D)(Ft.getIdTokenResult()):(0,ie.of)(null))),this.credential=(0,Ne.T)(br,pr,this.authState.pipe((0,yt.h)(Ft=>!Ft))).pipe((0,nt.U)(Ft=>(null==Ft?void 0:Ft.user)?Ft:null),(0,ht.R)(cn.outsideAngular),(0,Ye.Q)(cn.insideAngular))}return(0,Le.pX)(this,vr,jt,{spy:{apply:(Tr,br,zr)=>{(Tr.startsWith("signIn")||Tr.startsWith("createUser"))&&zr.then(Br=>pr.next(Br))}}})}}return Mt.\u0275fac=function(gn){return new(gn||Mt)(_.LFG(Le.Dh),_.LFG(Le.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(lt.HU),_.LFG(Rt,8),_.LFG(Ut,8),_.LFG(ge,8),_.LFG(Xt,8),_.LFG(Xe,8),_.LFG(st,8),_.LFG(ct.nm,8))},Mt.\u0275prov=_.Yz7({token:Mt,factory:Mt.\u0275fac,providedIn:"any"}),Mt})(),ot=(()=>{class Mt{constructor(){$e.Z.registerVersion("angularfire",lt.q4.full,"auth-compat")}}return Mt.\u0275fac=function(gn){return new(gn||Mt)},Mt.\u0275mod=_.oAB({type:Mt}),Mt.\u0275inj=_.cJS({providers:[ut]}),Mt})()},6185:(je,ve,L)=>{"use strict";L.d(ve,{ST:()=>Jn,yb:()=>dn});var _=L(5e3),Z=L(4986),ie=L(8306),Se=L(8996),de=L(9646),Ne=L(6351),Ae=L(4482),me=L(5403);function De(){return(0,Ae.e)((we,te)=>{let _e,it=!1;we.subscribe((0,me.x)(te,St=>{const Te=_e;_e=St,it&&te.next([Te,St]),it=!0}))})}var ce=L(8675),he=L(4004),be=L(5026),Ye=L(1884),nt=L(9300),dt=L(2011),ht=L(9808),lt=(L(820),L(3942)),Le=L(5525),Dt=L(2090),ct=L(4859);function Rt(we,te){if(void 0===te)return{merge:!1};if(void 0!==te.mergeFields&&void 0!==te.merge)throw new Le.WA("invalid-argument",`Invalid options passed to function ${we}(): You cannot specify both "merge" and "mergeFields".`);return te}function Ut(){if("undefined"==typeof Uint8Array)throw new Le.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ge(){if(!(0,Le.Me)())throw new Le.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Xt{constructor(te){this._delegate=te}static fromBase64String(te){return ge(),new Xt(Le.Jj.fromBase64String(te))}static fromUint8Array(te){return Ut(),new Xt(Le.Jj.fromUint8Array(te))}toBase64(){return ge(),this._delegate.toBase64()}toUint8Array(){return Ut(),this._delegate.toUint8Array()}isEqual(te){return this._delegate.isEqual(te._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Xe(we){return function st(we,te){if("object"!=typeof we||null===we)return!1;const _e=we;for(const it of te)if(it in _e&&"function"==typeof _e[it])return!0;return!1}(we,["next","error","complete"])}class et{enableIndexedDbPersistence(te,_e){return(0,Le.ST)(te._delegate,{forceOwnership:_e})}enableMultiTabIndexedDbPersistence(te){return(0,Le.fH)(te._delegate)}clearIndexedDbPersistence(te){return(0,Le.Fc)(te._delegate)}}class ut{constructor(te,_e,it){this._delegate=_e,this._persistenceProvider=it,this.INTERNAL={delete:()=>this.terminate()},te instanceof Le.l7||(this._appCompat=te)}get _databaseId(){return this._delegate._databaseId}settings(te){const _e=this._delegate._getSettings();!te.merge&&_e.host!==te.host&&(0,Le.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),te.merge&&delete(te=Object.assign(Object.assign({},_e),te)).merge,this._delegate._setSettings(te)}useEmulator(te,_e,it={}){(0,Le.at)(this._delegate,te,_e,it)}enableNetwork(){return(0,Le.Ix)(this._delegate)}disableNetwork(){return(0,Le.TF)(this._delegate)}enablePersistence(te){let _e=!1,it=!1;return te&&(_e=!!te.synchronizeTabs,it=!!te.experimentalForceOwningTab,(0,Le.Wi)("synchronizeTabs",_e,"experimentalForceOwningTab",it)),_e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,it)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Le.Mx)(this._delegate)}onSnapshotsInSync(te){return(0,Le.sc)(this._delegate,te)}get app(){if(!this._appCompat)throw new Le.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(te){try{return new Un(this,(0,Le.hJ)(this._delegate,te))}catch(_e){throw jt(_e,"collection()","Firestore.collection()")}}doc(te){try{return new Bt(this,(0,Le.JU)(this._delegate,te))}catch(_e){throw jt(_e,"doc()","Firestore.doc()")}}collectionGroup(te){try{return new Gt(this,(0,Le.B$)(this._delegate,te))}catch(_e){throw jt(_e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(te){return(0,Le.i3)(this._delegate,_e=>te(new Pt(this,_e)))}batch(){return(0,Le.qY)(this._delegate),new gn(new Le.PU(this._delegate,te=>(0,Le.GL)(this._delegate,te)))}loadBundle(te){return(0,Le.Pb)(this._delegate,te)}namedQuery(te){return(0,Le.L$)(this._delegate,te).then(_e=>_e?new Gt(this,_e):null)}}class ot extends Le.u7{constructor(te){super(),this.firestore=te}convertBytes(te){return new Xt(new Le.Jj(te))}convertReference(te){const _e=this.convertDocumentKey(te,this.firestore._databaseId);return Bt.forKey(_e,this.firestore,null)}}class Pt{constructor(te,_e){this._firestore=te,this._delegate=_e,this._userDataWriter=new ot(te)}get(te){const _e=pr(te);return this._delegate.get(_e).then(it=>new on(this._firestore,new Le.xU(this._firestore._delegate,this._userDataWriter,it._key,it._document,it.metadata,_e.converter)))}set(te,_e,it){const St=pr(te);return it?(Rt("Transaction.set",it),this._delegate.set(St,_e,it)):this._delegate.set(St,_e),this}update(te,_e,it,...St){const Te=pr(te);return 2===arguments.length?this._delegate.update(Te,_e):this._delegate.update(Te,_e,it,...St),this}delete(te){const _e=pr(te);return this._delegate.delete(_e),this}}class gn{constructor(te){this._delegate=te}set(te,_e,it){const St=pr(te);return it?(Rt("WriteBatch.set",it),this._delegate.set(St,_e,it)):this._delegate.set(St,_e),this}update(te,_e,it,...St){const Te=pr(te);return 2===arguments.length?this._delegate.update(Te,_e):this._delegate.update(Te,_e,it,...St),this}delete(te){const _e=pr(te);return this._delegate.delete(_e),this}commit(){return this._delegate.commit()}}class Mn{constructor(te,_e,it){this._firestore=te,this._userDataWriter=_e,this._delegate=it}fromFirestore(te,_e){const it=new Le.$q(this._firestore._delegate,this._userDataWriter,te._key,te._document,te.metadata,null);return this._delegate.fromFirestore(new qn(this._firestore,it),null!=_e?_e:{})}toFirestore(te,_e){return _e?this._delegate.toFirestore(te,_e):this._delegate.toFirestore(te)}static getInstance(te,_e){const it=Mn.INSTANCES;let St=it.get(te);St||(St=new WeakMap,it.set(te,St));let Te=St.get(_e);return Te||(Te=new Mn(te,new ot(te),_e),St.set(_e,Te)),Te}}Mn.INSTANCES=new WeakMap;class Bt{constructor(te,_e){this.firestore=te,this._delegate=_e,this._userDataWriter=new ot(te)}static forPath(te,_e,it){if(te.length%2!=0)throw new Le.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${te.canonicalString()} has ${te.length}`);return new Bt(_e,new Le.my(_e._delegate,it,new Le.Ky(te)))}static forKey(te,_e,it){return new Bt(_e,new Le.my(_e._delegate,it,te))}get id(){return this._delegate.id}get parent(){return new Un(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(te){try{return new Un(this.firestore,(0,Le.hJ)(this._delegate,te))}catch(_e){throw jt(_e,"collection()","DocumentReference.collection()")}}isEqual(te){return(te=(0,Dt.m9)(te))instanceof Le.my&&(0,Le.Eo)(this._delegate,te)}set(te,_e){_e=Rt("DocumentReference.set",_e);try{return _e?(0,Le.pl)(this._delegate,te,_e):(0,Le.pl)(this._delegate,te)}catch(it){throw jt(it,"setDoc()","DocumentReference.set()")}}update(te,_e,...it){try{return 1===arguments.length?(0,Le.r7)(this._delegate,te):(0,Le.r7)(this._delegate,te,_e,...it)}catch(St){throw jt(St,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Le.oe)(this._delegate)}onSnapshot(...te){const _e=cn(te),it=dr(te,St=>new on(this.firestore,new Le.xU(this.firestore._delegate,this._userDataWriter,St._key,St._document,St.metadata,this._delegate.converter)));return(0,Le.cf)(this._delegate,_e,it)}get(te){let _e;return _e="cache"===(null==te?void 0:te.source)?(0,Le.kl)(this._delegate):"server"===(null==te?void 0:te.source)?(0,Le.Xk)(this._delegate):(0,Le.QT)(this._delegate),_e.then(it=>new on(this.firestore,new Le.xU(this.firestore._delegate,this._userDataWriter,it._key,it._document,it.metadata,this._delegate.converter)))}withConverter(te){return new Bt(this.firestore,this._delegate.withConverter(te?Mn.getInstance(this.firestore,te):null))}}function jt(we,te,_e){return we.message=we.message.replace(te,_e),we}function cn(we){for(const te of we)if("object"==typeof te&&!Xe(te))return te;return{}}function dr(we,te){var _e,it;let St;return St=Xe(we[0])?we[0]:Xe(we[1])?we[1]:"function"==typeof we[0]?{next:we[0],error:we[1],complete:we[2]}:{next:we[1],error:we[2],complete:we[3]},{next:Te=>{St.next&&St.next(te(Te))},error:null===(_e=St.error)||void 0===_e?void 0:_e.bind(St),complete:null===(it=St.complete)||void 0===it?void 0:it.bind(St)}}class on{constructor(te,_e){this._firestore=te,this._delegate=_e}get ref(){return new Bt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(te){return this._delegate.data(te)}get(te,_e){return this._delegate.get(te,_e)}isEqual(te){return(0,Le.qK)(this._delegate,te._delegate)}}class qn extends on{data(te){const _e=this._delegate.data(te);return(0,Le.K9)(void 0!==_e,"Document in a QueryDocumentSnapshot should exist"),_e}}class Gt{constructor(te,_e){this.firestore=te,this._delegate=_e,this._userDataWriter=new ot(te)}where(te,_e,it){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.ar)(te,_e,it)))}catch(St){throw jt(St,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(te,_e){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.Xo)(te,_e)))}catch(it){throw jt(it,/(orderBy|where)\(\)/,"Query.$1()")}}limit(te){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.b9)(te)))}catch(_e){throw jt(_e,"limit()","Query.limit()")}}limitToLast(te){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.vh)(te)))}catch(_e){throw jt(_e,"limitToLast()","Query.limitToLast()")}}startAt(...te){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.e0)(...te)))}catch(_e){throw jt(_e,"startAt()","Query.startAt()")}}startAfter(...te){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.TQ)(...te)))}catch(_e){throw jt(_e,"startAfter()","Query.startAfter()")}}endBefore(...te){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.Lx)(...te)))}catch(_e){throw jt(_e,"endBefore()","Query.endBefore()")}}endAt(...te){try{return new Gt(this.firestore,(0,Le.IO)(this._delegate,(0,Le.Wu)(...te)))}catch(_e){throw jt(_e,"endAt()","Query.endAt()")}}isEqual(te){return(0,Le.iE)(this._delegate,te._delegate)}get(te){let _e;return _e="cache"===(null==te?void 0:te.source)?(0,Le.UQ)(this._delegate):"server"===(null==te?void 0:te.source)?(0,Le.zN)(this._delegate):(0,Le.PL)(this._delegate),_e.then(it=>new Xn(this.firestore,new Le.W(this.firestore._delegate,this._userDataWriter,this._delegate,it._snapshot)))}onSnapshot(...te){const _e=cn(te),it=dr(te,St=>new Xn(this.firestore,new Le.W(this.firestore._delegate,this._userDataWriter,this._delegate,St._snapshot)));return(0,Le.cf)(this._delegate,_e,it)}withConverter(te){return new Gt(this.firestore,this._delegate.withConverter(te?Mn.getInstance(this.firestore,te):null))}}class kn{constructor(te,_e){this._firestore=te,this._delegate=_e}get type(){return this._delegate.type}get doc(){return new qn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xn{constructor(te,_e){this._firestore=te,this._delegate=_e}get query(){return new Gt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(te=>new qn(this._firestore,te))}docChanges(te){return this._delegate.docChanges(te).map(_e=>new kn(this._firestore,_e))}forEach(te,_e){this._delegate.forEach(it=>{te.call(_e,new qn(this._firestore,it))})}isEqual(te){return(0,Le.qK)(this._delegate,te._delegate)}}class Un extends Gt{constructor(te,_e){super(te,_e),this.firestore=te,this._delegate=_e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const te=this._delegate.parent;return te?new Bt(this.firestore,te):null}doc(te){try{return new Bt(this.firestore,void 0===te?(0,Le.JU)(this._delegate):(0,Le.JU)(this._delegate,te))}catch(_e){throw jt(_e,"doc()","CollectionReference.doc()")}}add(te){return(0,Le.ET)(this._delegate,te).then(_e=>new Bt(this.firestore,_e))}isEqual(te){return(0,Le.Eo)(this._delegate,te._delegate)}withConverter(te){return new Un(this.firestore,this._delegate.withConverter(te?Mn.getInstance(this.firestore,te):null))}}function pr(we){return(0,Le.Cf)(we,Le.my)}class vr{constructor(...te){this._delegate=new Le.Lz(...te)}static documentId(){return new vr(Le.Xb.keyField().canonicalString())}isEqual(te){return(te=(0,Dt.m9)(te))instanceof Le.Lz&&this._delegate._internalPath.isEqual(te._internalPath)}}class Tr{constructor(te){this._delegate=te}static serverTimestamp(){const te=(0,Le.Bt)();return te._methodName="FieldValue.serverTimestamp",new Tr(te)}static delete(){const te=(0,Le.AK)();return te._methodName="FieldValue.delete",new Tr(te)}static arrayUnion(...te){const _e=(0,Le.vr)(...te);return _e._methodName="FieldValue.arrayUnion",new Tr(_e)}static arrayRemove(...te){const _e=(0,Le.Ab)(...te);return _e._methodName="FieldValue.arrayRemove",new Tr(_e)}static increment(te){const _e=(0,Le.nP)(te);return _e._methodName="FieldValue.increment",new Tr(_e)}isEqual(te){return this._delegate.isEqual(te._delegate)}}const br={Firestore:ut,GeoPoint:Le.F8,Timestamp:Le.EK,Blob:Xt,Transaction:Pt,WriteBatch:gn,DocumentReference:Bt,DocumentSnapshot:on,Query:Gt,QueryDocumentSnapshot:qn,QuerySnapshot:Xn,CollectionReference:Un,FieldPath:vr,FieldValue:Tr,setLogLevel:function Mt(we){(0,Le.Ub)(we)},CACHE_SIZE_UNLIMITED:Le.IX};!function Br(we){(function zr(we,te){we.INTERNAL.registerComponent(new ct.wA("firestore-compat",_e=>{const it=_e.getProvider("app-compat").getImmediate(),St=_e.getProvider("firestore").getImmediate();return te(it,St)},"PUBLIC").setServiceProps(Object.assign({},br)))})(we,(te,_e)=>new ut(te,_e,new et)),we.registerVersion("@firebase/firestore-compat","0.1.17")}(lt.Z);var Ft=L(1041),$n=L(440),lr=L(127);function Ur(we,te){return function Ln(we,te=Z.z){return new ie.y(_e=>{let it;return null!=te?te.schedule(()=>{it=we.onSnapshot({includeMetadataChanges:!0},_e)}):it=we.onSnapshot({includeMetadataChanges:!0},_e),()=>{null!=it&&it()}})}(we,te)}function Mr(we,te){return Ur(we,te).pipe((0,he.U)(_e=>({payload:_e,type:"query"})))}function rn(we,te){return Mr(we,te).pipe((0,ce.O)(void 0),De(),(0,he.U)(([_e,it])=>{const St=it.payload.docChanges(),Te=St.map(Ee=>({type:Ee.type,payload:Ee}));return _e&&JSON.stringify(_e.payload.metadata)!==JSON.stringify(it.payload.metadata)&&it.payload.docs.forEach((Ee,Fe)=>{const ft=St.find(Zt=>Zt.doc.ref.isEqual(Ee.ref)),rt=null==_e?void 0:_e.payload.docs.find(Zt=>Zt.ref.isEqual(Ee.ref));ft&&JSON.stringify(ft.doc.metadata)===JSON.stringify(Ee.metadata)||!ft&&rt&&JSON.stringify(rt.metadata)===JSON.stringify(Ee.metadata)||Te.push({type:"modified",payload:{oldIndex:Fe,newIndex:Fe,type:"modified",doc:Ee}})}),Te}))}function xr(we,te,_e){return rn(we,_e).pipe((0,be.R)((it,St)=>function er(we,te,_e){return te.forEach(it=>{_e.indexOf(it.type)>-1&&(we=function tn(we,te){switch(te.type){case"added":if(!we[te.newIndex]||!we[te.newIndex].doc.ref.isEqual(te.doc.ref))return qt(we,te.newIndex,0,te);break;case"modified":if(null==we[te.oldIndex]||we[te.oldIndex].doc.ref.isEqual(te.doc.ref)){if(te.oldIndex!==te.newIndex){const _e=we.slice();return _e.splice(te.oldIndex,1),_e.splice(te.newIndex,0,te),_e}return qt(we,te.newIndex,1,te)}break;case"removed":if(we[te.oldIndex]&&we[te.oldIndex].doc.ref.isEqual(te.doc.ref))return qt(we,te.oldIndex,1)}return we}(we,it))}),we}(it,St.map(Te=>Te.payload),te),[]),(0,Ye.x)(),(0,he.U)(it=>it.map(St=>({type:St.type,payload:St}))))}function qt(we,te,_e,...it){const St=we.slice();return St.splice(te,_e,...it),St}function an(we){return(!we||0===we.length)&&(we=["added","removed","modified"]),we}class Or{constructor(te,_e,it){this.ref=te,this.query=_e,this.afs=it}stateChanges(te){let _e=rn(this.query,this.afs.schedulers.outsideAngular);return te&&te.length>0&&(_e=_e.pipe((0,he.U)(it=>it.filter(St=>te.indexOf(St.type)>-1)))),_e.pipe((0,ce.O)(void 0),De(),(0,nt.h)(([it,St])=>St.length>0||!it),(0,he.U)(([it,St])=>St),Ne.iC)}auditTrail(te){return this.stateChanges(te).pipe((0,be.R)((_e,it)=>[..._e,...it],[]))}snapshotChanges(te){const _e=an(te);return xr(this.query,_e,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(te={}){return Mr(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(_e=>_e.payload.docs.map(it=>te.idField?Object.assign(Object.assign({},it.data()),{[te.idField]:it.id}):it.data())),Ne.iC)}get(te){return(0,Se.D)(this.query.get(te)).pipe(Ne.iC)}add(te){return this.ref.add(te)}doc(te){return new jr(this.ref.doc(te),this.afs)}}class jr{constructor(te,_e){this.ref=te,this.afs=_e}set(te,_e){return this.ref.set(te,_e)}update(te){return this.ref.update(te)}delete(){return this.ref.delete()}collection(te,_e){const it=this.ref.collection(te),{ref:St,query:Te}=Gr(it,_e);return new Or(St,Te,this.afs)}snapshotChanges(){return function Li(we,te){return Ur(we,te).pipe((0,ce.O)(void 0),De(),(0,he.U)(([_e,it])=>it.exists?(null==_e?void 0:_e.exists)?{payload:it,type:"modified"}:{payload:it,type:"added"}:{payload:it,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(te={}){return this.snapshotChanges().pipe((0,he.U)(({payload:_e})=>te.idField?Object.assign(Object.assign({},_e.data()),{[te.idField]:_e.id}):_e.data()))}get(te){return(0,Se.D)(this.ref.get(te)).pipe(Ne.iC)}}class Pn{constructor(te,_e){this.query=te,this.afs=_e}stateChanges(te){return te&&0!==te.length?rn(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(_e=>_e.filter(it=>te.indexOf(it.type)>-1)),(0,nt.h)(_e=>_e.length>0),Ne.iC):rn(this.query,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}auditTrail(te){return this.stateChanges(te).pipe((0,be.R)((_e,it)=>[..._e,...it],[]))}snapshotChanges(te){const _e=an(te);return xr(this.query,_e,this.afs.schedulers.outsideAngular).pipe(Ne.iC)}valueChanges(te={}){return Mr(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(it=>it.payload.docs.map(St=>te.idField?Object.assign({[te.idField]:St.id},St.data()):St.data())),Ne.iC)}get(te){return(0,Se.D)(this.query.get(te)).pipe(Ne.iC)}}const Wr=new _.OlP("angularfire2.enableFirestorePersistence"),Qr=new _.OlP("angularfire2.firestore.persistenceSettings"),kr=new _.OlP("angularfire2.firestore.settings"),Tn=new _.OlP("angularfire2.firestore.use-emulator");function Gr(we,te=(_e=>_e)){return{query:te(we),ref:we}}let Jn=(()=>{class we{constructor(_e,it,St,Te,Ee,Fe,ft,rt,Zt,vn,bn,Rn,tr,yr,On,cr,si){this.schedulers=ft;const hi=(0,dt.on)(_e,Fe,it),Ti=Zt;vn&&(0,Ft.nw)(hi,Fe,bn,tr,yr,On,Rn,cr),[this.firestore,this.persistenceEnabled$]=(0,dt.cc)(`${hi.name}.firestore`,"AngularFirestore",hi.name,()=>{const ai=Fe.runOutsideAngular(()=>hi.firestore());if(Te&&ai.settings(Te),Ti&&ai.useEmulator(...Ti),St&&!(0,ht.PM)(Ee)){const ni=()=>{try{return(0,Se.D)(ai.enablePersistence(rt||void 0).then(()=>!0,()=>!1))}catch(Fr){return"undefined"!=typeof console&&console.warn(Fr),(0,de.of)(!1)}};return[ai,Fe.runOutsideAngular(ni)]}return[ai,(0,de.of)(!1)]},[Te,Ti,St])}collection(_e,it){let St;St="string"==typeof _e?this.firestore.collection(_e):_e;const{ref:Te,query:Ee}=Gr(St,it),Fe=this.schedulers.ngZone.run(()=>Te);return new Or(Fe,Ee,this)}collectionGroup(_e,it){const St=it||(Ee=>Ee),Te=this.firestore.collectionGroup(_e);return new Pn(St(Te),this)}doc(_e){let it;it="string"==typeof _e?this.firestore.doc(_e):_e;const St=this.schedulers.ngZone.run(()=>it);return new jr(St,this)}createId(){return this.firestore.collection("_").doc().id}}return we.\u0275fac=function(_e){return new(_e||we)(_.LFG(dt.Dh),_.LFG(dt.xv,8),_.LFG(Wr,8),_.LFG(kr,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ne.HU),_.LFG(Qr,8),_.LFG(Tn,8),_.LFG(Ft.zQ,8),_.LFG(Ft.Qv,8),_.LFG(Ft.L6,8),_.LFG(Ft._Q,8),_.LFG(Ft.rT,8),_.LFG(Ft.lh,8),_.LFG(Ft.f7,8),_.LFG($n.nm,8))},we.\u0275prov=_.Yz7({token:we,factory:we.\u0275fac,providedIn:"any"}),we})(),dn=(()=>{class we{constructor(){lr.Z.registerVersion("angularfire",Ne.q4.full,"fst-compat")}static enablePersistence(_e){return{ngModule:we,providers:[{provide:Wr,useValue:!0},{provide:Qr,useValue:_e}]}}}return we.\u0275fac=function(_e){return new(_e||we)},we.\u0275mod=_.oAB({type:we}),we.\u0275inj=_.cJS({providers:[Jn]}),we})()},2011:(je,ve,L)=>{"use strict";L.d(ve,{Dh:()=>me,GT:()=>Ne,cc:()=>nt,hO:()=>Ye,on:()=>ce,pX:()=>de,xv:()=>De});var _=L(5e3),Z=L(127),ie=L(6351);je=L.hmd(je);const Se=["ngOnDestroy"],de=(lt,Le,Dt,ct={})=>new Proxy(lt,{get:($e,bt)=>Dt.runOutsideAngular(()=>{var Rt;if(lt[bt])return(null===(Rt=null==ct?void 0:ct.spy)||void 0===Rt?void 0:Rt.get)&&ct.spy.get(bt,lt[bt]),lt[bt];if(Se.indexOf(bt)>-1)return()=>{};const Ut=Le.toPromise().then(ge=>{const Xt=ge&&ge[bt];return"function"==typeof Xt?Xt.bind(ge):Xt&&Xt.then?Xt.then(Xe=>Dt.run(()=>Xe)):Dt.run(()=>Xt)});return new Proxy(()=>{},{get:(ge,Xt)=>Ut[Xt],apply:(ge,Xt,Xe)=>Ut.then(st=>{var et;const ut=st&&st(...Xe);return(null===(et=null==ct?void 0:ct.spy)||void 0===et?void 0:et.apply)&&ct.spy.apply(bt,Xe,ut),ut})})})}),Ne=(lt,Le)=>{Le.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(ct=>{Object.defineProperty(lt.prototype,ct,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,ct))})})};class Ae{constructor(Le){return Le}}const me=new _.OlP("angularfire2.app.options"),De=new _.OlP("angularfire2.app.name");function ce(lt,Le,Dt){const $e="object"==typeof Dt&&Dt||{};$e.name=$e.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const Rt=Z.Z.apps.filter(Ut=>Ut&&Ut.name===$e.name)[0]||Le.runOutsideAngular(()=>Z.Z.initializeApp(lt,$e));try{JSON.stringify(lt)!==JSON.stringify(Rt.options)&&he("error",`${Rt.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ut){}return new Ae(Rt)}const he=(lt,...Le)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[lt](...Le)},be={provide:Ae,useFactory:ce,deps:[me,_.R0b,[new _.FiY,De]]};let Ye=(()=>{class lt{constructor(Dt){Z.Z.registerVersion("angularfire",ie.q4.full,"core"),Z.Z.registerVersion("angularfire",ie.q4.full,"app-compat"),Z.Z.registerVersion("angular",_.q4F.full,Dt.toString())}static initializeApp(Dt,ct){return{ngModule:lt,providers:[{provide:me,useValue:Dt},{provide:De,useValue:ct}]}}}return lt.\u0275fac=function(Dt){return new(Dt||lt)(_.LFG(_.Lbi))},lt.\u0275mod=_.oAB({type:lt}),lt.\u0275inj=_.cJS({providers:[be]}),lt})();function nt(lt,Le,Dt,ct,$e){const[,bt,Rt]=globalThis.\u0275AngularfireInstanceCache.find(Ut=>Ut[0]===lt)||[];if(bt)return function dt(lt,Le){try{return lt.toString()===Le.toString()}catch(Dt){return lt===Le}}($e,Rt)||(yt("error",`${Le} was already initialized on the ${Dt} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),yt("warn",{is:$e,was:Rt})),bt;{const Ut=ct();return globalThis.\u0275AngularfireInstanceCache.push([lt,Ut,$e]),Ut}}const ht=!!je.hot,yt=(lt,...Le)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[lt](...Le)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(je,ve,L)=>{"use strict";L.d(ve,{q4:()=>Ba,iC:()=>Ac,HU:()=>Ss,vb:()=>lu,JM:()=>Rd});var _=L(5e3),Z=L(5867),ie=L(5861),Se=L(9681),de=L(2090),Ne=L(4859),Ae=L(1877);const me="@firebase/installations",he="w:0.5.8",be="FIS_v2",lt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(B){return B instanceof de.ZR&&B.code.includes("request-failed")}function Dt({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function ct(B){return{token:B.token,requestStatus:2,expiresIn:Xe(B.expiresIn),creationTime:Date.now()}}function $e(B,W){return bt.apply(this,arguments)}function bt(){return(bt=(0,ie.Z)(function*(B,W){const Re=(yield W.json()).error;return lt.create("request-failed",{requestName:B,serverCode:Re.code,serverMessage:Re.message,serverStatus:Re.status})})).apply(this,arguments)}function Rt({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Ut(B,{refreshToken:W}){const le=Rt(B);return le.append("Authorization",function st(B){return`${be} ${B}`}(W)),le}function ge(B){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,ie.Z)(function*(B){const W=yield B();return W.status>=500&&W.status<600?B():W})).apply(this,arguments)}function Xe(B){return Number(B.replace("s","000"))}function et(B,W){return ut.apply(this,arguments)}function ut(){return(ut=(0,ie.Z)(function*({appConfig:B,heartbeatServiceProvider:W},{fid:le}){const Re=Dt(B),at=Rt(B),Ct=W.getImmediate({optional:!0});if(Ct){const Dr=yield Ct.getHeartbeatsHeader();Dr&&at.append("x-firebase-client",Dr)}const Fn={method:"POST",headers:at,body:JSON.stringify({fid:le,authVersion:be,appId:B.appId,sdkVersion:he})},Wn=yield ge(()=>fetch(Re,Fn));if(Wn.ok){const Dr=yield Wn.json();return{fid:Dr.fid||le,registrationStatus:2,refreshToken:Dr.refreshToken,authToken:ct(Dr.authToken)}}throw yield $e("Create Installation",Wn)})).apply(this,arguments)}function ot(B){return new Promise(W=>{setTimeout(W,B)})}const Pt=/^[cdef][\w-]{21}$/;function Mn(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const le=function Bt(B){return function Mt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Pt.test(le)?le:""}catch(B){return""}}function jt(B){return`${B.appName}!${B.appId}`}const cn=new Map;function dr(B,W){const le=jt(B);Gt(le,W),function kn(B,W){const le=function Un(){return!Xn&&"BroadcastChannel"in self&&(Xn=new BroadcastChannel("[Firebase] FID Change"),Xn.onmessage=B=>{Gt(B.data.key,B.data.fid)}),Xn}();le&&le.postMessage({key:B,fid:W}),function pr(){0===cn.size&&Xn&&(Xn.close(),Xn=null)}()}(le,W)}function Gt(B,W){const le=cn.get(B);if(le)for(const Re of le)Re(W)}let Xn=null;const br="firebase-installations-store";let zr=null;function Br(){return zr||(zr=(0,de.X3)("firebase-installations-database",1,(B,W)=>{0===W&&B.createObjectStore(br)})),zr}function Ft(B,W){return $n.apply(this,arguments)}function $n(){return($n=(0,ie.Z)(function*(B,W){const le=jt(B),at=(yield Br()).transaction(br,"readwrite"),Ct=at.objectStore(br),Jt=yield Ct.get(le);return yield Ct.put(W,le),yield at.complete,(!Jt||Jt.fid!==W.fid)&&dr(B,W.fid),W})).apply(this,arguments)}function lr(B){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ie.Z)(function*(B){const W=jt(B),Re=(yield Br()).transaction(br,"readwrite");yield Re.objectStore(br).delete(W),yield Re.complete})).apply(this,arguments)}function Ur(B,W){return Li.apply(this,arguments)}function Li(){return(Li=(0,ie.Z)(function*(B,W){const le=jt(B),at=(yield Br()).transaction(br,"readwrite"),Ct=at.objectStore(br),Jt=yield Ct.get(le),Fn=W(Jt);return void 0===Fn?yield Ct.delete(le):yield Ct.put(Fn,le),yield at.complete,Fn&&(!Jt||Jt.fid!==Fn.fid)&&dr(B,Fn.fid),Fn})).apply(this,arguments)}function Mr(B){return rn.apply(this,arguments)}function rn(){return(rn=(0,ie.Z)(function*(B){let W;const le=yield Ur(B.appConfig,Re=>{const at=xr(Re),Ct=er(B,at);return W=Ct.registrationPromise,Ct.installationEntry});return""===le.fid?{installationEntry:yield W}:{installationEntry:le,registrationPromise:W}})).apply(this,arguments)}function xr(B){return Pn(B||{fid:Mn(),registrationStatus:0})}function er(B,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(lt.create("app-offline"))};const le={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Re=function qt(B,W){return tn.apply(this,arguments)}(B,le);return{installationEntry:le,registrationPromise:Re}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:an(B)}:{installationEntry:W}}function tn(){return(tn=(0,ie.Z)(function*(B,W){try{const le=yield et(B,W);return Ft(B.appConfig,le)}catch(le){throw Le(le)&&409===le.customData.serverCode?yield lr(B.appConfig):yield Ft(B.appConfig,{fid:W.fid,registrationStatus:0}),le}})).apply(this,arguments)}function an(B){return Or.apply(this,arguments)}function Or(){return(Or=(0,ie.Z)(function*(B){let W=yield jr(B.appConfig);for(;1===W.registrationStatus;)yield ot(100),W=yield jr(B.appConfig);if(0===W.registrationStatus){const{installationEntry:le,registrationPromise:Re}=yield Mr(B);return Re||le}return W})).apply(this,arguments)}function jr(B){return Ur(B,W=>{if(!W)throw lt.create("installation-not-found");return Pn(W)})}function Pn(B){return function Wr(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Qr(B,W){return kr.apply(this,arguments)}function kr(){return(kr=(0,ie.Z)(function*({appConfig:B,heartbeatServiceProvider:W},le){const Re=Tn(B,le),at=Ut(B,le),Ct=W.getImmediate({optional:!0});if(Ct){const Dr=yield Ct.getHeartbeatsHeader();Dr&&at.append("x-firebase-client",Dr)}const Fn={method:"POST",headers:at,body:JSON.stringify({installation:{sdkVersion:he,appId:B.appId}})},Wn=yield ge(()=>fetch(Re,Fn));if(Wn.ok)return ct(yield Wn.json());throw yield $e("Generate Auth Token",Wn)})).apply(this,arguments)}function Tn(B,{fid:W}){return`${Dt(B)}/${W}/authTokens:generate`}function Gr(B){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,ie.Z)(function*(B,W=!1){let le;const Re=yield Ur(B.appConfig,Ct=>{if(!St(Ct))throw lt.create("not-registered");const Jt=Ct.authToken;if(!W&&Te(Jt))return Ct;if(1===Jt.requestStatus)return le=dn(B,W),Ct;{if(!navigator.onLine)throw lt.create("app-offline");const Fn=Fe(Ct);return le=_e(B,Fn),Fn}});return le?yield le:Re.authToken})).apply(this,arguments)}function dn(B,W){return we.apply(this,arguments)}function we(){return(we=(0,ie.Z)(function*(B,W){let le=yield te(B.appConfig);for(;1===le.authToken.requestStatus;)yield ot(100),le=yield te(B.appConfig);const Re=le.authToken;return 0===Re.requestStatus?Gr(B,W):Re})).apply(this,arguments)}function te(B){return Ur(B,W=>{if(!St(W))throw lt.create("not-registered");return function ft(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function _e(B,W){return it.apply(this,arguments)}function it(){return(it=(0,ie.Z)(function*(B,W){try{const le=yield Qr(B,W),Re=Object.assign(Object.assign({},W),{authToken:le});return yield Ft(B.appConfig,Re),le}catch(le){if(!Le(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Re=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Ft(B.appConfig,Re)}else yield lr(B.appConfig);throw le}})).apply(this,arguments)}function St(B){return void 0!==B&&2===B.registrationStatus}function Te(B){return 2===B.requestStatus&&!function Ee(B){const W=Date.now();return W<B.creationTime||B.creationTime+B.expiresIn<W+36e5}(B)}function Fe(B){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:W})}function Zt(){return(Zt=(0,ie.Z)(function*(B){const W=B,{installationEntry:le,registrationPromise:Re}=yield Mr(W);return Re?Re.catch(console.error):Gr(W).catch(console.error),le.fid})).apply(this,arguments)}function bn(){return(bn=(0,ie.Z)(function*(B,W=!1){const le=B;return yield Rn(le),(yield Gr(le,W)).token})).apply(this,arguments)}function Rn(B){return tr.apply(this,arguments)}function tr(){return(tr=(0,ie.Z)(function*(B){const{registrationPromise:W}=yield Mr(B);W&&(yield W)})).apply(this,arguments)}function Fr(B){return lt.create("missing-app-config-values",{valueName:B})}const Pi="installations",Vt=B=>{const W=B.getProvider("app").getImmediate(),le=function ni(B){if(!B||!B.options)throw Fr("App Configuration");if(!B.name)throw Fr("App Name");const W=["projectId","apiKey","appId"];for(const le of W)if(!B.options[le])throw Fr(le);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(W);return{app:W,appConfig:le,heartbeatServiceProvider:(0,Se._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},jn=B=>{const W=B.getProvider("app").getImmediate(),le=(0,Se._getProvider)(W,Pi).getImmediate();return{getId:()=>function rt(B){return Zt.apply(this,arguments)}(le),getToken:at=>function vn(B){return bn.apply(this,arguments)}(le,at)}};(function hr(){(0,Se._registerComponent)(new Ne.wA(Pi,Vt,"PUBLIC")),(0,Se._registerComponent)(new Ne.wA("installations-internal",jn,"PRIVATE"))})(),(0,Se.registerVersion)(me,"0.5.8"),(0,Se.registerVersion)(me,"0.5.8","esm2017");const Kr="@firebase/remote-config",Nr=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class It{constructor(W,le,Re,at){this.client=W,this.storage=le,this.storageCache=Re,this.logger=at}isCachedDataFresh(W,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-le,at=Re<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${at}.`),at}fetch(W){var le=this;return(0,ie.Z)(function*(){const[Re,at]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(at&&le.isCachedDataFresh(W.cacheMaxAgeMillis,Re))return at;W.eTag=at&&at.eTag;const Ct=yield le.client.fetch(W),Jt=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ct.status&&Jt.push(le.storage.setLastSuccessfulFetchResponse(Ct)),yield Promise.all(Jt),Ct})()}}function In(B=navigator){return B.languages&&B.languages[0]||B.language}class nr{constructor(W,le,Re,at,Ct,Jt){this.firebaseInstallations=W,this.sdkVersion=le,this.namespace=Re,this.projectId=at,this.apiKey=Ct,this.appId=Jt}fetch(W){var le=this;return(0,ie.Z)(function*(){const[Re,at]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),Jt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,Fn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},Wn={sdk_version:le.sdkVersion,app_instance_id:Re,app_instance_id_token:at,app_id:le.appId,language_code:In()},Dr={method:"POST",headers:Fn,body:JSON.stringify(Wn)},ei=fetch(Jt,Dr),Rr=new Promise((ws,as)=>{W.signal.addEventListener(()=>{const Sc=new Error("The operation was aborted.");Sc.name="AbortError",as(Sc)})});let gs;try{yield Promise.race([ei,Rr]),gs=yield ei}catch(ws){let as="fetch-client-network";throw"AbortError"===ws.name&&(as="fetch-timeout"),Nr.create(as,{originalErrorMessage:ws.message})}let ti=gs.status;const Ql=gs.headers.get("ETag")||void 0;let Xl,ml;if(200===gs.status){let ws;try{ws=yield gs.json()}catch(as){throw Nr.create("fetch-client-parse",{originalErrorMessage:as.message})}Xl=ws.entries,ml=ws.state}if("INSTANCE_STATE_UNSPECIFIED"===ml?ti=500:"NO_CHANGE"===ml?ti=304:("NO_TEMPLATE"===ml||"EMPTY_CONFIG"===ml)&&(Xl={}),304!==ti&&200!==ti)throw Nr.create("fetch-status",{httpStatus:ti});return{status:ti,eTag:Ql,config:Xl}})()}}class Zs{constructor(W,le){this.client=W,this.storage=le}fetch(W){var le=this;return(0,ie.Z)(function*(){const Re=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(W,Re)})()}attemptFetch(W,{throttleEndTimeMillis:le,backoffCount:Re}){var at=this;return(0,ie.Z)(function*(){yield function ar(B,W){return new Promise((le,Re)=>{const at=Math.max(W-Date.now(),0),Ct=setTimeout(le,at);B.addEventListener(()=>{clearTimeout(Ct),Re(Nr.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,le);try{const Ct=yield at.client.fetch(W);return yield at.storage.deleteThrottleMetadata(),Ct}catch(Ct){if(!function Bi(B){if(!(B instanceof de.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Ct))throw Ct;const Jt={throttleEndTimeMillis:Date.now()+(0,de.$s)(Re),backoffCount:Re+1};return yield at.storage.setThrottleMetadata(Jt),at.attemptFetch(W,Jt)}})()}}class pt{constructor(W,le,Re,at,Ct){this.app=W,this._client=le,this._storageCache=Re,this._storage=at,this._logger=Ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kt(B,W){const le=B.target.error||void 0;return Nr.create(W,{originalErrorMessage:le&&le.message})}const Kt="app_namespace_store";class wr{constructor(W,le,Re,at=function li(){return new Promise((B,W)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=Re=>{W(kt(Re,"storage-open"))},le.onsuccess=Re=>{B(Re.target.result)},le.onupgradeneeded=Re=>{0===Re.oldVersion&&Re.target.result.createObjectStore(Kt,{keyPath:"compositeKey"})}}catch(le){W(Nr.create("storage-open",{originalErrorMessage:le}))}})}()){this.appId=W,this.appName=le,this.namespace=Re,this.openDbPromise=at}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var le=this;return(0,ie.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((at,Ct)=>{const Fn=Re.transaction([Kt],"readonly").objectStore(Kt),Wn=le.createCompositeKey(W);try{const Dr=Fn.get(Wn);Dr.onerror=ei=>{Ct(kt(ei,"storage-get"))},Dr.onsuccess=ei=>{const Rr=ei.target.result;at(Rr?Rr.value:void 0)}}catch(Dr){Ct(Nr.create("storage-get",{originalErrorMessage:Dr&&Dr.message}))}})})()}set(W,le){var Re=this;return(0,ie.Z)(function*(){const at=yield Re.openDbPromise;return new Promise((Ct,Jt)=>{const Wn=at.transaction([Kt],"readwrite").objectStore(Kt),Dr=Re.createCompositeKey(W);try{const ei=Wn.put({compositeKey:Dr,value:le});ei.onerror=Rr=>{Jt(kt(Rr,"storage-set"))},ei.onsuccess=()=>{Ct()}}catch(ei){Jt(Nr.create("storage-set",{originalErrorMessage:ei&&ei.message}))}})})()}delete(W){var le=this;return(0,ie.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((at,Ct)=>{const Fn=Re.transaction([Kt],"readwrite").objectStore(Kt),Wn=le.createCompositeKey(W);try{const Dr=Fn.delete(Wn);Dr.onerror=ei=>{Ct(kt(ei,"storage-delete"))},Dr.onsuccess=()=>{at()}}catch(Dr){Ct(Nr.create("storage-delete",{originalErrorMessage:Dr&&Dr.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class pi{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,ie.Z)(function*(){const le=W.storage.getLastFetchStatus(),Re=W.storage.getLastSuccessfulFetchTimestampMillis(),at=W.storage.getActiveConfig(),Ct=yield le;Ct&&(W.lastFetchStatus=Ct);const Jt=yield Re;Jt&&(W.lastSuccessfulFetchTimestampMillis=Jt);const Fn=yield at;Fn&&(W.activeConfig=Fn)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function ys(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,ie.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(B){return!1}})).apply(this,arguments)}!function Ui(){(0,Se._registerComponent)(new Ne.wA("remote-config",function B(W,{instanceIdentifier:le}){const Re=W.getProvider("app").getImmediate(),at=W.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nr.create("registration-window");if(!(0,de.hl)())throw Nr.create("indexed-db-unavailable");const{projectId:Ct,apiKey:Jt,appId:Fn}=Re.options;if(!Ct)throw Nr.create("registration-project-id");if(!Jt)throw Nr.create("registration-api-key");if(!Fn)throw Nr.create("registration-app-id");const Wn=new wr(Fn,Re.name,le=le||"firebase"),Dr=new pi(Wn),ei=new Ae.Yd(Kr);ei.logLevel=Ae.in.ERROR;const Rr=new nr(at,Se.SDK_VERSION,le,Ct,Jt,Fn),gs=new Zs(Rr,Wn),ti=new It(gs,Wn,Dr,ei),Ql=new pt(Re,ti,Dr,Wn,ei);return function vt(B){const W=(0,de.m9)(B);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(Ql),Ql},"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(Kr,"0.3.7"),(0,Se.registerVersion)(Kr,"0.3.7","esm2017")}();const oo="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ni="google.c.a.c_id",Ki="google.c.a.c_l",ao="google.c.a.ts",us="google.c.a.e";var ji=(()=>{return(B=ji||(ji={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",ji;var B})();function Ar(B){const W=new Uint8Array(B);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lo(B){const le=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(le),at=new Uint8Array(Re.length);for(let Ct=0;Ct<Re.length;++Ct)at[Ct]=Re.charCodeAt(Ct);return at}const wo="fcm_token_details_db",ri="fcm_token_object_Store";function hs(B){return ko.apply(this,arguments)}function ko(){return ko=(0,ie.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ct=>Ct.name).includes(wo))return null;let W=null;return(yield(0,de.X3)(wo,5,function(){var Re=(0,ie.Z)(function*(at,Ct,Jt,Fn){var Wn;if(Ct<2||!at.objectStoreNames.contains(ri))return;const Dr=Fn.objectStore(ri),ei=yield Dr.index("fcmSenderId").get(B);if(yield Dr.clear(),ei)if(2===Ct){const Rr=ei;if(!Rr.auth||!Rr.p256dh||!Rr.endpoint)return;W={token:Rr.fcmToken,createTime:null!==(Wn=Rr.createTime)&&void 0!==Wn?Wn:Date.now(),subscriptionOptions:{auth:Rr.auth,p256dh:Rr.p256dh,endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:"string"==typeof Rr.vapidKey?Rr.vapidKey:Ar(Rr.vapidKey)}}}else if(3===Ct){const Rr=ei;W={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:Ar(Rr.auth),p256dh:Ar(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:Ar(Rr.vapidKey)}}}else if(4===Ct){const Rr=ei;W={token:Rr.fcmToken,createTime:Rr.createTime,subscriptionOptions:{auth:Ar(Rr.auth),p256dh:Ar(Rr.p256dh),endpoint:Rr.endpoint,swScope:Rr.swScope,vapidKey:Ar(Rr.vapidKey)}}}});return function(at,Ct,Jt,Fn){return Re.apply(this,arguments)}}())).close(),yield(0,de.Lj)(wo),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Ys(W)?W:null}),ko.apply(this,arguments)}function Ys(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:W}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const Hi="firebase-messaging-store";let Co=null;function Qs(){return Co||(Co=(0,de.X3)("firebase-messaging-database",1,(B,W)=>{0===W&&B.createObjectStore(Hi)})),Co}function Ir(B){return $.apply(this,arguments)}function $(){return($=(0,ie.Z)(function*(B){const W=wt(B),Re=yield(yield Qs()).transaction(Hi).objectStore(Hi).get(W);if(Re)return Re;{const at=yield hs(B.appConfig.senderId);if(at)return yield se(B,at),at}})).apply(this,arguments)}function se(B,W){return H.apply(this,arguments)}function H(){return(H=(0,ie.Z)(function*(B,W){const le=wt(B),at=(yield Qs()).transaction(Hi,"readwrite");return yield at.objectStore(Hi).put(W,le),yield at.complete,W})).apply(this,arguments)}function ue(B){return Be.apply(this,arguments)}function Be(){return(Be=(0,ie.Z)(function*(B){const W=wt(B),Re=(yield Qs()).transaction(Hi,"readwrite");yield Re.objectStore(Hi).delete(W),yield Re.complete})).apply(this,arguments)}function wt({appConfig:B}){return B.appId}const un=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $r(B,W){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,ie.Z)(function*(B,W){const le=yield Ds(B),Re=zn(W),at={method:"POST",headers:le,body:JSON.stringify(Re)};let Ct;try{Ct=yield(yield fetch(Lr(B.appConfig),at)).json()}catch(Jt){throw un.create("token-subscribe-failed",{errorInfo:Jt})}if(Ct.error)throw un.create("token-subscribe-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw un.create("token-subscribe-no-token");return Ct.token})).apply(this,arguments)}function rr(B,W){return gr.apply(this,arguments)}function gr(){return(gr=(0,ie.Z)(function*(B,W){const le=yield Ds(B),Re=zn(W.subscriptionOptions),at={method:"PATCH",headers:le,body:JSON.stringify(Re)};let Ct;try{Ct=yield(yield fetch(`${Lr(B.appConfig)}/${W.token}`,at)).json()}catch(Jt){throw un.create("token-update-failed",{errorInfo:Jt})}if(Ct.error)throw un.create("token-update-failed",{errorInfo:Ct.error.message});if(!Ct.token)throw un.create("token-update-no-token");return Ct.token})).apply(this,arguments)}function oi(B,W){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,ie.Z)(function*(B,W){const Re={method:"DELETE",headers:yield Ds(B)};try{const Ct=yield(yield fetch(`${Lr(B.appConfig)}/${W}`,Re)).json();if(Ct.error)throw un.create("token-unsubscribe-failed",{errorInfo:Ct.error.message})}catch(at){throw un.create("token-unsubscribe-failed",{errorInfo:at})}})).apply(this,arguments)}function Lr({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function Ds(B){return is.apply(this,arguments)}function is(){return(is=(0,ie.Z)(function*({appConfig:B,installations:W}){const le=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function zn({p256dh:B,auth:W,endpoint:le,vapidKey:Re}){const at={web:{endpoint:le,auth:W,p256dh:B}};return Re!==ki&&(at.web.applicationPubKey=Re),at}const Cs=6048e5;function Is(B){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ie.Z)(function*(B){const W=yield Dn(B.swRegistration,B.vapidKey),le={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:W.endpoint,auth:Ar(W.getKey("auth")),p256dh:Ar(W.getKey("p256dh"))},Re=yield Ir(B.firebaseDependencies);if(Re){if(xi(Re.subscriptionOptions,le))return Date.now()>=Re.createTime+Cs?U(B,{token:Re.token,createTime:Date.now(),subscriptionOptions:le}):Re.token;try{yield oi(B.firebaseDependencies,Re.token)}catch(at){console.warn(at)}return Y(B.firebaseDependencies,le)}return Y(B.firebaseDependencies,le)})).apply(this,arguments)}function co(B){return z.apply(this,arguments)}function z(){return(z=(0,ie.Z)(function*(B){const W=yield Ir(B.firebaseDependencies);W&&(yield oi(B.firebaseDependencies,W.token),yield ue(B.firebaseDependencies));const le=yield B.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function U(B,W){return V.apply(this,arguments)}function V(){return(V=(0,ie.Z)(function*(B,W){try{const le=yield rr(B.firebaseDependencies,W),Re=Object.assign(Object.assign({},W),{token:le,createTime:Date.now()});return yield se(B.firebaseDependencies,Re),le}catch(le){throw yield co(B),le}})).apply(this,arguments)}function Y(B,W){return Je.apply(this,arguments)}function Je(){return(Je=(0,ie.Z)(function*(B,W){const Re={token:yield $r(B,W),createTime:Date.now(),subscriptionOptions:W};return yield se(B,Re),Re.token})).apply(this,arguments)}function Dn(B,W){return ir.apply(this,arguments)}function ir(){return(ir=(0,ie.Z)(function*(B,W){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lo(W)})})).apply(this,arguments)}function xi(B,W){return W.vapidKey===B.vapidKey&&W.endpoint===B.endpoint&&W.auth===B.auth&&W.p256dh===B.p256dh}function Ji(B){const W={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function qi(B,W){if(!W.notification)return;B.notification={};const le=W.notification.title;le&&(B.notification.title=le);const Re=W.notification.body;Re&&(B.notification.body=Re);const at=W.notification.image;at&&(B.notification.image=at)}(W,B),function Ts(B,W){!W.data||(B.data=W.data)}(W,B),function Vs(B,W){if(!W.fcmOptions)return;B.fcmOptions={};const le=W.fcmOptions.link;le&&(B.fcmOptions.link=le);const Re=W.fcmOptions.analytics_label;Re&&(B.fcmOptions.analyticsLabel=Re)}(W,B),W}function _a(B){return"object"==typeof B&&!!B&&Ni in B}function va(B,W){const le=[];for(let Re=0;Re<B.length;Re++)le.push(B.charAt(Re)),Re<W.length&&le.push(W.charAt(Re));return le.join("")}function _s(B){return un.create("missing-app-config-values",{valueName:B})}va("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),va("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fs{constructor(W,le,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const at=function ba(B){if(!B||!B.options)throw _s("App Configuration Object");if(!B.name)throw _s("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:le}=B;for(const Re of W)if(!le[Re])throw _s(Re);return{appName:B.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:at,installations:le,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function Bs(B){return wa.apply(this,arguments)}function wa(){return(wa=(0,ie.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(oo,{scope:Gi}),B.swRegistration.update().catch(()=>{})}catch(W){throw un.create("failed-service-worker-registration",{browserErrorMessage:W.message})}})).apply(this,arguments)}function Xs(B,W){return Js.apply(this,arguments)}function Js(){return(Js=(0,ie.Z)(function*(B,W){if(!W&&!B.swRegistration&&(yield Bs(B)),W||!B.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");B.swRegistration=W}})).apply(this,arguments)}function ta(B,W){return jo.apply(this,arguments)}function jo(){return(jo=(0,ie.Z)(function*(B,W){W?B.vapidKey=W:B.vapidKey||(B.vapidKey=ki)})).apply(this,arguments)}function Ea(){return(Ea=(0,ie.Z)(function*(B,W){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield ta(B,null==W?void 0:W.vapidKey),yield Xs(B,null==W?void 0:W.serviceWorkerRegistration),Is(B)})).apply(this,arguments)}function $o(B,W,le){return Us.apply(this,arguments)}function Us(){return(Us=(0,ie.Z)(function*(B,W,le){const Re=na(W);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:le[Ni],message_name:le[Ki],message_time:le[ao],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function na(B){switch(B){case ji.NOTIFICATION_CLICKED:return"notification_open";case ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ra(){return(Ra=(0,ie.Z)(function*(B,W){const le=W.data;if(!le.isFirebaseMessaging)return;B.onMessageHandler&&le.messageType===ji.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Ji(le)):B.onMessageHandler.next(Ji(le)));const Re=le.data;_a(Re)&&"1"===Re[us]&&(yield $o(B,le.messageType,Re))})).apply(this,arguments)}const zo="@firebase/messaging",Da=B=>{const W=new fs(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function ra(B,W){return Ra.apply(this,arguments)}(W,le)),W},ho=B=>{const W=B.getProvider("messaging").getImmediate();return{getToken:Re=>function Ho(B,W){return Ea.apply(this,arguments)}(W,Re)}};function qa(){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,ie.Z)(function*(){try{yield(0,de.eu)()}catch(B){return!1}return"undefined"!=typeof window&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ca(){(0,Se._registerComponent)(new Ne.wA("messaging",Da,"PUBLIC")),(0,Se._registerComponent)(new Ne.wA("messaging-internal",ho,"PRIVATE")),(0,Se.registerVersion)(zo,"0.9.12"),(0,Se.registerVersion)(zo,"0.9.12","esm2017")}();const Ya="analytics",Ia="firebase_id",No="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Na="https://www.googletagmanager.com/gtag/js",Ai=new Ae.Yd("@firebase/analytics");function Zi(B){return Promise.all(B.map(W=>W.catch(le=>le)))}function Qa(B,W){const le=document.createElement("script");le.src=`${Na}?l=${B}&id=${W}`,le.async=!0,document.head.appendChild(le)}function ps(B,W,le,Re,at,Ct){return sa.apply(this,arguments)}function sa(){return(sa=(0,ie.Z)(function*(B,W,le,Re,at,Ct){const Jt=Re[at];try{if(Jt)yield W[Jt];else{const Wn=(yield Zi(le)).find(Dr=>Dr.measurementId===at);Wn&&(yield W[Wn.appId])}}catch(Fn){Ai.error(Fn)}B("config",at,Ct)})).apply(this,arguments)}function gi(B,W,le,Re,at){return ss.apply(this,arguments)}function ss(){return(ss=(0,ie.Z)(function*(B,W,le,Re,at){try{let Ct=[];if(at&&at.send_to){let Jt=at.send_to;Array.isArray(Jt)||(Jt=[Jt]);const Fn=yield Zi(le);for(const Wn of Jt){const Dr=Fn.find(Rr=>Rr.measurementId===Wn),ei=Dr&&W[Dr.appId];if(!ei){Ct=[];break}Ct.push(ei)}}0===Ct.length&&(Ct=Object.values(W)),yield Promise.all(Ct),B("event",Re,at||{})}catch(Ct){Ai.error(Ct)}})).apply(this,arguments)}function Tl(){const B=window.document.getElementsByTagName("script");for(const W of Object.values(B))if(W.src&&W.src.includes(Na))return W;return null}const Vr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),M=new class _n{constructor(W={},le=1e3){this.throttleMetadata=W,this.intervalMillis=le}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,le){this.throttleMetadata[W]=le}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function k(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function q(B){return re.apply(this,arguments)}function re(){return(re=(0,ie.Z)(function*(B){var W;const{appId:le,apiKey:Re}=B,at={method:"GET",headers:k(Re)},Ct=No.replace("{app-id}",le),Jt=yield fetch(Ct,at);if(200!==Jt.status&&304!==Jt.status){let Fn="";try{const Wn=yield Jt.json();(null===(W=Wn.error)||void 0===W?void 0:W.message)&&(Fn=Wn.error.message)}catch(Wn){}throw Vr.create("config-fetch-failed",{httpStatus:Jt.status,responseMessage:Fn})}return Jt.json()})).apply(this,arguments)}function Ge(B){return ln.apply(this,arguments)}function ln(){return(ln=(0,ie.Z)(function*(B,W=M,le){const{appId:Re,apiKey:at,measurementId:Ct}=B.options;if(!Re)throw Vr.create("no-app-id");if(!at){if(Ct)return{measurementId:Ct,appId:Re};throw Vr.create("no-api-key")}const Jt=W.getThrottleMetadata(Re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fn=new La;return setTimeout((0,ie.Z)(function*(){Fn.abort()}),void 0!==le?le:6e4),wi({appId:Re,apiKey:at,measurementId:Ct},Jt,Fn,W)})).apply(this,arguments)}function wi(B,W,le){return Si.apply(this,arguments)}function Si(){return(Si=(0,ie.Z)(function*(B,{throttleEndTimeMillis:W,backoffCount:le},Re,at=M){const{appId:Ct,measurementId:Jt}=B;try{yield vs(Re,W)}catch(Fn){if(Jt)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${Fn.message}]`),{appId:Ct,measurementId:Jt};throw Fn}try{const Fn=yield q(B);return at.deleteThrottleMetadata(Ct),Fn}catch(Fn){if(!oa(Fn)){if(at.deleteThrottleMetadata(Ct),Jt)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${Fn.message}]`),{appId:Ct,measurementId:Jt};throw Fn}const Wn=503===Number(Fn.customData.httpStatus)?(0,de.$s)(le,at.intervalMillis,30):(0,de.$s)(le,at.intervalMillis),Dr={throttleEndTimeMillis:Date.now()+Wn,backoffCount:le+1};return at.setThrottleMetadata(Ct,Dr),Ai.debug(`Calling attemptFetch again in ${Wn} millis`),wi(B,Dr,Re,at)}})).apply(this,arguments)}function vs(B,W){return new Promise((le,Re)=>{const at=Math.max(W-Date.now(),0),Ct=setTimeout(le,at);B.addEventListener(()=>{clearTimeout(Ct),Re(Vr.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function oa(B){if(!(B instanceof de.ZR&&B.customData))return!1;const W=Number(B.customData.httpStatus);return 429===W||500===W||503===W||504===W}class La{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function xl(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,ie.Z)(function*(){if(!(0,de.hl)())return Ai.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(B){return Ai.warn(Vr.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function Ko(){return(Ko=(0,ie.Z)(function*(B,W,le,Re,at,Ct,Jt){var Fn;const Wn=Ge(B);Wn.then(ti=>{le[ti.measurementId]=ti.appId,B.options.measurementId&&ti.measurementId!==B.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ti=>Ai.error(ti)),W.push(Wn);const Dr=xl().then(ti=>{if(ti)return Re.getId()}),[ei,Rr]=yield Promise.all([Wn,Dr]);Tl()||Qa(Ct,ei.measurementId),at("js",new Date);const gs=null!==(Fn=null==Jt?void 0:Jt.config)&&void 0!==Fn?Fn:{};return gs.origin="firebase",gs.update=!0,null!=Rr&&(gs[Ia]=Rr),at("config",ei.measurementId,gs),ei.measurementId})).apply(this,arguments)}class bs{constructor(W){this.app=W}_delete(){return delete xs[this.app.options.appId],Promise.resolve()}}let xs={},R=[];const A={};let K,ne,x="dataLayer",Oe=!1;function hn(B,W,le){!function Ot(){const B=[];if((0,de.ru)()&&B.push("This is a browser extension environment."),(0,de.zI)()||B.push("Cookies are not available."),B.length>0){const W=B.map((Re,at)=>`(${at+1}) ${Re}`).join(" "),le=Vr.create("invalid-analytics-context",{errorInfo:W});Ai.warn(le.message)}}();const Re=B.options.appId;if(!Re)throw Vr.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Vr.create("no-api-key");Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xs[Re])throw Vr.create("already-exists",{id:Re});if(!Oe){!function Ps(B){let W=[];Array.isArray(window[B])?W=window[B]:window[B]=W}(x);const{wrappedGtag:Ct,gtagCore:Jt}=function Xa(B,W,le,Re,at){let Ct=function(...Jt){window[Re].push(arguments)};return window[at]&&"function"==typeof window[at]&&(Ct=window[at]),window[at]=function Io(B,W,le,Re){function Ct(){return(Ct=(0,ie.Z)(function*(Jt,Fn,Wn){try{"event"===Jt?yield gi(B,W,le,Fn,Wn):"config"===Jt?yield ps(B,W,le,Re,Fn,Wn):B("set",Fn)}catch(Dr){Ai.error(Dr)}})).apply(this,arguments)}return function at(Jt,Fn,Wn){return Ct.apply(this,arguments)}}(Ct,B,W,le),{gtagCore:Ct,wrappedGtag:window[at]}}(xs,R,A,x,"gtag");ne=Ct,K=Jt,Oe=!0}return xs[Re]=function Fa(B,W,le,Re,at,Ct,Jt){return Ko.apply(this,arguments)}(B,R,A,W,K,x,le),new bs(B)}function Bn(){return(Bn=(0,ie.Z)(function*(B,W,le,Re,at){if(at&&at.global)B("event",le,Re);else{const Ct=yield W;B("event",le,Object.assign(Object.assign({},Re),{send_to:Ct}))}})).apply(this,arguments)}function aa(){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,ie.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(B){return!1}})).apply(this,arguments)}const ks="@firebase/analytics";!function Al(){(0,Se._registerComponent)(new Ne.wA(Ya,(W,{options:le})=>hn(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,Se._registerComponent)(new Ne.wA("analytics-internal",function B(W){try{const le=W.getProvider(Ya).getImmediate();return{logEvent:(Re,at,Ct)=>function mn(B,W,le,Re){B=(0,de.m9)(B),function Cn(B,W,le,Re,at){return Bn.apply(this,arguments)}(ne,xs[B.app.options.appId],W,le,Re).catch(at=>Ai.error(at))}(le,Re,at,Ct)}}catch(le){throw Vr.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,Se.registerVersion)(ks,"0.7.8"),(0,Se.registerVersion)(ks,"0.7.8","esm2017")}();var Zo=L(233),la=L(4986),tl=L(8505),os=L(9468),Va=L(5363);const Ba=new _.GfV("7.3.0"),nl="__angularfire_symbol__analyticsIsSupportedValue",gl="__angularfire_symbol__analyticsIsSupported",Yi="__angularfire_symbol__remoteConfigIsSupportedValue",po="__angularfire_symbol__remoteConfigIsSupported",ql="__angularfire_symbol__messagingIsSupportedValue",go="__angularfire_symbol__messagingIsSupported";function Rd(B,W,le){if(W){if(1===W.length)return W[0];const Ct=W.filter(Jt=>Jt.app===le);if(1===Ct.length)return Ct[0]}return le.container.getProvider(B).getImmediate({optional:!0})}globalThis[gl]||(globalThis[gl]=aa().then(B=>globalThis[nl]=B).catch(()=>globalThis[nl]=!1)),globalThis[go]||(globalThis[go]=qa().then(B=>globalThis[ql]=B).catch(()=>globalThis[ql]=!1)),globalThis[po]||(globalThis[po]=ys().then(B=>globalThis[Yi]=B).catch(()=>globalThis[Yi]=!1));const lu=(B,W)=>{const le=W?[W]:(0,Z.C6)(),Re=[];return le.forEach(at=>{at.container.getProvider(B).instances.forEach(Jt=>{Re.includes(Jt)||Re.push(Jt)})}),Re};function Qi(){}class to{constructor(W,le=Zo.N){this.zone=W,this.delegate=le}now(){return this.delegate.now()}schedule(W,le,Re){const at=this.zone;return this.delegate.schedule(function(Jt){at.runGuarded(()=>{W.apply(this,[Jt])})},le,Re)}}class Oi{constructor(W){this.zone=W,this.task=null}call(W,le){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),le.pipe((0,tl.b)({next:Re,complete:Re,error:Re})).subscribe(W).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ss=(()=>{class B{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new to(Zone.current)),this.insideAngular=le.run(()=>new to(Zone.current,la.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(le){return new(le||B)(_.LFG(_.R0b))},B.\u0275prov=_.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function ca(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function Ac(B){return ca(),function ja(B){return function(le){return(le=le.lift(new Oi(B.ngZone))).pipe((0,os.R)(B.outsideAngular),(0,Va.Q)(B.insideAngular))}}(ca())(B)}},5525:(je,ve,L)=>{"use strict";L.d(ve,{u7:()=>Wl,Jj:()=>Me,IX:()=>Jo,my:()=>Ws,xU:()=>Ad,Lz:()=>ee,WA:()=>Ge,F8:()=>Ke,$q:()=>Lf,W:()=>Sd,EK:()=>K,PU:()=>Dc,l7:()=>Ja,Ky:()=>mn,Xb:()=>_r,Cf:()=>Ei,K9:()=>k,Me:()=>$s,yq:()=>Lo,Wi:()=>Gg,ET:()=>vy,Ab:()=>Dy,vr:()=>em,Fc:()=>u,hJ:()=>uy,B$:()=>Zg,at:()=>Rm,oe:()=>Xy,AK:()=>Ey,TF:()=>y,JU:()=>Yg,ST:()=>l,fH:()=>a,Ix:()=>g,Wu:()=>Wy,Lx:()=>yy,qY:()=>Gs,GL:()=>Ih,QT:()=>Cc,kl:()=>_y,Xk:()=>qy,PL:()=>Zy,UQ:()=>Yy,zN:()=>Qy,nP:()=>Cy,b9:()=>$y,vh:()=>gy,Pb:()=>T,L$:()=>P,cf:()=>Jy,sc:()=>by,Xo:()=>Hy,IO:()=>Uy,iE:()=>ju,Eo:()=>km,i3:()=>wy,Bt:()=>Hm,pl:()=>jm,Ub:()=>Tl,qK:()=>By,TQ:()=>zy,e0:()=>Vf,r7:()=>Hp,Mx:()=>h,ar:()=>py});var me,_=L(5861),Z=L(9681),ie=L(4859),Se=L(1877),de=L(2090),Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ae={},De=De||{},ce=Ne||self;function he(){}function be(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ye(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var dt="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function yt(i,e,n){return i.call.apply(i.bind,arguments)}function lt(i,e,n){if(!i)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(f,c),i.apply(e,f)}}return function(){return i.apply(e,arguments)}}function Le(i,e,n){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yt:lt).apply(null,arguments)}function Dt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var c=n.slice();return c.push.apply(c,arguments),i.apply(this,c)}}function ct(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(c,f,w){for(var I=Array(arguments.length-2),N=2;N<arguments.length;N++)I[N-2]=arguments[N];return e.prototype[f].apply(c,I)}}function $e(){this.s=this.s,this.o=this.o}var Rt={};$e.prototype.s=!1,$e.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function nt(i){return Object.prototype.hasOwnProperty.call(i,dt)&&i[dt]||(i[dt]=++ht)}(this);delete Rt[i]}},$e.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ut=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},ge=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const c=i.length,f="string"==typeof i?i.split(""):i;for(let w=0;w<c;w++)w in f&&e.call(n,f[w],w,i)};function Xe(i){return Array.prototype.concat.apply([],arguments)}function st(i){const e=i.length;if(0<e){const n=Array(e);for(let c=0;c<e;c++)n[c]=i[c];return n}return[]}function et(i){return/^[\s\xa0]*$/.test(i)}var Pt,ut=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ot(i,e){return-1!=i.indexOf(e)}function Mt(i,e){return i<e?-1:i>e?1:0}e:{var gn=ce.navigator;if(gn){var Mn=gn.userAgent;if(Mn){Pt=Mn;break e}}Pt=""}function Bt(i,e,n){for(const c in i)e.call(n,i[c],c,i)}function jt(i){const e={};for(const n in i)e[n]=i[n];return e}var cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dr(i,e){let n,c;for(let f=1;f<arguments.length;f++){for(n in c=arguments[f],c)i[n]=c[n];for(let w=0;w<cn.length;w++)n=cn[w],Object.prototype.hasOwnProperty.call(c,n)&&(i[n]=c[n])}}function on(i){return on[" "](i),i}on[" "]=he;var br,i,Gt=ot(Pt,"Opera"),kn=ot(Pt,"Trident")||ot(Pt,"MSIE"),Xn=ot(Pt,"Edge"),Un=Xn||kn,pr=ot(Pt,"Gecko")&&!(ot(Pt.toLowerCase(),"webkit")&&!ot(Pt,"Edge"))&&!(ot(Pt,"Trident")||ot(Pt,"MSIE"))&&!ot(Pt,"Edge"),vr=ot(Pt.toLowerCase(),"webkit")&&!ot(Pt,"Edge");function Tr(){var i=ce.document;return i?i.documentMode:void 0}e:{var zr="",Br=(i=Pt,pr?/rv:([^\);]+)(\)|;)/.exec(i):Xn?/Edge\/([\d\.]+)/.exec(i):kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):vr?/WebKit\/(\S+)/.exec(i):Gt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Br&&(zr=Br?Br[1]:""),kn){var Ft=Tr();if(null!=Ft&&Ft>parseFloat(zr)){br=String(Ft);break e}}br=zr}var $n={};var Li=ce.document&&kn&&(Tr()||parseInt(br,10))||void 0,Mr=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ce.addEventListener("test",he,e),ce.removeEventListener("test",he,e)}catch(n){}return i}();function rn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function xr(i,e){if(rn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,c=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(pr){e:{try{on(e.nodeName);var f=!0;break e}catch(w){}f=!1}f||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:er[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&xr.Z.h.call(this)}}rn.prototype.h=function(){this.defaultPrevented=!0},ct(xr,rn);var er={2:"touch",3:"pen",4:"mouse"};xr.prototype.h=function(){xr.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),tn=0;function an(i,e,n,c,f){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!c,this.ia=f,this.key=++tn,this.ca=this.fa=!1}function Or(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function jr(i){this.src=i,this.g={},this.h=0}function Pn(i,e){var n=e.type;if(n in i.g){var w,c=i.g[n],f=Ut(c,e);(w=0<=f)&&Array.prototype.splice.call(c,f,1),w&&(Or(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Wr(i,e,n,c){for(var f=0;f<i.length;++f){var w=i[f];if(!w.ca&&w.listener==e&&w.capture==!!n&&w.ia==c)return f}return-1}jr.prototype.add=function(i,e,n,c,f){var w=i.toString();(i=this.g[w])||(i=this.g[w]=[],this.h++);var I=Wr(i,e,c,f);return-1<I?(e=i[I],n||(e.fa=!1)):((e=new an(e,this.src,w,!!c,f)).fa=n,i.push(e)),e};var Qr="closure_lm_"+(1e6*Math.random()|0),kr={};function Tn(i,e,n,c,f){if(c&&c.once)return dn(i,e,n,c,f);if(Array.isArray(e)){for(var w=0;w<e.length;w++)Tn(i,e[w],n,c,f);return null}return n=Ee(n),i&&i[qt]?i.N(e,n,Ye(c)?!!c.capture:!!c,f):Gr(i,e,n,!1,c,f)}function Gr(i,e,n,c,f,w){if(!e)throw Error("Invalid event type");var I=Ye(f)?!!f.capture:!!f,N=St(i);if(N||(i[Qr]=N=new jr(i)),(n=N.add(e,n,c,I,w)).proxy)return n;if(c=function Jn(){var e=it;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=c,c.src=i,c.listener=n,i.addEventListener)Mr||(f=I),void 0===f&&(f=!1),i.addEventListener(e.toString(),c,f);else if(i.attachEvent)i.attachEvent(_e(e.toString()),c);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(c)}return n}function dn(i,e,n,c,f){if(Array.isArray(e)){for(var w=0;w<e.length;w++)dn(i,e[w],n,c,f);return null}return n=Ee(n),i&&i[qt]?i.O(e,n,Ye(c)?!!c.capture:!!c,f):Gr(i,e,n,!0,c,f)}function we(i,e,n,c,f){if(Array.isArray(e))for(var w=0;w<e.length;w++)we(i,e[w],n,c,f);else c=Ye(c)?!!c.capture:!!c,n=Ee(n),i&&i[qt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Wr(w=i.g[e],n,c,f))&&(Or(w[n]),Array.prototype.splice.call(w,n,1),0==w.length&&(delete i.g[e],i.h--))):i&&(i=St(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Wr(e,n,c,f)),(n=-1<i?e[i]:null)&&te(n))}function te(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[qt])Pn(e.i,i);else{var n=i.type,c=i.proxy;e.removeEventListener?e.removeEventListener(n,c,i.capture):e.detachEvent?e.detachEvent(_e(n),c):e.addListener&&e.removeListener&&e.removeListener(c),(n=St(e))?(Pn(n,i),0==n.h&&(n.src=null,e[Qr]=null)):Or(i)}}}function _e(i){return i in kr?kr[i]:kr[i]="on"+i}function it(i,e){if(i.ca)i=!0;else{e=new xr(e,this);var n=i.listener,c=i.ia||i.src;i.fa&&te(i),i=n.call(c,e)}return i}function St(i){return(i=i[Qr])instanceof jr?i:null}var Te="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(i){return"function"==typeof i?i:(i[Te]||(i[Te]=function(e){return i.handleEvent(e)}),i[Te])}function Fe(){$e.call(this),this.i=new jr(this),this.P=this,this.I=null}function ft(i,e){var n,c=i.I;if(c)for(n=[];c;c=c.I)n.push(c);if(i=i.P,c=e.type||e,"string"==typeof e)e=new rn(e,i);else if(e instanceof rn)e.target=e.target||i;else{var f=e;dr(e=new rn(c,i),f)}if(f=!0,n)for(var w=n.length-1;0<=w;w--){var I=e.g=n[w];f=rt(I,c,!0,e)&&f}if(f=rt(I=e.g=i,c,!0,e)&&f,f=rt(I,c,!1,e)&&f,n)for(w=0;w<n.length;w++)f=rt(I=e.g=n[w],c,!1,e)&&f}function rt(i,e,n,c){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var f=!0,w=0;w<e.length;++w){var I=e[w];if(I&&!I.ca&&I.capture==n){var N=I.listener,J=I.ia||I.src;I.fa&&Pn(i.i,I),f=!1!==N.call(J,c)&&f}}return f&&!c.defaultPrevented}ct(Fe,$e),Fe.prototype[qt]=!0,Fe.prototype.removeEventListener=function(i,e,n,c){we(this,i,e,n,c)},Fe.prototype.M=function(){if(Fe.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],c=0;c<n.length;c++)Or(n[c]);delete i.g[e],i.h--}}this.I=null},Fe.prototype.N=function(i,e,n,c){return this.i.add(String(i),e,!1,n,c)},Fe.prototype.O=function(i,e,n,c){return this.i.add(String(i),e,!0,n,c)};var Zt=ce.JSON.stringify;function vn(){var i=Ti;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var cr,Rn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new tr,i=>i.reset());class tr{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yr(i){ce.setTimeout(()=>{throw i},0)}function On(i,e){cr||function si(){var i=ce.Promise.resolve(void 0);cr=function(){i.then(ai)}}(),hi||(cr(),hi=!0),Ti.add(i,e)}var hi=!1,Ti=new class bn{constructor(){this.h=this.g=null}add(e,n){const c=Rn.get();c.set(e,n),this.h?this.h.next=c:this.g=c,this.h=c}};function ai(){for(var i;i=vn();){try{i.h.call(i.g)}catch(n){yr(n)}var e=Rn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}hi=!1}function ni(i,e){Fe.call(this),this.h=i||1,this.g=e||ce,this.j=Le(this.kb,this),this.l=Date.now()}function Fr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Pi(i,e,n){if("function"==typeof i)n&&(i=Le(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Le(i.handleEvent,i)}return 2147483647<Number(e)?-1:ce.setTimeout(i,e||0)}function Nn(i){i.g=Pi(()=>{i.g=null,i.i&&(i.i=!1,Nn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ct(ni,Fe),(me=ni.prototype).da=!1,me.S=null,me.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ft(this,"tick"),this.da&&(Fr(this),this.start()))}},me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.M=function(){ni.Z.M.call(this),Fr(this),delete this.g};class Vt extends $e{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Nn(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(i){$e.call(this),this.h=i,this.g={}}ct(jn,$e);var hr=[];function Kr(i,e,n,c){Array.isArray(n)||(n&&(hr[0]=n.toString()),n=hr);for(var f=0;f<n.length;f++){var w=Tn(e,n[f],c||i.handleEvent,!1,i.h||i);if(!w)break;i.g[w.key]=w}}function Fi(i){Bt(i.g,function(e,n){this.g.hasOwnProperty(n)&&te(e)},i),i.g={}}function Hr(){this.g=!0}function Nr(i,e,n,c){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var c=n[i];if(!(2>c.length)){var f=c[1];if(Array.isArray(f)&&!(1>f.length)){var w=f[0];if("noop"!=w&&"stop"!=w&&"close"!=w)for(var I=1;I<f.length;I++)f[I]=""}}}return Zt(n)}catch(N){return e}}(i,n)+(c?" "+c:"")})}jn.prototype.M=function(){jn.Z.M.call(this),Fi(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hr.prototype.Aa=function(){this.g=!1},Hr.prototype.info=function(){};var Xr={},Vi=null;function vi(){return Vi=Vi||new Fe}function bi(i){rn.call(this,Xr.Ma,i)}function Zr(i){const e=vi();ft(e,new bi(e,i))}function Sn(i,e){rn.call(this,Xr.STAT_EVENT,i),this.stat=e}function Ce(i){const e=vi();ft(e,new Sn(e,i))}function vt(i,e){rn.call(this,Xr.Na,i),this.size=e}function qe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){i()},e)}Xr.Ma="serverreachability",ct(bi,rn),Xr.STAT_EVENT="statevent",ct(Sn,rn),Xr.Na="timingevent",ct(vt,rn);var _t={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ht={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $t(){}function Pe(){}$t.prototype.h=null;var It,xe={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ye(){rn.call(this,"d")}function ze(){rn.call(this,"c")}function In(){}function nr(i,e,n,c){this.l=i,this.j=e,this.m=n,this.X=c||1,this.V=new jn(this),this.P=Bi,this.W=new ni(i=Un?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ar}function ar(){this.i=null,this.g="",this.h=!1}ct(ye,rn),ct(ze,rn),ct(In,$t),In.prototype.g=function(){return new XMLHttpRequest},In.prototype.i=function(){return{}},It=new In;var Bi=45e3,Zs={},Qe={};function We(i,e,n){i.K=1,i.v=lo(Ki(e)),i.s=n,i.U=!0,pt(i,null)}function pt(i,e){i.F=Date.now(),Yn(i),i.A=Ki(i.v);var n=i.A,c=i.X;Array.isArray(c)||(c=[String(c)]),H(n.h,"t",c),i.C=0,n=i.l.H,i.h=new ar,i.g=Go(i.l,n?e:null,!i.s),0<i.O&&(i.L=new Vt(Le(i.Ia,i,i.g),i.O)),Kr(i.V,i.g,"readystatechange",i.gb),e=i.H?jt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Zr(1),function fi(i,e,n,c,f,w){i.info(function(){if(i.g)if(w)for(var I="",N=w.split("&"),J=0;J<N.length;J++){var ae=N[J].split("=");if(1<ae.length){var ke=ae[0];ae=ae[1];var Ze=ke.split("_");I=2<=Ze.length&&"type"==Ze[1]?I+(ke+"=")+ae+"&":I+(ke+"=redacted&")}}else I=null;else I=w;return"XMLHTTP REQ ("+c+") [attempt "+f+"]: "+e+"\n"+n+"\n"+I})}(i.j,i.u,i.A,i.m,i.X,i.s)}function kt(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Kt(i,e,n){let f,c=!0;for(;!i.I&&i.C<n.length;){if(f=pn(i,n),f==Qe){4==e&&(i.o=4,Ce(14),c=!1),Nr(i.j,i.m,null,"[Incomplete Response]");break}if(f==Zs){i.o=4,Ce(15),Nr(i.j,i.m,n,"[Invalid Chunk]"),c=!1;break}Nr(i.j,i.m,f,null),Ri(i,f)}kt(i)&&f!=Qe&&f!=Zs&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ce(16),c=!1),i.i=i.i&&c,c?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Da(e),e.L=!0,Ce(11))):(Nr(i.j,i.m,n,"[Invalid Chunked Response]"),Ui(i),pi(i))}function pn(i,e){var n=i.C,c=e.indexOf("\n",n);return-1==c?Qe:(n=Number(e.substring(n,c)),isNaN(n)?Zs:(c+=1)+n>e.length?Qe:(e=e.substr(c,n),i.C=c+n,e))}function Yn(i){i.Y=Date.now()+i.P,li(i,i.P)}function li(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=qe(Le(i.eb,i),e)}function wr(i){i.B&&(ce.clearTimeout(i.B),i.B=null)}function pi(i){0==i.l.G||i.I||qa(i.l,i)}function Ui(i){wr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Fr(i.W),Fi(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ri(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||rr(n.i,i)))if(n.I=i.N,!i.J&&rr(n.i,i)&&3==n.G){try{var c=n.Ca.g.parse(e)}catch(ae){c=null}if(Array.isArray(c)&&3==c.length){var f=c;if(0==f[0])e:if(n.u)n.ta=f[1],0<n.ta-n.U&&37500>f[2]&&n.N&&0==n.A&&!n.v&&(n.v=qe(Le(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;Ca(n),jo(n)}uo(n),Ce(18)}if(1>=Pr(n.i)&&n.ka){try{n.ka()}catch(ae){}n.ka=void 0}}else fo(n,11)}else if((i.J||n.g==i)&&Ca(n),!et(e))for(f=n.Ca.g.parse(e),e=0;e<f.length;e++){let ae=f[e];if(n.U=ae[0],ae=ae[1],2==n.G)if("c"==ae[0]){n.J=ae[1],n.la=ae[2];const ke=ae[3];null!=ke&&(n.ma=ke,n.h.info("VER="+n.ma));const Ze=ae[4];null!=Ze&&(n.za=Ze,n.h.info("SVER="+n.za));const Tt=ae[5];null!=Tt&&"number"==typeof Tt&&0<Tt&&(n.K=c=1.5*Tt,n.h.info("backChannelRequestTimeoutMs_="+c)),c=n;const Yt=i.g;if(Yt){const en=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(en){var w=c.i;!w.g&&(ot(en,"spdy")||ot(en,"quic")||ot(en,"h2"))&&(w.j=w.l,w.g=new Set,w.h&&(gr(w,w.h),w.h=null))}if(c.D){const Kn=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kn&&(c.sa=Kn,Ar(c.F,c.D,Kn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var I=i;if((c=n).oa=es(c,c.H?c.la:null,c.W),I.J){oi(c.i,I);var N=I,J=c.K;J&&N.setTimeout(J),N.B&&(wr(N),Yn(N)),c.g=I}else zo(c);0<n.l.length&&$o(n)}else"stop"!=ae[0]&&"close"!=ae[0]||fo(n,7);else 3==n.G&&("stop"==ae[0]||"close"==ae[0]?"stop"==ae[0]?fo(n,7):ta(n):"noop"!=ae[0]&&n.j&&n.j.wa(ae),n.A=0)}Zr(4)}catch(ae){}}function ys(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(be(i)||"string"==typeof i)ge(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(be(i)||"string"==typeof i){n=[];for(var c=i.length,f=0;f<c;f++)n.push(f)}else for(f in n=[],c=0,i)n[c++]=f;c=function so(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(be(i)){for(var e=[],n=i.length,c=0;c<n;c++)e.push(i[c]);return e}for(c in e=[],n=0,i)e[n++]=i[c];return e}(i),f=c.length;for(var w=0;w<f;w++)e.call(void 0,c[w],n&&n[w],i)}}function Ls(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var c=0;c<n;c+=2)this.set(arguments[c],arguments[c+1])}else if(i)if(i instanceof Ls)for(n=i.T(),c=0;c<n.length;c++)this.set(n[c],i.get(n[c]));else for(c in i)this.set(c,i[c])}function oo(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var c=i.g[e];Gi(i.h,c)&&(i.g[n++]=c),e++}i.g.length=n}if(i.i!=i.g.length){var f={};for(n=e=0;e<i.g.length;)Gi(f,c=i.g[e])||(i.g[n++]=c,f[c]=1),e++;i.g.length=n}}function Gi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(me=nr.prototype).setTimeout=function(i){this.P=i},me.gb=function(i){i=i.target;const e=this.L;e&&3==_s(i)?e.l():this.Ia(i)},me.Ia=function(i){try{if(i==this.g)e:{const ke=_s(this.g);var e=this.g.Da();const Ze=this.g.ba();if(!(3>ke)&&(3!=ke||Un||this.g&&(this.h.h||this.g.ga()||fs(this.g)))){this.I||4!=ke||7==e||Zr(8==e||0>=Ze?3:2),wr(this);var n=this.g.ba();this.N=n;t:if(kt(this)){var c=fs(this.g);i="";var f=c.length,w=4==_s(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ui(this),pi(this);var I="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(c[e],{stream:w&&e==f-1});c.splice(0,f),this.h.g+=i,this.C=0,I=this.h.g}else I=this.g.ga();if(this.i=200==n,function fr(i,e,n,c,f,w,I){i.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+f+"]: "+e+"\n"+n+"\n"+w+" "+I})}(this.j,this.u,this.A,this.m,this.X,ke,n),this.i){if(this.$&&!this.J){t:{if(this.g){var N,J=this.g;if((N=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(N)){var ae=N;break t}}ae=null}if(!(n=ae)){this.i=!1,this.o=3,Ce(12),Ui(this),pi(this);break e}Nr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ri(this,n)}this.U?(Kt(this,ke,I),Un&&this.i&&3==ke&&(Kr(this.V,this.W,"tick",this.fb),this.W.start())):(Nr(this.j,this.m,I,null),Ri(this,I)),4==ke&&Ui(this),this.i&&!this.I&&(4==ke?qa(this.l,this):(this.i=!1,Yn(this)))}else 400==n&&0<I.indexOf("Unknown SID")?(this.o=3,Ce(12)):(this.o=0,Ce(13)),Ui(this),pi(this)}}}catch(ke){}},me.fb=function(){if(this.g){var i=_s(this.g),e=this.g.ga();this.C<e.length&&(wr(this),Kt(this,i,e),this.i&&4!=i&&Yn(this))}},me.cancel=function(){this.I=!0,Ui(this)},me.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Zr(3),Ce(17)),Ui(this),this.o=2,pi(this)):li(this,this.Y-i)},(me=Ls.prototype).R=function(){oo(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},me.T=function(){return oo(this),this.g.concat()},me.get=function(i,e){return Gi(this.h,i)?this.h[i]:e},me.set=function(i,e){Gi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},me.forEach=function(i,e){for(var n=this.T(),c=0;c<n.length;c++){var f=n[c],w=this.get(f);i.call(e,w,f,this)}};var ki=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ni(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ni){this.g=void 0!==e?e:i.g,ao(this,i.j),this.s=i.s,us(this,i.i),Es(this,i.m),this.l=i.l,e=i.h;var n=new Qs;n.i=e.i,e.g&&(n.g=new Ls(e.g),n.h=e.h),ji(this,n),this.o=i.o}else i&&(n=String(i).match(ki))?(this.g=!!e,ao(this,n[1]||"",!0),this.s=ri(n[2]||""),us(this,n[3]||"",!0),Es(this,n[4]),this.l=ri(n[5]||"",!0),ji(this,n[6]||"",!0),this.o=ri(n[7]||"")):(this.g=!!e,this.h=new Qs(null,this.g))}function Ki(i){return new Ni(i)}function ao(i,e,n){i.j=n?ri(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function us(i,e,n){i.i=n?ri(e,!0):e}function Es(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ji(i,e,n){e instanceof Qs?(i.h=e,function Be(i,e){e&&!i.j&&(Ir(i),i.i=null,i.g.forEach(function(n,c){var f=c.toLowerCase();c!=f&&($(this,c),H(this,f,n))},i)),i.j=e}(i.h,i.g)):(n||(e=hs(e,Hi)),i.h=new Qs(e,i.g))}function Ar(i,e,n){i.h.set(e,n)}function lo(i){return Ar(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ri(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function hs(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ko),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ko(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ni.prototype.toString=function(){var i=[],e=this.j;e&&i.push(hs(e,Ys,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(hs(e,Ys,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(hs(n,"/"==n.charAt(0)?Do:Eo,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",hs(n,Co)),i.join("")};var Ys=/[#\/\?@]/g,Eo=/[#\?:]/g,Do=/[#\?]/g,Hi=/[#\?@]/g,Co=/#/g;function Qs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ir(i){i.g||(i.g=new Ls,i.h=0,i.i&&function Os(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var c=i[n].indexOf("="),f=null;if(0<=c){var w=i[n].substring(0,c);f=i[n].substring(c+1)}else w=i[n];e(w,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $(i,e){Ir(i),e=ue(i,e),Gi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Gi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&oo(i)))}function se(i,e){return Ir(i),e=ue(i,e),Gi(i.g.h,e)}function H(i,e,n){$(i,e),0<n.length&&(i.i=null,i.g.set(ue(i,e),st(n)),i.h+=n.length)}function ue(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Nt(i){this.l=i||un,i=ce.PerformanceNavigationTiming?0<(i=ce.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ce.g&&ce.g.Ea&&ce.g.Ea()&&ce.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=Qs.prototype).add=function(i,e){Ir(this),this.i=null,i=ue(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},me.forEach=function(i,e){Ir(this),this.g.forEach(function(n,c){ge(n,function(f){i.call(e,f,c,this)},this)},this)},me.T=function(){Ir(this);for(var i=this.g.R(),e=this.g.T(),n=[],c=0;c<e.length;c++)for(var f=i[c],w=0;w<f.length;w++)n.push(e[c]);return n},me.R=function(i){Ir(this);var e=[];if("string"==typeof i)se(this,i)&&(e=Xe(e,this.g.get(ue(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=Xe(e,i[n])}return e},me.set=function(i,e){return Ir(this),this.i=null,se(this,i=ue(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},me.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var c=e[n],f=encodeURIComponent(String(c));c=this.R(c);for(var w=0;w<c.length;w++){var I=f;""!==c[w]&&(I+="="+encodeURIComponent(String(c[w]))),i.push(I)}}return this.i=i.join("&")};var un=10;function $r(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Pr(i){return i.h?1:i.g?i.g.size:0}function rr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function gr(i,e){i.g?i.g.add(e):i.h=e}function oi(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Jr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return st(i.i)}function Lr(){}function Ds(){this.g=new Lr}function is(i,e,n){const c=n||"";try{ys(i,function(f,w){let I=f;Ye(f)&&(I=Zt(f)),e.push(c+w+"="+encodeURIComponent(I))})}catch(f){throw e.push(c+"type="+encodeURIComponent("_badmap")),f}}function Cs(i,e,n,c,f){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,f(c)}catch(w){}}function Is(i){this.l=i.$b||null,this.j=i.ib||!1}function Fs(i,e){Fe.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=co,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Lr.prototype.stringify=function(i){return ce.JSON.stringify(i,void 0)},Lr.prototype.parse=function(i){return ce.JSON.parse(i,void 0)},ct(Is,$t),Is.prototype.g=function(){return new Fs(this.l,this.j)},Is.prototype.i=function(i){return function(){return i}}({}),ct(Fs,Fe);var co=0;function z(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function U(i){i.readyState=4,i.l=null,i.j=null,i.A=null,V(i)}function V(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(me=Fs.prototype).open=function(i,e){if(this.readyState!=co)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,V(this)},me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ce).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,U(this)),this.readyState=co},me.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,V(this)),this.g&&(this.readyState=3,V(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ce.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;z(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},me.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?U(this):V(this),3==this.readyState&&z(this)}},me.Ua=function(i){this.g&&(this.response=this.responseText=i,U(this))},me.Ta=function(i){this.g&&(this.response=i,U(this))},me.ha=function(){this.g&&U(this)},me.setRequestHeader=function(i,e){this.v.append(i,e)},me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Y=ce.JSON.parse;function Je(i){Fe.call(this),this.headers=new Ls,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Dn,this.K=this.L=!1}ct(Je,Fe);var Dn="",ir=/^https?$/i,xi=["POST","PUT"];function qi(i){return"content-type"==i.toLowerCase()}function Ts(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Vs(i),va(i)}function Vs(i){i.D||(i.D=!0,ft(i,"complete"),ft(i,"error"))}function _a(i){if(i.h&&void 0!==De&&(!i.C[1]||4!=_s(i)||2!=i.ba()))if(i.v&&4==_s(i))Pi(i.Fa,0,i);else if(ft(i,"readystatechange"),4==_s(i)){i.h=!1;try{const N=i.ba();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var c;if(c=0===N){var f=String(i.H).match(ki)[1]||null;if(!f&&ce.self&&ce.self.location){var w=ce.self.location.protocol;f=w.substr(0,w.length-1)}c=!ir.test(f?f.toLowerCase():"")}n=c}if(n)ft(i,"complete"),ft(i,"success");else{i.m=6;try{var I=2<_s(i)?i.g.statusText:""}catch(J){I=""}i.j=I+" ["+i.ba()+"]",Vs(i)}}finally{va(i)}}}function va(i,e){if(i.g){ba(i);const n=i.g,c=i.C[0]?he:null;i.g=null,i.C=null,e||ft(i,"ready");try{n.onreadystatechange=c}catch(f){}}}function ba(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ce.clearTimeout(i.A),i.A=null)}function _s(i){return i.g?i.g.readyState:0}function fs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Dn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wa(i,e,n){e:{for(c in n){var c=!1;break e}c=!0}c||(n=function Bs(i){let e="";return Bt(i,function(n,c){e+=c,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Ar(i,e,n))}function Xs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Js(i){this.za=0,this.l=[],this.h=new Hr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xs("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xs("baseRetryDelayMs",5e3,i),this.$a=Xs("retryDelaySeedMs",1e4,i),this.Ya=Xs("forwardChannelMaxRetries",2,i),this.ra=Xs("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Nt(i&&i.concurrentRequestLimit),this.Ca=new Ds,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ta(i){if(Ho(i),3==i.G){var e=i.V++,n=Ki(i.F);Ar(n,"SID",i.J),Ar(n,"RID",e),Ar(n,"TYPE","terminate"),ra(i,n),(e=new nr(i,i.h,e,void 0)).K=2,e.v=lo(Ki(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.v.toString(),"")),!n&&ce.Image&&((new Image).src=e.v,n=!0),n||(e.g=Go(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Yn(e)}Za(i)}function jo(i){i.g&&(Da(i),i.g.cancel(),i.g=null)}function Ho(i){jo(i),i.u&&(ce.clearTimeout(i.u),i.u=null),Ca(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ce.clearTimeout(i.m),i.m=null)}function Ea(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&$o(i)}function $o(i){$r(i.i)||i.m||(i.m=!0,On(i.Ha,i),i.C=0)}function na(i,e){var n;n=e?e.m:i.V++;const c=Ki(i.F);Ar(c,"SID",i.J),Ar(c,"RID",n),Ar(c,"AID",i.U),ra(i,c),i.o&&i.s&&wa(c,i.o,i.s),n=new nr(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ra(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),gr(i.i,n),We(n,c,e)}function ra(i,e){i.j&&ys({},function(n,c){Ar(e,c,n)})}function Ra(i,e,n){n=Math.min(i.l.length,n);var c=i.j?Le(i.j.Oa,i.j,i):null;e:{var f=i.l;let w=-1;for(;;){const I=["count="+n];-1==w?0<n?(w=f[0].h,I.push("ofs="+w)):w=0:I.push("ofs="+w);let N=!0;for(let J=0;J<n;J++){let ae=f[J].h;const ke=f[J].g;if(ae-=w,0>ae)w=Math.max(0,f[J].h-100),N=!1;else try{is(ke,I,"req"+ae+"_")}catch(Ze){c&&c(ke)}}if(N){c=I.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,c}function zo(i){i.g||i.u||(i.Y=1,On(i.Ga,i),i.A=0)}function uo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=qe(Le(i.Ga,i),Wo(i,i.A)),i.A++,0))}function Da(i){null!=i.B&&(ce.clearTimeout(i.B),i.B=null)}function ho(i){i.g=new nr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Ki(i.oa);Ar(e,"RID","rpc"),Ar(e,"SID",i.J),Ar(e,"CI",i.N?"0":"1"),Ar(e,"AID",i.U),ra(i,e),Ar(e,"TYPE","xmlhttp"),i.o&&i.s&&wa(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=lo(Ki(e)),n.s=null,n.U=!0,pt(n,i)}function Ca(i){null!=i.v&&(ce.clearTimeout(i.v),i.v=null)}function qa(i,e){var n=null;if(i.g==e){Ca(i),Da(i),i.g=null;var c=2}else{if(!rr(i.i,e))return;n=e.D,oi(i.i,e),c=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==c){n=e.s?e.s.length:0,e=Date.now()-e.F;var f=i.C;ft(c=vi(),new vt(c,n,e,f)),$o(i)}else zo(i);else if(3==(f=e.o)||0==f&&0<i.I||!(1==c&&function Us(i,e){return!(Pr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=qe(Le(i.Ha,i,e),Wo(i,i.C)),i.C++,0)))}(i,e)||2==c&&uo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),f){case 1:fo(i,5);break;case 4:fo(i,10);break;case 3:fo(i,6);break;default:fo(i,2)}}function Wo(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function fo(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var c=Le(i.jb,i);n||(n=new Ni("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||ao(n,"https"),lo(n)),function zn(i,e){const n=new Hr;if(ce.Image){const c=new Image;c.onload=Dt(Cs,n,c,"TestLoadImage: loaded",!0,e),c.onerror=Dt(Cs,n,c,"TestLoadImage: error",!1,e),c.onabort=Dt(Cs,n,c,"TestLoadImage: abort",!1,e),c.ontimeout=Dt(Cs,n,c,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=i}else e(!1)}(n.toString(),c)}else Ce(2);i.G=0,i.j&&i.j.va(e),Za(i),Ho(i)}function Za(i){i.G=0,i.I=-1,i.j&&((0!=Jr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,st(i.l),i.l.length=0),i.j.ua())}function es(i,e,n){let c=function wo(i){return i instanceof Ni?Ki(i):new Ni(i,void 0)}(n);if(""!=c.i)e&&us(c,e+"."+c.i),Es(c,c.m);else{const f=ce.location;c=function ds(i,e,n,c){var f=new Ni(null,void 0);return i&&ao(f,i),e&&us(f,e),n&&Es(f,n),c&&(f.l=c),f}(f.protocol,e?e+"."+f.hostname:f.hostname,+f.port,n)}return i.aa&&Bt(i.aa,function(f,w){Ar(c,w,f)}),n=i.sa,(e=i.D)&&n&&Ar(c,e,n),Ar(c,"VER",i.ma),ra(i,c),c}function Go(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&i.Ba&&!i.qa?new Is({ib:!0}):i.qa)).L=i.H,e}function $i(){}function ia(){if(kn&&!(10<=Number(Li)))throw Error("Environmental error: no available transport.")}function js(i,e){Fe.call(this),this.g=new Js(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!et(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!et(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ia(this)}function Gl(i){ye.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ya(){ze.call(this),this.status=1}function Ia(i){this.g=i}(me=Je.prototype).ea=function(i,e,n,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():It.g(),this.C=function Hn(i){return i.h||(i.h=i.i())}(this.u?this.u:It),this.g.onreadystatechange=Le(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(w){return void Ts(this,w)}i=n||"";const f=new Ls(this.headers);c&&ys(c,function(w,I){f.set(I,w)}),c=function Xt(i){e:{var e=qi;const n=i.length,c="string"==typeof i?i.split(""):i;for(let f=0;f<n;f++)if(f in c&&e.call(void 0,c[f],f,i)){e=f;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(f.T()),n=ce.FormData&&i instanceof ce.FormData,!(0<=Ut(xi,e))||c||n||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),f.forEach(function(w,I){this.g.setRequestHeader(I,w)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ba(this),0<this.B&&((this.K=function Ji(i){return kn&&function lr(){return function qn(i){var e=$n;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ut(String(br)).split("."),n=ut("9").split("."),c=Math.max(e.length,n.length);for(let I=0;0==i&&I<c;I++){var f=e[I]||"",w=n[I]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==f[0].length&&0==w[0].length)break;i=Mt(0==f[1].length?0:parseInt(f[1],10),0==w[1].length?0:parseInt(w[1],10))||Mt(0==f[2].length,0==w[2].length)||Mt(f[2],w[2]),f=f[3],w=w[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.pa,this)):this.A=Pi(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(w){Ts(this,w)}},me.pa=function(){void 0!==De&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ft(this,"timeout"),this.abort(8))},me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ft(this,"complete"),ft(this,"abort"),va(this))},me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),va(this,!0)),Je.Z.M.call(this)},me.Fa=function(){this.s||(this.F||this.v||this.l?_a(this):this.cb())},me.cb=function(){_a(this)},me.ba=function(){try{return 2<_s(this)?this.g.status:-1}catch(i){return-1}},me.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},me.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Y(e)}},me.Da=function(){return this.m},me.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=Js.prototype).ma=8,me.G=1,me.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},me.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const f=new nr(this,this.h,i,void 0);let w=this.s;if(this.P&&(w?(w=jt(w),dr(w,this.P)):w=this.P),null===this.o&&(f.H=w),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var c=this.l[n];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(e+=c)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ra(this,f,e),Ar(n=Ki(this.F),"RID",i),Ar(n,"CVER",22),this.D&&Ar(n,"X-HTTP-Session-Id",this.D),ra(this,n),this.o&&w&&wa(n,this.o,w),gr(this.i,f),this.Ra&&Ar(n,"TYPE","init"),this.ja?(Ar(n,"$req",e),Ar(n,"SID","null"),f.$=!0,We(f,n,null)):We(f,n,e),this.G=2}}else 3==this.G&&(i?na(this,i):0==this.l.length||$r(this.i)||na(this))},me.Ga=function(){if(this.u=null,ho(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=qe(Le(this.bb,this),i)}},me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ce(10),jo(this),ho(this))},me.ab=function(){null!=this.v&&(this.v=null,jo(this),uo(this),Ce(19))},me.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ce(2)):(this.h.info("Failed to ping google.com"),Ce(1))},(me=$i.prototype).xa=function(){},me.wa=function(){},me.va=function(){},me.ua=function(){},me.Oa=function(){},ia.prototype.g=function(i,e){return new js(i,e)},ct(js,Fe),js.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),On(Le(i.hb,i,e))),Ce(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=es(i,null,i.W),$o(i)},js.prototype.close=function(){ta(this.g)},js.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Ea(this.g,e)}else this.v?((e={}).__data__=Zt(i),Ea(this.g,e)):Ea(this.g,i)},js.prototype.M=function(){this.g.j=null,delete this.j,ta(this.g),delete this.g,js.Z.M.call(this)},ct(Gl,ye),ct(Ya,ze),ct(Ia,$i),Ia.prototype.xa=function(){ft(this.g,"a")},Ia.prototype.wa=function(i){ft(this.g,new Gl(i))},Ia.prototype.va=function(i){ft(this.g,new Ya(i))},Ia.prototype.ua=function(){ft(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,js.prototype.send=js.prototype.u,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,Ht.COMPLETE="complete",Pe.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",Fe.prototype.listen=Fe.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.La,Je.prototype.getLastErrorCode=Je.prototype.Da,Je.prototype.getStatus=Je.prototype.ba,Je.prototype.getResponseJson=Je.prototype.Qa,Je.prototype.getResponseText=Je.prototype.ga,Je.prototype.send=Je.prototype.ea;var ka=Ae.createWebChannelTransport=function(){return new ia},Hs=Ae.getStatEventTarget=function(){return vi()},No=Ae.ErrorCode=_t,Na=Ae.EventType=Ht,Ai=Ae.Event=Xr,Zi=Ae.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qa=Ae.FetchXmlHttpFactory=Is,Ps=Ae.WebChannel=Pe,ps=Ae.XhrIo=Je;const sa="@firebase/firestore";class gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gi.UNAUTHENTICATED=new gi(null),gi.GOOGLE_CREDENTIALS=new gi("google-credentials-uid"),gi.FIRST_PARTY=new gi("first-party-uid"),gi.MOCK_USER=new gi("mock-user");let ss="9.6.11";const Io=new Se.Yd("@firebase/firestore");function Xa(){return Io.logLevel}function Tl(i){Io.setLogLevel(i)}function sn(i,...e){if(Io.logLevel<=Se.in.DEBUG){const n=e.map(To);Io.debug(`Firestore (${ss}): ${i}`,...n)}}function Vr(i,...e){if(Io.logLevel<=Se.in.ERROR){const n=e.map(To);Io.error(`Firestore (${ss}): ${i}`,...n)}}function Lo(i,...e){if(Io.logLevel<=Se.in.WARN){const n=e.map(To);Io.warn(`Firestore (${ss}): ${i}`,...n)}}function To(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function _n(i="Unexpected state"){const e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+i;throw Vr(e),new Error(e)}function M(i,e){i||_n()}function k(i,e){i||_n()}function q(i,e){return i}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends de.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ln{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wi{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Si{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gi.UNAUTHENTICATED))}shutdown(){}}class vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oa{constructor(e){this.t=e,this.currentUser=gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var c=this;let f=this.i;const w=ae=>this.i!==f?(f=this.i,n(ae)):Promise.resolve();let I=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),I.resolve(),I=new ln,e.enqueueRetryable(()=>w(this.currentUser))};const N=()=>{const ae=I;e.enqueueRetryable((0,_.Z)(function*(){yield ae.promise,yield w(c.currentUser)}))},J=ae=>{sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ae,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(ae=>J(ae)),setTimeout(()=>{if(!this.auth){const ae=this.t.getImmediate({optional:!0});ae?J(ae):(sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),I.resolve(),I=new ln)}},0),N()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(c=>this.i!==e?(sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(M("string"==typeof c.accessToken),new wi(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return M(null===e||"string"==typeof e),new gi(e)}}class La{constructor(e,n,c){this.type="FirstParty",this.user=gi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const f=e.auth.getAuthHeaderValueForFirstParty([]);f&&this.headers.set("Authorization",f),c&&this.headers.set("X-Goog-Iam-Authorization-Token",c)}}class xl{constructor(e,n,c){this.h=e,this.l=n,this.m=c}getToken(){return Promise.resolve(new La(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ta{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fa{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const c=w=>{null!=w.error&&sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${w.error.message}`);const I=w.token!==this.p;return this.p=w.token,sn("FirebaseAppCheckTokenProvider",`Received ${I?"new":"existing"} token.`),I?n(w.token):Promise.resolve()};this.o=w=>{e.enqueueRetryable(()=>c(w))};const f=w=>{sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=w,this.appCheck.addTokenListener(this.o)};this.g.onInit(w=>f(w)),setTimeout(()=>{if(!this.appCheck){const w=this.g.getImmediate({optional:!0});w?f(w):sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(M("string"==typeof n.token),this.p=n.token,new Ta(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class bs{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=c=>this.I(c),this.T=c=>n.writeSequenceNumber(c))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function xs(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let c=0;c<i;c++)n[c]=Math.floor(256*Math.random());return n}bs.A=-1;class R{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let c="";for(;c.length<20;){const f=xs(40);for(let w=0;w<f.length;++w)c.length<20&&f[w]<n&&(c+=e.charAt(f[w]%e.length))}return c}}function A(i,e){return i<e?-1:i>e?1:0}function x(i,e,n){return i.length===e.length&&i.every((c,f)=>n(c,e[f]))}function j(i){return i+"\0"}class K{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return K.fromMillis(Date.now())}static fromDate(e){return K.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),c=Math.floor(1e6*(e-1e3*n));return new K(n,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?A(this.nanoseconds,e.nanoseconds):A(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new K(0,0))}static max(){return new ne(new K(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Oe(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ue(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ot(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class hn{constructor(e,n,c){void 0===n?n=0:n>e.length&&_n(),void 0===c?c=e.length-n:c>e.length-n&&_n(),this.segments=e,this.offset=n,this.len=c}get length(){return this.len}isEqual(e){return 0===hn.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hn?e.forEach(c=>{n.push(c)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,c=this.limit();n<c;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const c=Math.min(e.length,n.length);for(let f=0;f<c;f++){const w=e.get(f),I=n.get(f);if(w<I)return-1;if(w>I)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Cn extends hn{construct(e,n,c){return new Cn(e,n,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const c of e){if(c.indexOf("//")>=0)throw new Ge(re.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);n.push(...c.split("/").filter(f=>f.length>0))}return new Cn(n)}static emptyPath(){return new Cn([])}}const Bn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends hn{construct(e,n,c){return new _r(e,n,c)}static isValidIdentifier(e){return Bn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const n=[];let c="",f=0;const w=()=>{if(0===c.length)throw new Ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(c),c=""};let I=!1;for(;f<e.length;){const N=e[f];if("\\"===N){if(f+1===e.length)throw new Ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const J=e[f+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new Ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=J,f+=2}else"`"===N?(I=!I,f++):"."!==N||I?(c+=N,f++):(w(),f++)}if(w(),I)throw new Ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}class Er{constructor(e){this.fields=e,e.sort(_r.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return x(this.fields,e.fields,(n,c)=>n.isEqual(c))}}function $s(){return"undefined"!=typeof atob}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ci(n)}static fromUint8Array(e){const n=function(c){let f="";for(let w=0;w<c.length;++w)f+=String.fromCharCode(c[w]);return f}(e);return new ci(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return A(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const qo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(i){if(M(!!i),"string"==typeof i){let e=0;const n=qo.exec(i);if(M(!!n),n[1]){let f=n[1];f=(f+"000000000").substr(0,9),e=Number(f)}const c=new Date(i);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:ui(i.seconds),nanos:ui(i.nanos)}}function ui(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function As(i){return"string"==typeof i?ci.fromBase64String(i):ci.fromUint8Array(i)}function su(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kl(i){const e=i.mapValue.fields.__previous_value__;return su(e)?Kl(e):e}function aa(i){const e=Rs(i.mapValue.fields.__local_write_time__.timestampValue);return new K(e.seconds,e.nanos)}class Tc{constructor(e,n,c,f,w,I,N,J){this.databaseId=e,this.appId=n,this.persistenceKey=c,this.host=f,this.ssl=w,this.forceLongPolling=I,this.autoDetectLongPolling=N,this.useFetchStreams=J}}class Ja{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ja("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}function Mi(i){return null==i}function el(i){return 0===i&&1/i==-1/0}function ou(i){return"number"==typeof i&&Number.isInteger(i)&&!el(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(Cn.fromString(e))}static fromName(e){return new mn(Cn.fromString(e).popFirst(5))}static empty(){return new mn(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new Cn(e.slice()))}}const ks={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},au={nullValue:"NULL_VALUE"};function Al(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?su(i)?4:Ua(i)?9:10:_n()}function Zo(i,e){if(i===e)return!0;const n=Al(i);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return aa(i).isEqual(aa(e));case 3:return function(c,f){if("string"==typeof c.timestampValue&&"string"==typeof f.timestampValue&&c.timestampValue.length===f.timestampValue.length)return c.timestampValue===f.timestampValue;const w=Rs(c.timestampValue),I=Rs(f.timestampValue);return w.seconds===I.seconds&&w.nanos===I.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,As(i.bytesValue).isEqual(As(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(c,f){return ui(c.geoPointValue.latitude)===ui(f.geoPointValue.latitude)&&ui(c.geoPointValue.longitude)===ui(f.geoPointValue.longitude)}(i,e);case 2:return function(c,f){if("integerValue"in c&&"integerValue"in f)return ui(c.integerValue)===ui(f.integerValue);if("doubleValue"in c&&"doubleValue"in f){const w=ui(c.doubleValue),I=ui(f.doubleValue);return w===I?el(w)===el(I):isNaN(w)&&isNaN(I)}return!1}(i,e);case 9:return x(i.arrayValue.values||[],e.arrayValue.values||[],Zo);case 10:return function(c,f){const w=c.mapValue.fields||{},I=f.mapValue.fields||{};if(Oe(w)!==Oe(I))return!1;for(const N in w)if(w.hasOwnProperty(N)&&(void 0===I[N]||!Zo(w[N],I[N])))return!1;return!0}(i,e);default:return _n()}var f}function la(i,e){return void 0!==(i.values||[]).find(n=>Zo(n,e))}function tl(i,e){if(i===e)return 0;const n=Al(i),c=Al(e);if(n!==c)return A(n,c);switch(n){case 0:case 9007199254740991:return 0;case 1:return A(i.booleanValue,e.booleanValue);case 2:return function(f,w){const I=ui(f.integerValue||f.doubleValue),N=ui(w.integerValue||w.doubleValue);return I<N?-1:I>N?1:I===N?0:isNaN(I)?isNaN(N)?0:-1:1}(i,e);case 3:return os(i.timestampValue,e.timestampValue);case 4:return os(aa(i),aa(e));case 5:return A(i.stringValue,e.stringValue);case 6:return function(f,w){const I=As(f),N=As(w);return I.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(f,w){const I=f.split("/"),N=w.split("/");for(let J=0;J<I.length&&J<N.length;J++){const ae=A(I[J],N[J]);if(0!==ae)return ae}return A(I.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,w){const I=A(ui(f.latitude),ui(w.latitude));return 0!==I?I:A(ui(f.longitude),ui(w.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,w){const I=f.values||[],N=w.values||[];for(let J=0;J<I.length&&J<N.length;++J){const ae=tl(I[J],N[J]);if(ae)return ae}return A(I.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,w){const I=f.fields||{},N=Object.keys(I),J=w.fields||{},ae=Object.keys(J);N.sort(),ae.sort();for(let ke=0;ke<N.length&&ke<ae.length;++ke){const Ze=A(N[ke],ae[ke]);if(0!==Ze)return Ze;const Tt=tl(I[N[ke]],J[ae[ke]]);if(0!==Tt)return Tt}return A(N.length,ae.length)}(i.mapValue,e.mapValue);default:throw _n()}}function os(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return A(i,e);const n=Rs(i),c=Rs(e),f=A(n.seconds,c.seconds);return 0!==f?f:A(n.nanos,c.nanos)}function Va(i){return Ba(i)}function Ba(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(c){const f=Rs(c);return`time(${f.seconds},${f.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?As(i.bytesValue).toBase64():"referenceValue"in i?mn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(c){let f="[",w=!0;for(const I of c.values||[])w?w=!1:f+=",",f+=Ba(I);return f+"]"}(i.arrayValue):"mapValue"in i?function(c){const f=Object.keys(c.fields||{}).sort();let w="{",I=!0;for(const N of f)I?I=!1:w+=",",w+=`${N}:${Ba(c.fields[N])}`;return w+"}"}(i.mapValue):_n();var e}function nl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gl(i){return!!i&&"integerValue"in i}function Yi(i){return!!i&&"arrayValue"in i}function po(i){return!!i&&"nullValue"in i}function ql(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function go(i){return!!i&&"mapValue"in i}function eo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ue(i.mapValue.fields,(n,c)=>e.mapValue.fields[n]=eo(c)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ua(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function zu(i){return"nullValue"in i?au:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?nl(Ja.empty(),mn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:_n()}function Th(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?nl(Ja.empty(),mn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ks:_n()}function Rd(i,e){return void 0===i?e:void 0===e||tl(i,e)>0?i:e}function lu(i,e){return void 0===i?e:void 0===e||tl(i,e)<0?i:e}class Qi{constructor(e){this.value=e}static empty(){return new Qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let c=0;c<e.length-1;++c)if(n=(n.mapValue.fields||{})[e.get(c)],!go(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(n)}setAll(e){let n=_r.emptyPath(),c={},f=[];e.forEach((I,N)=>{if(!n.isImmediateParentOf(N)){const J=this.getFieldsMap(n);this.applyChanges(J,c,f),c={},f=[],n=N.popLast()}I?c[N.lastSegment()]=eo(I):f.push(N.lastSegment())});const w=this.getFieldsMap(n);this.applyChanges(w,c,f)}delete(e){const n=this.field(e.popLast());go(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let c=0;c<e.length;++c){let f=n.mapValue.fields[e.get(c)];go(f)&&f.mapValue.fields||(f={mapValue:{fields:{}}},n.mapValue.fields[e.get(c)]=f),n=f}return n.mapValue.fields}applyChanges(e,n,c){Ue(n,(f,w)=>e[f]=w);for(const f of c)delete e[f]}clone(){return new Qi(eo(this.value))}}function to(i){const e=[];return Ue(i.fields,(n,c)=>{const f=new _r([n]);if(go(c)){const w=to(c.mapValue).fields;if(0===w.length)e.push(f);else for(const I of w)e.push(f.child(I))}else e.push(f)}),new Er(e)}class Oi{constructor(e,n,c,f,w,I){this.key=e,this.documentType=n,this.version=c,this.readTime=f,this.data=w,this.documentState=I}static newInvalidDocument(e){return new Oi(e,0,ne.min(),ne.min(),Qi.empty(),0)}static newFoundDocument(e,n,c){return new Oi(e,1,n,ne.min(),c,0)}static newNoDocument(e,n){return new Oi(e,2,n,ne.min(),Qi.empty(),0)}static newUnknownDocument(e,n){return new Oi(e,3,n,ne.min(),Qi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ss{constructor(e,n,c,f){this.indexId=e,this.collectionGroup=n,this.fields=c,this.indexState=f}}function ca(i){return i.fields.find(e=>2===e.kind)}function rl(i){return i.fields.filter(e=>2!==e.kind)}Ss.UNKNOWN_ID=-1;class mo{constructor(e,n){this.fieldPath=e,this.kind=n}}class xc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new xc(0,ja.min())}}function cu(i,e){const n=i.toTimestamp().seconds,c=i.toTimestamp().nanoseconds+1,f=ne.fromTimestamp(1e9===c?new K(n+1,0):new K(n,c));return new ja(f,mn.empty(),e)}function Ac(i){return new ja(i.readTime,i.key,-1)}class ja{constructor(e,n,c){this.readTime=e,this.documentKey=n,this.largestBatchId=c}static min(){return new ja(ne.min(),mn.empty(),-1)}static max(){return new ja(ne.max(),mn.empty(),-1)}}function Zl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=mn.comparator(i.documentKey,e.documentKey),0!==n?n:A(i.largestBatchId,e.largestBatchId))}class Yl{constructor(e,n=null,c=[],f=[],w=null,I=null,N=null){this.path=e,this.collectionGroup=n,this.orderBy=c,this.filters=f,this.limit=w,this.startAt=I,this.endAt=N,this.P=null}}function B(i,e=null,n=[],c=[],f=null,w=null,I=null){return new Yl(i,e,n,c,f,w,I)}function W(i){const e=q(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(c=>{return(f=c).field.canonicalString()+f.op.toString()+Va(f.value);var f}).join(","),n+="|ob:",n+=e.orderBy.map(c=>{return(f=c).field.canonicalString()+f.dir;var f}).join(","),Mi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(c=>Va(c)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(c=>Va(c)).join(",")),e.P=n}return e.P}function Re(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let f=0;f<i.orderBy.length;f++)if(!Sc(i.orderBy[f],e.orderBy[f]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let f=0;f<i.filters.length;f++)if((n=i.filters[f]).op!==(c=e.filters[f]).op||!n.field.isEqual(c.field)||!Zo(n.value,c.value))return!1;var n,c;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jl(i.startAt,e.startAt)&&Jl(i.endAt,e.endAt)}function at(i){return mn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ct(i,e){return i.filters.filter(n=>n instanceof Wn&&n.field.isEqual(e))}function Jt(i,e,n){let c,f=!0;for(const w of Ct(i,e)){let I,N=!0;switch(w.op){case"<":case"<=":I=zu(w.value);break;case"==":case"in":case">=":I=w.value;break;case">":I=w.value,N=!1;break;case"!=":case"not-in":I=au}Rd(c,I)===I&&(c=I,f=N)}if(null!==n)for(let w=0;w<i.orderBy.length;++w)if(i.orderBy[w].field.isEqual(e)){const I=n.position[w];Rd(c,I)===I&&(c=I,f=n.inclusive);break}return{value:c,inclusive:f}}function Fn(i,e,n){let c,f=!0;for(const w of Ct(i,e)){let I,N=!0;switch(w.op){case">=":case">":I=Th(w.value),N=!1;break;case"==":case"in":case"<=":I=w.value;break;case"<":I=w.value,N=!1;break;case"!=":case"not-in":I=ks}lu(c,I)===I&&(c=I,f=N)}if(null!==n)for(let w=0;w<i.orderBy.length;++w)if(i.orderBy[w].field.isEqual(e)){const I=n.position[w];lu(c,I)===I&&(c=I,f=n.inclusive);break}return{value:c,inclusive:f}}class Wn extends class{}{constructor(e,n,c){super(),this.field=e,this.op=n,this.value=c}static create(e,n,c){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,c):new Dr(e,n,c):"array-contains"===n?new ti(e,c):"in"===n?new Ql(e,c):"not-in"===n?new Xl(e,c):"array-contains-any"===n?new ml(e,c):new Wn(e,n,c)}static V(e,n,c){return"in"===n?new ei(e,c):new Rr(e,c)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(tl(n,this.value)):null!==n&&Al(this.value)===Al(n)&&this.v(tl(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _n()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Dr extends Wn{constructor(e,n,c){super(e,n,c),this.key=mn.fromName(c.referenceValue)}matches(e){const n=mn.comparator(e.key,this.key);return this.v(n)}}class ei extends Wn{constructor(e,n){super(e,"in",n),this.keys=gs(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Rr extends Wn{constructor(e,n){super(e,"not-in",n),this.keys=gs(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gs(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(c=>mn.fromName(c.referenceValue))}class ti extends Wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yi(n)&&la(n.arrayValue,this.value)}}class Ql extends Wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&la(this.value.arrayValue,n)}}class Xl extends Wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!la(this.value.arrayValue,n)}}class ml extends Wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(c=>la(this.value.arrayValue,c))}}class ws{constructor(e,n){this.position=e,this.inclusive=n}}class as{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sc(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function kd(i,e,n){let c=0;for(let f=0;f<i.position.length;f++){const w=e[f],I=i.position[f];if(c=w.field.isKeyField()?mn.comparator(mn.fromName(I.referenceValue),n.key):tl(I,n.data.field(w.field)),"desc"===w.dir&&(c*=-1),0!==c)break}return c}function Jl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zo(i.position[n],e.position[n]))return!1;return!0}class ua{constructor(e,n=null,c=[],f=[],w=null,I="F",N=null,J=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=c,this.filters=f,this.limit=w,this.limitType=I,this.startAt=N,this.endAt=J,this.D=null,this.C=null}}function Wu(i,e,n,c,f,w,I,N){return new ua(i,e,n,c,f,w,I,N)}function da(i){return new ua(i)}function uu(i){return!Mi(i.limit)&&"F"===i.limitType}function du(i){return!Mi(i.limit)&&"L"===i.limitType}function Mc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function il(i){for(const e of i.filters)if(e.S())return e.field;return null}function Gu(i){return null!==i.collectionGroup}function ec(i){const e=q(i);if(null===e.D){e.D=[];const n=il(e),c=Mc(e);if(null!==n&&null===c)n.isKeyField()||e.D.push(new as(n)),e.D.push(new as(_r.keyField(),"asc"));else{let f=!1;for(const w of e.explicitOrderBy)e.D.push(w),w.field.isKeyField()&&(f=!0);if(!f){const w=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new as(_r.keyField(),w))}}}return e.D}function ha(i){const e=q(i);if(!e.C)if("F"===e.limitType)e.C=B(e.path,e.collectionGroup,ec(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const w of ec(e))n.push(new as(w.field,"desc"===w.dir?"asc":"desc"));const c=e.endAt?new ws(e.endAt.position,!e.endAt.inclusive):null,f=e.startAt?new ws(e.startAt.position,!e.startAt.inclusive):null;e.C=B(e.path,e.collectionGroup,n,e.filters,e.limit,c,f)}return e.C}function yl(i,e,n){return new ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function sl(i,e){return Re(ha(i),ha(e))&&i.limitType===e.limitType}function Nd(i){return`${W(ha(i))}|lt:${i.limitType}`}function Oc(i){return`Query(target=${function le(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(c=n).field.canonicalString()} ${c.op} ${Va(c.value)}`;var c}).join(", ")}]`),Mi(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(c=n).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>Va(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>Va(n)).join(",")),`Target(${e})`}(ha(i))}; limitType=${i.limitType})`}function Sl(i,e){return e.isFoundDocument()&&function(n,c){const f=c.key.path;return null!==n.collectionGroup?c.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(f):mn.isDocumentKey(n.path)?n.path.isEqual(f):n.path.isImmediateParentOf(f)}(i,e)&&function(n,c){for(const f of n.explicitOrderBy)if(!f.field.isKeyField()&&null===c.data.field(f.field))return!1;return!0}(i,e)&&function(n,c){for(const f of n.filters)if(!f.matches(c))return!1;return!0}(i,e)&&(c=e,!((n=i).startAt&&!function(f,w,I){const N=kd(f,w,I);return f.inclusive?N<=0:N<0}(n.startAt,ec(n),c)||n.endAt&&!function(f,w,I){const N=kd(f,w,I);return f.inclusive?N>=0:N>0}(n.endAt,ec(n),c)));var n,c}function hu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xh(i){return(e,n)=>{let c=!1;for(const f of ec(i)){const w=Uf(f,e,n);if(0!==w)return w;c=c||f.field.isKeyField()}return 0}}function Uf(i,e,n){const c=i.field.isKeyField()?mn.comparator(e.key,n.key):function(f,w,I){const N=w.data.field(f),J=I.data.field(f);return null!==N&&null!==J?tl(N,J):_n()}(i.field,e,n);switch(i.dir){case"asc":return c;case"desc":return-1*c;default:return _n()}}function Ah(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:el(e)?"-0":e}}function Sh(i){return{integerValue:""+i}}function fu(i,e){return ou(e)?Sh(e):Ah(i,e)}class tc{constructor(){this._=void 0}}function nc(i,e,n){return i instanceof Pc?function(c,f){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return f&&(w.fields.__previous_value__=f),{mapValue:w}}(n,e):i instanceof fa?pu(i,e):i instanceof Ml?Ld(i,e):function(c,f){const w=Ku(c,f),I=qu(w)+qu(c.k);return gl(w)&&gl(c.k)?Sh(I):Ah(c.M,I)}(i,e)}function Mh(i,e,n){return i instanceof fa?pu(i,e):i instanceof Ml?Ld(i,e):n}function Ku(i,e){return i instanceof xa?gl(n=e)||(c=n)&&"doubleValue"in c?e:{integerValue:0}:null;var c,n}class Pc extends tc{}class fa extends tc{constructor(e){super(),this.elements=e}}function pu(i,e){const n=_l(e);for(const c of i.elements)n.some(f=>Zo(f,c))||n.push(c);return{arrayValue:{values:n}}}class Ml extends tc{constructor(e){super(),this.elements=e}}function Ld(i,e){let n=_l(e);for(const c of i.elements)n=n.filter(f=>!Zo(f,c));return{arrayValue:{values:n}}}class xa extends tc{constructor(e,n){super(),this.M=e,this.k=n}}function qu(i){return ui(i.integerValue||i.doubleValue)}function _l(i){return Yi(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Rc{constructor(e,n){this.field=e,this.transform=n}}class Fd{constructor(e,n){this.version=e,this.transformResults=n}}class ts{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fo(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ol{}function Oh(i,e,n){i instanceof gu?function(c,f,w){const I=c.value.clone(),N=Lh(c.fieldTransforms,f,w.transformResults);I.setAll(N),f.convertToFoundDocument(w.version,I).setHasCommittedMutations()}(i,e,n):i instanceof vl?function(c,f,w){if(!Fo(c.precondition,f))return void f.convertToUnknownDocument(w.version);const I=Lh(c.fieldTransforms,f,w.transformResults),N=f.data;N.setAll(Nh(c)),N.setAll(I),f.convertToFoundDocument(w.version,N).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ph(i,e,n){var f;i instanceof gu?function(c,f,w){if(!Fo(c.precondition,f))return;const I=c.value.clone(),N=Vd(c.fieldTransforms,w,f);I.setAll(N),f.convertToFoundDocument(kh(f),I).setHasLocalMutations()}(i,e,n):i instanceof vl?function(c,f,w){if(!Fo(c.precondition,f))return;const I=Vd(c.fieldTransforms,w,f),N=f.data;N.setAll(Nh(c)),N.setAll(I),f.convertToFoundDocument(kh(f),N).setHasLocalMutations()}(i,e,n):Fo(i.precondition,f=e)&&f.convertToNoDocument(ne.min())}function kc(i,e){let n=null;for(const c of i.fieldTransforms){const f=e.data.field(c.field),w=Ku(c.transform,f||null);null!=w&&(null==n&&(n=Qi.empty()),n.set(c.field,w))}return n||null}function Rh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===c||n&&c&&x(n,c,(f,w)=>function jf(i,e){return i.field.isEqual(e.field)&&(c=e.transform,(n=i.transform)instanceof fa&&c instanceof fa||n instanceof Ml&&c instanceof Ml?x(n.elements,c.elements,Zo):n instanceof xa&&c instanceof xa?Zo(n.k,c.k):n instanceof Pc&&c instanceof Pc);var n,c}(f,w))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,c}function kh(i){return i.isFoundDocument()?i.version:ne.min()}class gu extends Ol{constructor(e,n,c,f=[]){super(),this.key=e,this.value=n,this.precondition=c,this.fieldTransforms=f,this.type=0}}class vl extends Ol{constructor(e,n,c,f,w=[]){super(),this.key=e,this.data=n,this.fieldMask=c,this.precondition=f,this.fieldTransforms=w,this.type=1}}function Nh(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const c=i.data.field(n);e.set(n,c)}}),e}function Lh(i,e,n){const c=new Map;M(i.length===n.length);for(let f=0;f<n.length;f++){const w=i[f],I=w.transform,N=e.data.field(w.field);c.set(w.field,Mh(I,N,n[f]))}return c}function Vd(i,e,n){const c=new Map;for(const f of i){const w=f.transform,I=n.data.field(f.field);c.set(f.field,nc(w,I,e))}return c}class Ha extends Ol{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Fh extends Ol{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class Hf{constructor(e){this.count=e}}var ns,di;function yo(i){switch(i){default:return _n();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function rc(i){if(void 0===i)return Vr("GRPC error has no .code"),re.UNKNOWN;switch(i){case ns.OK:return re.OK;case ns.CANCELLED:return re.CANCELLED;case ns.UNKNOWN:return re.UNKNOWN;case ns.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case ns.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case ns.INTERNAL:return re.INTERNAL;case ns.UNAVAILABLE:return re.UNAVAILABLE;case ns.UNAUTHENTICATED:return re.UNAUTHENTICATED;case ns.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case ns.NOT_FOUND:return re.NOT_FOUND;case ns.ALREADY_EXISTS:return re.ALREADY_EXISTS;case ns.PERMISSION_DENIED:return re.PERMISSION_DENIED;case ns.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case ns.ABORTED:return re.ABORTED;case ns.OUT_OF_RANGE:return re.OUT_OF_RANGE;case ns.UNIMPLEMENTED:return re.UNIMPLEMENTED;case ns.DATA_LOSS:return re.DATA_LOSS;default:return _n()}}(di=ns||(ns={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),c=this.inner[n];if(void 0!==c)for(const[f,w]of c)if(this.equalsFn(f,e))return w}has(e){return void 0!==this.get(e)}set(e,n){const c=this.mapKeyFn(e),f=this.inner[c];if(void 0===f)return this.inner[c]=[[e,n]],void this.innerSize++;for(let w=0;w<f.length;w++)if(this.equalsFn(f[w][0],e))return void(f[w]=[e,n]);f.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),c=this.inner[n];if(void 0===c)return!1;for(let f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return 1===c.length?delete this.inner[n]:c.splice(f,1),this.innerSize--,!0;return!1}forEach(e){Ue(this.inner,(n,c)=>{for(const[f,w]of c)e(f,w)})}isEmpty(){return Ot(this.inner)}size(){return this.innerSize}}class rs{constructor(e,n){this.comparator=e,this.root=n||xo.EMPTY}insert(e,n){return new rs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(e){return new rs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const c=this.comparator(e,n.key);if(0===c)return n.value;c<0?n=n.left:c>0&&(n=n.right)}return null}indexOf(e){let n=0,c=this.root;for(;!c.isEmpty();){const f=this.comparator(e,c.key);if(0===f)return n+c.left.size;f<0?c=c.left:(n+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,c)=>(e(n,c),!1))}toString(){const e=[];return this.inorderTraversal((n,c)=>(e.push(`${n}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,n,c,f){this.isReverse=f,this.nodeStack=[];let w=1;for(;!e.isEmpty();)if(w=n?c(e.key,n):1,n&&f&&(w*=-1),w<0)e=this.isReverse?e.left:e.right;else{if(0===w){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xo{constructor(e,n,c,f,w){this.key=e,this.value=n,this.color=null!=c?c:xo.RED,this.left=null!=f?f:xo.EMPTY,this.right=null!=w?w:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,c,f,w){return new xo(null!=e?e:this.key,null!=n?n:this.value,null!=c?c:this.color,null!=f?f:this.left,null!=w?w:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,c){let f=this;const w=c(e,f.key);return f=w<0?f.copy(null,null,null,f.left.insert(e,n,c),null):0===w?f.copy(null,n,null,null,null):f.copy(null,null,null,null,f.right.insert(e,n,c)),f.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let c,f=this;if(n(e,f.key)<0)f.left.isEmpty()||f.left.isRed()||f.left.left.isRed()||(f=f.moveRedLeft()),f=f.copy(null,null,null,f.left.remove(e,n),null);else{if(f.left.isRed()&&(f=f.rotateRight()),f.right.isEmpty()||f.right.isRed()||f.right.left.isRed()||(f=f.moveRedRight()),0===n(e,f.key)){if(f.right.isEmpty())return xo.EMPTY;c=f.right.min(),f=f.copy(c.key,c.value,null,null,f.right.removeMin())}f=f.copy(null,null,null,null,f.right.remove(e,n))}return f.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(i,e,n,c,f){return this}insert(i,e,n){return new xo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xi{constructor(e){this.comparator=e,this.data=new rs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,c)=>(e(n),!1))}forEachInRange(e,n){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const f=c.getNext();if(this.comparator(f.key,e[1])>=0)return;n(f.key)}}forEachWhile(e,n){let c;for(c=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $f(this.data.getIterator())}getIteratorFrom(e){return new $f(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(c=>{n=n.add(c)}),n}isEqual(e){if(!(e instanceof Xi)||this.size!==e.size)return!1;const n=this.data.getIterator(),c=e.data.getIterator();for(;n.hasNext();){const f=n.getNext().key,w=c.getNext().key;if(0!==this.comparator(f,w))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xi(this.comparator);return n.data=e,n}}class $f{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function al(i){return i.hasNext()?i.getNext():void 0}const Bd=new rs(mn.comparator);function Yo(){return Bd}const Vh=new rs(mn.comparator);function ic(){return Vh}function Pl(){return new ol(i=>i.toString(),(i,e)=>i.isEqual(e))}const zf=new rs(mn.comparator),Wf=new Xi(mn.comparator);function mi(...i){let e=Wf;for(const n of i)e=e.add(n);return e}const Zu=new Xi(A);function mu(){return Zu}class Rl{constructor(e,n,c,f,w){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=c,this.documentUpdates=f,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(e,n){const c=new Map;return c.set(e,kl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Rl(ne.min(),c,mu(),Yo(),mi())}}class kl{constructor(e,n,c,f,w){this.resumeToken=e,this.current=n,this.addedDocuments=c,this.modifiedDocuments=f,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(e,n){return new kl(ci.EMPTY_BYTE_STRING,n,mi(),mi(),mi())}}class Nc{constructor(e,n,c,f){this.O=e,this.removedTargetIds=n,this.key=c,this.F=f}}class Bh{constructor(e,n){this.targetId=e,this.$=n}}class Ms{constructor(e,n,c=ci.EMPTY_BYTE_STRING,f=null){this.state=e,this.targetIds=n,this.resumeToken=c,this.cause=f}}class Yu{constructor(){this.B=0,this.L=yu(),this.U=ci.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=mi(),n=mi(),c=mi();return this.L.forEach((f,w)=>{switch(w){case 0:e=e.add(f);break;case 2:n=n.add(f);break;case 1:c=c.add(f);break;default:_n()}}),new kl(this.U,this.q,e,n,c)}J(){this.K=!1,this.L=yu()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Gf{constructor(e){this.nt=e,this.st=new Map,this.it=Yo(),this.rt=Qu(),this.ot=new Xi(A)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const c=this.lt(n);switch(e.state){case 0:this.ft(n)&&c.W(e.resumeToken);break;case 1:c.tt(),c.G||c.J(),c.W(e.resumeToken);break;case 2:c.tt(),c.G||this.removeTarget(n);break;case 3:this.ft(n)&&(c.et(),c.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),c.W(e.resumeToken));break;default:_n()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((c,f)=>{this.ft(f)&&n(f)})}_t(e){const n=e.targetId,c=e.$.count,f=this.wt(n);if(f){const w=f.target;if(at(w))if(0===c){const I=new mn(w.path);this.ct(n,I,Oi.newNoDocument(I,ne.min()))}else M(1===c);else this.gt(n)!==c&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((w,I)=>{const N=this.wt(I);if(N){if(w.current&&at(N.target)){const J=new mn(N.target.path);null!==this.it.get(J)||this.It(I,J)||this.ct(I,J,Oi.newNoDocument(J,e))}w.j&&(n.set(I,w.H()),w.J())}});let c=mi();this.rt.forEach((w,I)=>{let N=!0;I.forEachWhile(J=>{const ae=this.wt(J);return!ae||2===ae.purpose||(N=!1,!1)}),N&&(c=c.add(w))}),this.it.forEach((w,I)=>I.setReadTime(e));const f=new Rl(e,n,this.ot,this.it,c);return this.it=Yo(),this.rt=Qu(),this.ot=new Xi(A),f}at(e,n){if(!this.ft(e))return;const c=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,c),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,c){if(!this.ft(e))return;const f=this.lt(e);this.It(e,n)?f.Y(n,1):f.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),c&&(this.it=this.it.insert(n,c))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Yu,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Xi(A),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||sn("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Yu),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Qu(){return new rs(mn.comparator)}function yu(){return new rs(mn.comparator)}const Kf={asc:"ASCENDING",desc:"DESCENDING"},Xu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qf{constructor(e,n){this.databaseId=e,this.N=n}}function Lc(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uh(i,e){return i.N?e.toBase64():e.toUint8Array()}function Kp(i,e){return Lc(i,e.toTimestamp())}function no(i){return M(!!i),ne.fromTimestamp(function(e){const n=Rs(e);return new K(n.seconds,n.nanos)}(i))}function sc(i,e){return(n=i,new Cn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ro(i){const e=Cn.fromString(i);return M(ll(e)),e}function $a(i,e){return sc(i.databaseId,e.path)}function Qo(i,e){const n=ro(e);if(n.get(1)!==i.databaseId.projectId)throw new Ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new mn(vu(n))}function _u(i,e){return sc(i.databaseId,e)}function _o(i){const e=ro(i);return 4===e.length?Cn.emptyPath():vu(e)}function Sa(i){return new Cn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vu(i){return M(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Xo(i,e,n){return{name:$a(i,e),fields:n.value.mapValue.fields}}function Nl(i,e,n){const c=Qo(i,e.name),f=no(e.updateTime),w=new Qi({mapValue:{fields:e.fields}}),I=Oi.newFoundDocument(c,f,w);return n&&I.setHasCommittedMutations(),n?I.setHasCommittedMutations():I}function Ll(i,e){let n;if(e instanceof gu)n={update:Xo(i,e.key,e.value)};else if(e instanceof Ha)n={delete:$a(i,e.key)};else if(e instanceof vl)n={update:Xo(i,e.key,e.data),updateMask:Zf(e.fieldMask)};else{if(!(e instanceof Fh))return _n();n={verify:$a(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(c=>function(f,w){const I=w.transform;if(I instanceof Pc)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(I instanceof fa)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:I.elements}};if(I instanceof Ml)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:I.elements}};if(I instanceof xa)return{fieldPath:w.field.canonicalString(),increment:I.k};throw _n()}(0,c))),e.precondition.isNone||(n.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:Kp(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:_n()),n;var f}function Fc(i,e){const n=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?ts.updateTime(no(f.updateTime)):void 0!==f.exists?ts.exists(f.exists):ts.none():ts.none(),c=e.updateTransforms?e.updateTransforms.map(f=>function(w,I){let N=null;"setToServerValue"in I?(M("REQUEST_TIME"===I.setToServerValue),N=new Pc):"appendMissingElements"in I?N=new fa(I.appendMissingElements.values||[]):"removeAllFromArray"in I?N=new Ml(I.removeAllFromArray.values||[]):"increment"in I?N=new xa(w,I.increment):_n();const J=_r.fromServerFormat(I.fieldPath);return new Rc(J,N)}(i,f)):[];var f;if(e.update){const f=Qo(i,e.update.name),w=new Qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const I=new Er((e.updateMask.fieldPaths||[]).map(ae=>_r.fromServerFormat(ae)));return new vl(f,w,I,n,c)}return new gu(f,w,n,c)}if(e.delete){const f=Qo(i,e.delete);return new Ha(f,n)}if(e.verify){const f=Qo(i,e.verify);return new Fh(f,n)}return _n()}function ed(i,e){return{documents:[_u(i,e.path)]}}function td(i,e){const n={structuredQuery:{}},c=e.path;null!==e.collectionGroup?(n.parent=_u(i,c),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_u(i,c.popLast()),n.structuredQuery.from=[{collectionId:c.lastSegment()}]);const f=function(J){if(0===J.length)return;const ae=J.map(ke=>function(Ze){if("=="===Ze.op){if(ql(Ze.value))return{unaryFilter:{field:Ao(Ze.field),op:"IS_NAN"}};if(po(Ze.value))return{unaryFilter:{field:Ao(Ze.field),op:"IS_NULL"}}}else if("!="===Ze.op){if(ql(Ze.value))return{unaryFilter:{field:Ao(Ze.field),op:"IS_NOT_NAN"}};if(po(Ze.value))return{unaryFilter:{field:Ao(Ze.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(Ze.field),op:wu(Ze.op),value:Ze.value}}}(ke));return 1===ae.length?ae[0]:{compositeFilter:{op:"AND",filters:ae}}}(e.filters);f&&(n.structuredQuery.where=f);const w=function(J){if(0!==J.length)return J.map(ae=>{return{field:Ao((ke=ae).field),direction:jd(ke.dir)};var ke})}(e.orderBy);w&&(n.structuredQuery.orderBy=w);const I=(ae=e.limit,i.N||Mi(ae)?ae:{value:ae});var ae,N,J;return null!==I&&(n.structuredQuery.limit=I),e.startAt&&(n.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(n.structuredQuery.endAt={before:!(J=e.endAt).inclusive,values:J.position}),n}function za(i){let e=_o(i.parent);const n=i.structuredQuery,c=n.from?n.from.length:0;let f=null;if(c>0){M(1===c);const ke=n.from[0];ke.allDescendants?f=ke.collectionId:e=e.child(ke.collectionId)}let w=[];n.where&&(w=bu(n.where));let I=[];n.orderBy&&(I=n.orderBy.map(ke=>{return new as(Ii((Ze=ke).field),function(Tt){switch(Tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let N=null;n.limit&&(N=function(ke){let Ze;return Ze="object"==typeof ke?ke.value:ke,Mi(Ze)?null:Ze}(n.limit));let J=null;var ke;n.startAt&&(J=new ws((ke=n.startAt).values||[],!!ke.before));let ae=null;return n.endAt&&(ae=function(ke){return new ws(ke.values||[],!ke.before)}(n.endAt)),Wu(e,f,I,w,N,"F",J,ae)}function bu(i){return i?void 0!==i.unaryFilter?[nd(i)]:void 0!==i.fieldFilter?[Hd(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>bu(e)).reduce((e,n)=>e.concat(n)):_n():[]}function jd(i){return Kf[i]}function wu(i){return Xu[i]}function Ao(i){return{fieldPath:i.canonicalString()}}function Ii(i){return _r.fromServerFormat(i.fieldPath)}function Hd(i){return Wn.create(Ii(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(i.fieldFilter.op),i.fieldFilter.value)}function nd(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ii(i.unaryFilter.field);return Wn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ii(i.unaryFilter.field);return Wn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ii(i.unaryFilter.field);return Wn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ii(i.unaryFilter.field);return Wn.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}function Zf(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ll(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function zs(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=$d(e)),e=rd(i.get(n),e);return $d(e)}function rd(i,e){let n=e;const c=i.length;for(let f=0;f<c;f++){const w=i.charAt(f);switch(w){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=w}}return n}function $d(i){return i+"\x01\x01"}function cl(i){const e=i.length;if(M(e>=2),2===e)return M("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Cn.emptyPath();const n=e-2,c=[];let f="";for(let w=0;w<e;){const I=i.indexOf("\x01",w);switch((I<0||I>n)&&_n(),i.charAt(I+1)){case"\x01":const N=i.substring(w,I);let J;0===f.length?J=N:(f+=N,J=f,f=""),c.push(J);break;case"\x10":f+=i.substring(w,I),f+="\0";break;case"\x11":f+=i.substring(w,I+1);break;default:_n()}w=I+2}return new Cn(c)}const Eu=["userId","batchId"];function oc(i,e){return[i,zs(e)]}function zd(i,e,n){return[i,zs(e),n]}const Yf={},$h=["prefixPath","collectionGroup","readTime","documentId"],D=["prefixPath","collectionGroup","documentId"],m=["collectionGroup","readTime","prefixPath","documentId"],v=["canonicalId","targetId"],S=["targetId","path"],Q=["path","targetId"],pe=["collectionId","parent"],tt=["indexId","uid"],xt=["uid","sequenceNumber"],yn=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vn=["indexId","uid","orderedDocumentKey"],ur=["userId","collectionPath","documentId"],sr=["userId","collectionPath","largestBatchId"],ms=["userId","collectionGroup","largestBatchId"],Vo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ac=[...Vo,"documentOverlays"],Du=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vc=[...Du,"indexConfiguration","indexState","indexEntries"],id="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class At{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new At((c,f)=>{this.nextCallback=w=>{this.wrapSuccess(e,w).next(c,f)},this.catchCallback=w=>{this.wrapFailure(n,w).next(c,f)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof At?n:At.resolve(n)}catch(n){return At.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):At.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):At.reject(n)}static resolve(e){return new At((n,c)=>{n(e)})}static reject(e){return new At((n,c)=>{c(e)})}static waitFor(e){return new At((n,c)=>{let f=0,w=0,I=!1;e.forEach(N=>{++f,N.next(()=>{++w,I&&w===f&&n()},J=>c(J))}),I=!0,w===f&&n()})}static or(e){let n=At.resolve(!1);for(const c of e)n=n.next(f=>f?At.resolve(f):c());return n}static forEach(e,n){const c=[];return e.forEach((f,w)=>{c.push(n.call(this,f,w))}),this.waitFor(c)}}class lc{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new ln,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new Fl(e,n.error)):this.At.resolve()},this.transaction.onerror=c=>{const f=sd(c.target.error);this.At.reject(new Fl(e,f))}}static open(e,n,c,f){try{return new lc(n,e.transaction(f,c))}catch(w){throw new Fl(n,w)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(sn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Gd(n)}}class pa{constructor(e,n,c){this.name=e,this.version=n,this.bt=c,12.2===pa.Vt((0,de.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sn("SimpleDb","Removing database:",e),cc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,de.hl)())return!1;if(pa.St())return!0;const e=(0,de.z$)(),n=pa.Vt(e),c=0<n&&n<10,f=pa.Dt(e),w=0<f&&f<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||c||w)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),c=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Nt(e){var n=this;return(0,_.Z)(function*(){return n.db||(sn("SimpleDb","Opening database:",n.name),n.db=yield new Promise((c,f)=>{const w=indexedDB.open(n.name,n.version);w.onsuccess=I=>{c(I.target.result)},w.onblocked=()=>{f(new Fl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=I=>{const N=I.target.error;f("VersionError"===N.name?new Ge(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Ge(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Fl(e,N))},w.onupgradeneeded=I=>{sn("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',I.oldVersion),n.bt.kt(I.target.result,w.transaction,I.oldVersion,n.version).next(()=>{sn("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=c=>n.Mt(c)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,c,f){var w=this;return(0,_.Z)(function*(){const I="readonly"===n;let N=0;for(;;){++N;try{w.db=yield w.Nt(e);const J=lc.open(w.db,e,I?"readonly":"readwrite",c),ae=f(J).next(ke=>(J.Pt(),ke)).catch(ke=>(J.abort(ke),At.reject(ke))).toPromise();return ae.catch(()=>{}),yield J.Rt,ae}catch(J){const ae="FirebaseError"!==J.name&&N<3;if(sn("SimpleDb","Transaction failed with error:",J.message,"Retrying:",ae),w.close(),!ae)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wd{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return cc(this.Ft.delete())}}class Fl extends Ge{constructor(e,n){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vl(i){return"IndexedDbTransactionError"===i.name}class Gd{constructor(e){this.store=e}put(e,n){let c;return void 0!==n?(sn("SimpleDb","PUT",this.store.name,e,n),c=this.store.put(n,e)):(sn("SimpleDb","PUT",this.store.name,"<auto-key>",e),c=this.store.put(e)),cc(c)}add(e){return sn("SimpleDb","ADD",this.store.name,e,e),cc(this.store.add(e))}get(e){return cc(this.store.get(e)).next(n=>(void 0===n&&(n=null),sn("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return sn("SimpleDb","DELETE",this.store.name,e),cc(this.store.delete(e))}count(){return sn("SimpleDb","COUNT",this.store.name),cc(this.store.count())}qt(e,n){const c=this.options(e,n);if(c.index||"function"!=typeof this.store.getAll){const f=this.cursor(c),w=[];return this.Kt(f,(I,N)=>{w.push(N)}).next(()=>w)}{const f=this.store.getAll(c.range);return new At((w,I)=>{f.onerror=N=>{I(N.target.error)},f.onsuccess=N=>{w(N.target.result)}})}}Gt(e,n){const c=this.store.getAll(e,null===n?void 0:n);return new At((f,w)=>{c.onerror=I=>{w(I.target.error)},c.onsuccess=I=>{f(I.target.result)}})}Qt(e,n){sn("SimpleDb","DELETE ALL",this.store.name);const c=this.options(e,n);c.jt=!1;const f=this.cursor(c);return this.Kt(f,(w,I,N)=>N.delete())}Wt(e,n){let c;n?c=e:(c={},n=e);const f=this.cursor(c);return this.Kt(f,n)}zt(e){const n=this.cursor({});return new At((c,f)=>{n.onerror=w=>{const I=sd(w.target.error);f(I)},n.onsuccess=w=>{const I=w.target.result;I?e(I.primaryKey,I.value).next(N=>{N?I.continue():c()}):c()}})}Kt(e,n){const c=[];return new At((f,w)=>{e.onerror=I=>{w(I.target.error)},e.onsuccess=I=>{const N=I.target.result;if(!N)return void f();const J=new Wd(N),ae=n(N.primaryKey,N.value,J);if(ae instanceof At){const ke=ae.catch(Ze=>(J.done(),At.reject(Ze)));c.push(ke)}J.isDone?f():null===J.Lt?N.continue():N.continue(J.Lt)}}).next(()=>At.waitFor(c))}options(e,n){let c;return void 0!==e&&("string"==typeof e?c=e:n=e),{index:c,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const c=this.store.index(e.index);return e.jt?c.openKeyCursor(e.range,n):c.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function cc(i){return new At((e,n)=>{i.onsuccess=c=>{e(c.target.result)},i.onerror=c=>{const f=sd(c.target.error);n(f)}})}let Cu=!1;function sd(i){const e=pa.Vt((0,de.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const c=new Ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cu||(Cu=!0,setTimeout(()=>{throw c},0)),c}}return i}class ga extends zh{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function vo(i,e){const n=q(i);return pa.xt(n.Ht,e)}class od{constructor(e,n,c,f){this.batchId=e,this.localWriteTime=n,this.baseMutations=c,this.mutations=f}applyToRemoteDocument(e,n){const c=n.mutationResults;for(let f=0;f<this.mutations.length;f++){const w=this.mutations[f];w.key.isEqual(e.key)&&Oh(w,e,c[f])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Ph(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Ph(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const c=e.get(n.key),f=c;this.applyToLocalView(f),c.isValidDocument()||f.convertToNoDocument(ne.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mi())}isEqual(e){return this.batchId===e.batchId&&x(this.mutations,e.mutations,(n,c)=>Rh(n,c))&&x(this.baseMutations,e.baseMutations,(n,c)=>Rh(n,c))}}class Kd{constructor(e,n,c,f){this.batch=e,this.commitVersion=n,this.mutationResults=c,this.docVersions=f}static from(e,n,c){M(e.mutations.length===c.length);let f=zf;const w=e.mutations;for(let I=0;I<w.length;I++)f=f.insert(w[I].key,c[I].version);return new Kd(e,n,c,f)}}class qd{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bc{constructor(e,n,c,f,w=ne.min(),I=ne.min(),N=ci.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=c,this.sequenceNumber=f,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=I,this.resumeToken=N}withSequenceNumber(e){return new Bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Qf{constructor(e){this.Jt=e}}function Wh(i,e){const n=e.key,c={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ul(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())c.document={name:$a(f=i.Jt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:Lc(f,w.version.toTimestamp())};else if(e.isNoDocument())c.noDocument={path:n.path.toArray(),readTime:bl(e.version)};else{if(!e.isUnknownDocument())return _n();c.unknownDocument={path:n.path.toArray(),version:bl(e.version)}}var f,w;return c}function ul(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function bl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function wl(i){const e=new K(i.seconds,i.nanoseconds);return ne.fromTimestamp(e)}function ad(i,e){const n=(e.baseMutations||[]).map(w=>Fc(i.Jt,w));for(let w=0;w<e.mutations.length-1;++w){const I=e.mutations[w];w+1<e.mutations.length&&void 0!==e.mutations[w+1].transform&&(I.updateTransforms=e.mutations[w+1].transform.fieldTransforms,e.mutations.splice(w+1,1),++w)}const c=e.mutations.map(w=>Fc(i.Jt,w)),f=K.fromMillis(e.localWriteTimeMs);return new od(e.batchId,f,n,c)}function Iu(i){const e=wl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?wl(i.lastLimboFreeSnapshotVersion):ne.min();let c;var f;return void 0!==i.query.documents?(M(1===(f=i.query).documents.length),c=ha(da(_o(f.documents[0])))):c=ha(za(i.query)),new Bc(c,i.targetId,0,i.lastListenSequenceNumber,e,n,ci.fromBase64String(i.resumeToken))}function Zp(i,e){const n=bl(e.snapshotVersion),c=bl(e.lastLimboFreeSnapshotVersion);let f;f=at(e.target)?ed(i.Jt,e.target):td(i.Jt,e.target);const w=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:W(e.target),readTime:n,resumeToken:w,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:c,query:f}}function Gh(i){const e=za({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?yl(e,e.limit,"L"):e}function Kh(i,e){return new qd(e.largestBatchId,Fc(i.Jt,e.overlayMutation))}function Xf(i,e){const n=e.path.lastSegment();return[i,zs(e.path.popLast()),n]}class ld{getBundleMetadata(e,n){return Jf(e).get(n).next(c=>{if(c)return{id:(f=c).bundleId,createTime:wl(f.createTime),version:f.version};var f})}saveBundleMetadata(e,n){return Jf(e).put({bundleId:(c=n).id,createTime:bl(no(c.createTime)),version:c.version});var c}getNamedQuery(e,n){return Uc(e).get(n).next(c=>{if(c)return{name:(f=c).name,query:Gh(f.bundledQuery),readTime:wl(f.readTime)};var f})}saveNamedQuery(e,n){return Uc(e).put({name:(c=n).name,readTime:bl(no(c.readTime)),bundledQuery:c.bundledQuery});var c}}function Jf(i){return vo(i,"bundles")}function Uc(i){return vo(i,"namedQueries")}class cd{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new cd(e,n.uid||"")}getOverlay(e,n){return ud(e).get(Xf(this.userId,n)).next(c=>c?Kh(this.M,c):null)}saveOverlays(e,n,c){const f=[];return c.forEach((w,I)=>{const N=new qd(n,I);f.push(this.Xt(e,N))}),At.waitFor(f)}removeOverlaysForBatchId(e,n,c){const f=new Set;n.forEach(I=>f.add(zs(I.getCollectionPath())));const w=[];return f.forEach(I=>{const N=IDBKeyRange.bound([this.userId,I,c],[this.userId,I,c+1],!1,!0);w.push(ud(e).Qt("collectionPathOverlayIndex",N))}),At.waitFor(w)}getOverlaysForCollection(e,n,c){const f=Pl(),w=zs(n),I=IDBKeyRange.bound([this.userId,w,c],[this.userId,w,Number.POSITIVE_INFINITY],!0);return ud(e).qt("collectionPathOverlayIndex",I).next(N=>{for(const J of N){const ae=Kh(this.M,J);f.set(ae.getKey(),ae)}return f})}getOverlaysForCollectionGroup(e,n,c,f){const w=Pl();let I;const N=IDBKeyRange.bound([this.userId,n,c],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ud(e).Wt({index:"collectionGroupOverlayIndex",range:N},(J,ae,ke)=>{const Ze=Kh(this.M,ae);w.size()<f||Ze.largestBatchId===I?(w.set(Ze.getKey(),Ze),I=Ze.largestBatchId):ke.done()}).next(()=>w)}Xt(e,n){return ud(e).put(function(c,f,w){const[I,N,J]=Xf(f,w.mutation.key);return{userId:f,collectionPath:N,documentId:J,collectionGroup:w.mutation.key.getCollectionGroup(),largestBatchId:w.largestBatchId,overlayMutation:Ll(c.Jt,w.mutation)}}(this.M,this.userId,n))}}function ud(i){return vo(i,"documentOverlays")}class uc{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(ui(e.integerValue));else if("doubleValue"in e){const c=ui(e.doubleValue);isNaN(c)?this.ne(n,13):(this.ne(n,15),el(c)?n.se(0):n.se(c))}else if("timestampValue"in e){const c=e.timestampValue;this.ne(n,20),"string"==typeof c?n.ie(c):(n.ie(`${c.seconds||""}`),n.se(c.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(As(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const c=e.geoPointValue;this.ne(n,45),n.se(c.latitude||0),n.se(c.longitude||0)}else"mapValue"in e?Ua(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):_n()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const c=e.fields||{};this.ne(n,55);for(const f of Object.keys(c))this.re(f,n),this.te(c[f],n)}he(e,n){const c=e.values||[];this.ne(n,50);for(const f of c)this.te(f,n)}ae(e,n){this.ne(n,37),mn.fromName(e).path.forEach(c=>{this.ne(n,60),this.le(c,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Yp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function qh(i){const e=64-function(n){let c=0;for(let f=0;f<8;++f){const w=Yp(255&n[f]);if(c+=w,8!==w)break}return c}(i);return Math.ceil(e/8)}uc.fe=new uc;class Zd{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let c=n.next();for(;!c.done;)this._e(c.value),c=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let c=n.next();for(;!c.done;)this.ge(c.value),c=n.next();this.ye()}pe(e){for(const n of e){const c=n.charCodeAt(0);if(c<128)this._e(c);else if(c<2048)this._e(960|c>>>6),this._e(128|63&c);else if(n<"\ud800"||"\udbff"<n)this._e(480|c>>>12),this._e(128|63&c>>>6),this._e(128|63&c);else{const f=n.codePointAt(0);this._e(240|f>>>18),this._e(128|63&f>>>12),this._e(128|63&f>>>6),this._e(128|63&f)}}this.we()}Ie(e){for(const n of e){const c=n.charCodeAt(0);if(c<128)this.ge(c);else if(c<2048)this.ge(960|c>>>6),this.ge(128|63&c);else if(n<"\ud800"||"\udbff"<n)this.ge(480|c>>>12),this.ge(128|63&c>>>6),this.ge(128|63&c);else{const f=n.codePointAt(0);this.ge(240|f>>>18),this.ge(128|63&f>>>12),this.ge(128|63&f>>>6),this.ge(128|63&f)}}this.ye()}Te(e){const n=this.Ee(e),c=qh(n);this.Ae(1+c),this.buffer[this.position++]=255&c;for(let f=n.length-c;f<n.length;++f)this.buffer[this.position++]=255&n[f]}Re(e){const n=this.Ee(e),c=qh(n);this.Ae(1+c),this.buffer[this.position++]=~(255&c);for(let f=n.length-c;f<n.length;++f)this.buffer[this.position++]=~(255&n[f])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(f){const w=new DataView(new ArrayBuffer(8));return w.setFloat64(0,f,!1),new Uint8Array(w.buffer)}(e),c=0!=(128&n[0]);n[0]^=c?255:128;for(let f=1;f<n.length;++f)n[f]^=c?255:0;return n}_e(e){const n=255&e;0===n?(this.be(0),this.be(255)):255===n?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let c=2*this.buffer.length;c<n&&(c=n);const f=new Uint8Array(c);f.set(this.buffer),this.buffer=f}}class am{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Qp{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Yd{constructor(){this.De=new Zd,this.Ce=new am(this.De),this.xe=new Qp(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class jc{constructor(e,n,c,f){this.indexId=e,this.documentKey=n,this.arrayValue=c,this.directionalValue=f}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,c=new Uint8Array(n);return c.set(this.directionalValue,0),n!==e?c.set([0],this.directionalValue.length):++c[c.length-1],new jc(this.indexId,this.documentKey,this.arrayValue,c)}}function Wa(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Tu(i.arrayValue,e.arrayValue),0!==n?n:(n=Tu(i.directionalValue,e.directionalValue),0!==n?n:mn.comparator(i.documentKey,e.documentKey)))}function Tu(i,e){for(let n=0;n<i.length&&n<e.length;++n){const c=i[n]-e[n];if(0!==c)return c}return i.length-e.length}class Xp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const c=n;c.S()?this.Fe=c:this.Oe.push(c)}}$e(e){const n=ca(e);if(void 0!==n&&!this.Be(n))return!1;const c=rl(e);let f=0,w=0;for(;f<c.length&&this.Be(c[f]);++f);if(f===c.length)return!0;if(void 0!==this.Fe){const I=c[f];if(!this.Le(this.Fe,I)||!this.Ue(this.Me[w++],I))return!1;++f}for(;f<c.length;++f){const I=c[f];if(w>=this.Me.length||!this.Ue(this.Me[w++],I))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class ey{constructor(){this.qe=new Zh}addToCollectionParentIndex(e,n){return this.qe.add(n),At.resolve()}getCollectionParents(e,n){return At.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return At.resolve()}deleteFieldIndex(e,n){return At.resolve()}getDocumentsMatchingTarget(e,n){return At.resolve(null)}getFieldIndex(e,n){return At.resolve(null)}getFieldIndexes(e,n){return At.resolve([])}getNextCollectionGroupToUpdate(e){return At.resolve(null)}updateCollectionGroup(e,n,c){return At.resolve()}updateIndexEntries(e,n){return At.resolve()}}class Zh{constructor(){this.index={}}add(e){const n=e.lastSegment(),c=e.popLast(),f=this.index[n]||new Xi(Cn.comparator),w=!f.has(c);return this.index[n]=f.add(c),w}has(e){const n=e.lastSegment(),c=e.popLast(),f=this.index[n];return f&&f.has(c)}getEntries(e){return(this.index[e]||new Xi(Cn.comparator)).toArray()}}const dd=new Uint8Array(0);class Jp{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new Zh,this.Ge=new ol(c=>W(c),(c,f)=>Re(c,f)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const c=n.lastSegment(),f=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const w={collectionId:c,parent:zs(f)};return eg(e).put(w)}return At.resolve()}getCollectionParents(e,n){const c=[],f=IDBKeyRange.bound([n,""],[j(n),""],!1,!0);return eg(e).qt(f).next(w=>{for(const I of w){if(I.collectionId!==n)break;c.push(cl(I.parent))}return c})}addFieldIndex(e,n){const c=Ma(e),f={indexId:(w=n).indexId,collectionGroup:w.collectionGroup,fields:w.fields.map(I=>[I.fieldPath.canonicalString(),I.kind])};var w;return delete f.indexId,c.add(f).next()}deleteFieldIndex(e,n){const c=Ma(e),f=Yh(e),w=Qd(e);return c.delete(n.indexId).next(()=>f.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>w.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const c=Qd(e);let f=!0;const w=new Map;return At.forEach(this.Qe(n),I=>this.getFieldIndex(e,I).next(N=>{f&&(f=!!N),w.set(I,N)})).next(()=>{if(f){let I=mi();const N=[];return At.forEach(w,(J,ae)=>{var ke;sn("IndexedDbIndexManager",`Using index ${ke=J,`id=${ke.indexId}|cg=${ke.collectionGroup}|f=${ke.fields.map(qs=>`${qs.fieldPath}:${qs.kind}`).join(",")}`} to execute ${W(n)}`);const Ze=function(qs,Pa){const Po=ca(Pa);if(void 0===Po)return null;for(const io of Ct(qs,Po.fieldPath))switch(io.op){case"array-contains-any":return io.value.arrayValue.values||[];case"array-contains":return[io.value]}return null}(ae,J),Tt=function(qs,Pa){const Po=new Map;for(const io of rl(Pa))for(const Ka of Ct(qs,io.fieldPath))switch(Ka.op){case"==":case"in":Po.set(io.fieldPath.canonicalString(),Ka.value);break;case"not-in":case"!=":return Po.set(io.fieldPath.canonicalString(),Ka.value),Array.from(Po.values())}return null}(ae,J),Yt=function(qs,Pa){const Po=[];let io=!0;for(const Ka of rl(Pa)){const Od=0===Ka.kind?Jt(qs,Ka.fieldPath,qs.startAt):Fn(qs,Ka.fieldPath,qs.startAt);if(!Od.value)return null;Po.push(Od.value),io&&(io=Od.inclusive)}return new ws(Po,io)}(ae,J),en=function(qs,Pa){const Po=[];let io=!0;for(const Ka of rl(Pa)){const Od=0===Ka.kind?Fn(qs,Ka.fieldPath,qs.endAt):Jt(qs,Ka.fieldPath,qs.endAt);if(!Od.value)return null;Po.push(Od.value),io&&(io=Od.inclusive)}return new ws(Po,io)}(ae,J),Kn=this.je(J,ae,Yt),Yr=this.je(J,ae,en),Ks=this.We(J,ae,Tt),Oo=this.ze(J.indexId,Ze,Kn,!!Yt&&Yt.inclusive,Yr,!!en&&en.inclusive,Ks);return At.forEach(Oo,qs=>c.Gt(qs,n.limit).next(Pa=>{Pa.forEach(Po=>{const io=mn.fromSegments(Po.documentKey);I.has(io)||(I=I.add(io),N.push(io))})}))}).next(()=>N)}return At.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,c,f,w,I,N){const J=(null!=n?n.length:1)*Math.max(null!=c?c.length:1,null!=w?w.length:1),ae=J/(null!=n?n.length:1),ke=[];for(let Ze=0;Ze<J;++Ze){const Tt=n?this.He(n[Ze/ae]):dd,Yt=c?this.Je(e,Tt,c[Ze%ae],f):this.Ye(e),en=w?this.Xe(e,Tt,w[Ze%ae],I):this.Ye(e+1);ke.push(...this.createRange(Yt,en,N.map(Kn=>this.Je(e,Tt,Kn,!0))))}return ke}Je(e,n,c,f){const w=new jc(e,mn.empty(),n,c);return f?w:w.ke()}Xe(e,n,c,f){const w=new jc(e,mn.empty(),n,c);return f?w.ke():w}Ye(e){return new jc(e,mn.empty(),dd,dd)}getFieldIndex(e,n){const c=new Xp(n),f=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,f).next(w=>{const I=w.filter(N=>c.$e(N));return I.sort((N,J)=>J.fields.length-N.fields.length),I.length>0?I[0]:null})}Ze(e,n){const c=new Yd;for(const f of rl(e)){const w=n.data.field(f.fieldPath);if(null==w)return null;const I=c.Ne(f.kind);uc.fe.Zt(w,I)}return c.Se()}He(e){const n=new Yd;return uc.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const c=new Yd;return uc.fe.Zt(nl(this.databaseId,n),c.Ne(function(f){const w=rl(f);return 0===w.length?0:w[w.length-1].kind}(e))),c.Se()}We(e,n,c){if(null===c)return[];let f=[];f.push(new Yd);let w=0;for(const I of rl(e)){const N=c[w++];for(const J of f)if(this.en(n,I.fieldPath)&&Yi(N))f=this.nn(f,I,N);else{const ae=J.Ne(I.kind);uc.fe.Zt(N,ae)}}return this.sn(f)}je(e,n,c){return null==c?null:this.We(e,n,c.position)}sn(e){const n=[];for(let c=0;c<e.length;++c)n[c]=e[c].Se();return n}nn(e,n,c){const f=[...e],w=[];for(const I of c.arrayValue.values||[])for(const N of f){const J=new Yd;J.seed(N.Se()),uc.fe.Zt(I,J.Ne(n.kind)),w.push(J)}return w}en(e,n){return!!e.filters.find(c=>c instanceof Wn&&c.field.isEqual(n)&&("in"===c.op||"not-in"===c.op))}getFieldIndexes(e,n){const c=Ma(e),f=Yh(e);return(n?c.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):c.qt()).next(w=>{const I=[];return At.forEach(w,N=>f.get([N.indexId,this.uid]).next(J=>{I.push(function(ae,ke){const Ze=ke?new xc(ke.sequenceNumber,new ja(wl(ke.readTime),new mn(cl(ke.documentKey)),ke.largestBatchId)):xc.empty(),Tt=ae.fields.map(([Yt,en])=>new mo(_r.fromServerFormat(Yt),en));return new Ss(ae.indexId,ae.collectionGroup,Tt,Ze)}(N,J))})).next(()=>I)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((c,f)=>{const w=c.indexState.sequenceNumber-f.indexState.sequenceNumber;return 0!==w?w:A(c.collectionGroup,f.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,c){const f=Ma(e),w=Yh(e);return this.rn(e).next(I=>f.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(N=>At.forEach(N,J=>{return w.put({indexId:J.indexId,uid:this.user.uid||"",sequenceNumber:I,readTime:bl((Tt=c).readTime),documentKey:zs(Tt.documentKey.path),largestBatchId:Tt.largestBatchId});var Tt})))}updateIndexEntries(e,n){const c=new Map;return At.forEach(n,(f,w)=>{const I=c.get(f.collectionGroup);return(I?At.resolve(I):this.getFieldIndexes(e,f.collectionGroup)).next(N=>(c.set(f.collectionGroup,N),At.forEach(N,J=>this.on(e,f,J).next(ae=>{const ke=this.un(w,J);return ae.isEqual(ke)?At.resolve():this.an(e,w,J,ae,ke)}))))})}cn(e,n,c,f){return Qd(e).put({indexId:f.indexId,uid:this.uid,arrayValue:f.arrayValue,directionalValue:f.directionalValue,orderedDocumentKey:this.tn(c,n.key),documentKey:n.key.path.toArray()})}hn(e,n,c,f){return Qd(e).delete([f.indexId,this.uid,f.arrayValue,f.directionalValue,this.tn(c,n.key),n.key.path.toArray()])}on(e,n,c){const f=Qd(e);let w=new Xi(Wa);return f.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([c.indexId,this.uid,this.tn(c,n)])},(I,N)=>{w=w.add(new jc(c.indexId,n,N.arrayValue,N.directionalValue))}).next(()=>w)}un(e,n){let c=new Xi(Wa);const f=this.Ze(n,e);if(null==f)return c;const w=ca(n);if(null!=w){const I=e.data.field(w.fieldPath);if(Yi(I))for(const N of I.arrayValue.values||[])c=c.add(new jc(n.indexId,e.key,this.He(N),f))}else c=c.add(new jc(n.indexId,e.key,dd,f));return c}an(e,n,c,f,w){sn("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const I=[];return function(N,J,ae,ke,Ze){const Tt=N.getIterator(),Yt=J.getIterator();let en=al(Tt),Kn=al(Yt);for(;en||Kn;){let Yr=!1,Ks=!1;if(en&&Kn){const Oo=ae(en,Kn);Oo<0?Ks=!0:Oo>0&&(Yr=!0)}else null!=en?Ks=!0:Yr=!0;Yr?(ke(Kn),Kn=al(Yt)):Ks?(Ze(en),en=al(Tt)):(en=al(Tt),Kn=al(Yt))}}(f,w,Wa,N=>{I.push(this.cn(e,n,c,N))},N=>{I.push(this.hn(e,n,c,N))}),At.waitFor(I)}rn(e){let n=1;return Yh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(c,f,w)=>{w.done(),n=f.sequenceNumber+1}).next(()=>n)}createRange(e,n,c){c=c.sort((I,N)=>Wa(I,N)).filter((I,N,J)=>!N||0!==Wa(I,J[N-1]));const f=[];f.push(e);for(const I of c){const N=Wa(I,e),J=Wa(I,n);if(0===N)f[0]=e.ke();else if(N>0&&J<0)f.push(I),f.push(I.ke());else if(J>0)break}f.push(n);const w=[];for(let I=0;I<f.length;I+=2)w.push(IDBKeyRange.bound([f[I].indexId,this.uid,f[I].arrayValue,f[I].directionalValue,dd,[]],[f[I+1].indexId,this.uid,f[I+1].arrayValue,f[I+1].directionalValue,dd,[]]));return w}}function eg(i){return vo(i,"collectionParents")}function Qd(i){return vo(i,"indexEntries")}function Ma(i){return vo(i,"indexConfiguration")}function Yh(i){return vo(i,"indexState")}const Qh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oa{constructor(e,n,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=c}static withCacheSize(e){return new Oa(e,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tg(i,e,n){const c=i.store("mutations"),f=i.store("documentMutations"),w=[],I=IDBKeyRange.only(n.batchId);let N=0;const J=c.Wt({range:I},(ke,Ze,Tt)=>(N++,Tt.delete()));w.push(J.next(()=>{M(1===N)}));const ae=[];for(const ke of n.mutations){const Ze=zd(e,ke.key.path,n.batchId);w.push(f.delete(Ze)),ae.push(ke.key)}return At.waitFor(w).next(()=>ae)}function dc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _n();e=i.noDocument}return JSON.stringify(e).length}Oa.DEFAULT_COLLECTION_PERCENTILE=10,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oa.DEFAULT=new Oa(41943040,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oa.DISABLED=new Oa(-1,0,0);class ep{constructor(e,n,c,f){this.userId=e,this.M=n,this.indexManager=c,this.referenceDelegate=f,this.ln={}}static Yt(e,n,c,f){M(""!==e.uid);const w=e.isAuthenticated()?e.uid:"";return new ep(w,n,c,f)}checkEmpty(e){let n=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).Wt({index:"userMutationsIndex",range:c},(f,w,I)=>{n=!1,I.done()}).next(()=>n)}addMutationBatch(e,n,c,f){const w=fd(e),I=hc(e);return I.add({}).next(N=>{M("number"==typeof N);const J=new od(N,n,c,f),ae=function(Tt,Yt,en){const Kn=en.baseMutations.map(Ks=>Ll(Tt.Jt,Ks)),Yr=en.mutations.map(Ks=>Ll(Tt.Jt,Ks));return{userId:Yt,batchId:en.batchId,localWriteTimeMs:en.localWriteTime.toMillis(),baseMutations:Kn,mutations:Yr}}(this.M,this.userId,J),ke=[];let Ze=new Xi((Tt,Yt)=>A(Tt.canonicalString(),Yt.canonicalString()));for(const Tt of f){const Yt=zd(this.userId,Tt.key.path,N);Ze=Ze.add(Tt.key.path.popLast()),ke.push(I.put(ae)),ke.push(w.put(Yt,Yf))}return Ze.forEach(Tt=>{ke.push(this.indexManager.addToCollectionParentIndex(e,Tt))}),e.addOnCommittedListener(()=>{this.ln[N]=J.keys()}),At.waitFor(ke).next(()=>J)})}lookupMutationBatch(e,n){return hc(e).get(n).next(c=>c?(M(c.userId===this.userId),ad(this.M,c)):null)}fn(e,n){return this.ln[n]?At.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(c=>{if(c){const f=c.keys();return this.ln[n]=f,f}return null})}getNextMutationBatchAfterBatchId(e,n){const c=n+1,f=IDBKeyRange.lowerBound([this.userId,c]);let w=null;return hc(e).Wt({index:"userMutationsIndex",range:f},(I,N,J)=>{N.userId===this.userId&&(M(N.batchId>=c),w=ad(this.M,N)),J.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return hc(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(f,w,I)=>{c=w.batchId,I.done()}).next(()=>c)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hc(e).qt("userMutationsIndex",n).next(c=>c.map(f=>ad(this.M,f)))}getAllMutationBatchesAffectingDocumentKey(e,n){const c=oc(this.userId,n.path),f=IDBKeyRange.lowerBound(c),w=[];return fd(e).Wt({range:f},(I,N,J)=>{const[ae,ke,Ze]=I,Tt=cl(ke);if(ae===this.userId&&n.path.isEqual(Tt))return hc(e).get(Ze).next(Yt=>{if(!Yt)throw _n();M(Yt.userId===this.userId),w.push(ad(this.M,Yt))});J.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(e,n){let c=new Xi(A);const f=[];return n.forEach(w=>{const I=oc(this.userId,w.path),N=IDBKeyRange.lowerBound(I),J=fd(e).Wt({range:N},(ae,ke,Ze)=>{const[Tt,Yt,en]=ae,Kn=cl(Yt);Tt===this.userId&&w.path.isEqual(Kn)?c=c.add(en):Ze.done()});f.push(J)}),At.waitFor(f).next(()=>this.dn(e,c))}getAllMutationBatchesAffectingQuery(e,n){const c=n.path,f=c.length+1,w=oc(this.userId,c),I=IDBKeyRange.lowerBound(w);let N=new Xi(A);return fd(e).Wt({range:I},(J,ae,ke)=>{const[Ze,Tt,Yt]=J,en=cl(Tt);Ze===this.userId&&c.isPrefixOf(en)?en.length===f&&(N=N.add(Yt)):ke.done()}).next(()=>this.dn(e,N))}dn(e,n){const c=[],f=[];return n.forEach(w=>{f.push(hc(e).get(w).next(I=>{if(null===I)throw _n();M(I.userId===this.userId),c.push(ad(this.M,I))}))}),At.waitFor(f).next(()=>c)}removeMutationBatch(e,n){return tg(e.Ht,this.userId,n).next(c=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),At.forEach(c,f=>this.referenceDelegate.markPotentiallyOrphaned(e,f))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return At.resolve();const c=IDBKeyRange.lowerBound([this.userId]),f=[];return fd(e).Wt({range:c},(w,I,N)=>{if(w[0]===this.userId){const J=cl(w[1]);f.push(J)}else N.done()}).next(()=>{M(0===f.length)})})}containsKey(e,n){return hd(e,this.userId,n)}wn(e){return ng(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hd(i,e,n){const c=oc(e,n.path),f=c[1],w=IDBKeyRange.lowerBound(c);let I=!1;return fd(i).Wt({range:w,jt:!0},(N,J,ae)=>{const[ke,Ze,Tt]=N;ke===e&&Ze===f&&(I=!0),ae.done()}).next(()=>I)}function hc(i){return vo(i,"mutations")}function fd(i){return vo(i,"documentMutations")}function ng(i){return vo(i,"mutationQueues")}class mr{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new mr(0)}static yn(){return new mr(-1)}}class rg{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const c=new mr(n.highestTargetId);return n.highestTargetId=c.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>ne.fromTimestamp(new K(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,c){return this.pn(e).next(f=>(f.highestListenSequenceNumber=n,c&&(f.lastRemoteSnapshotVersion=c.toTimestamp()),n>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=n),this.In(e,f)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(c=>(c.targetCount+=1,this.En(n,c),this.In(e,c))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>xu(e).delete(n.targetId)).next(()=>this.pn(e)).next(c=>(M(c.targetCount>0),c.targetCount-=1,this.In(e,c)))}removeTargets(e,n,c){let f=0;const w=[];return xu(e).Wt((I,N)=>{const J=Iu(N);J.sequenceNumber<=n&&null===c.get(J.targetId)&&(f++,w.push(this.removeTargetData(e,J)))}).next(()=>At.waitFor(w)).next(()=>f)}forEachTarget(e,n){return xu(e).Wt((c,f)=>{const w=Iu(f);n(w)})}pn(e){return tp(e).get("targetGlobalKey").next(n=>(M(null!==n),n))}In(e,n){return tp(e).put("targetGlobalKey",n)}Tn(e,n){return xu(e).put(Zp(this.M,n))}En(e,n){let c=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,c=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,c=!0),c}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const c=W(n),f=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let w=null;return xu(e).Wt({range:f,index:"queryTargetsIndex"},(I,N,J)=>{const ae=Iu(N);Re(n,ae.target)&&(w=ae,J.done())}).next(()=>w)}addMatchingKeys(e,n,c){const f=[],w=El(e);return n.forEach(I=>{const N=zs(I.path);f.push(w.put({targetId:c,path:N})),f.push(this.referenceDelegate.addReference(e,c,I))}),At.waitFor(f)}removeMatchingKeys(e,n,c){const f=El(e);return At.forEach(n,w=>{const I=zs(w.path);return At.waitFor([f.delete([c,I]),this.referenceDelegate.removeReference(e,c,w)])})}removeMatchingKeysForTargetId(e,n){const c=El(e),f=IDBKeyRange.bound([n],[n+1],!1,!0);return c.delete(f)}getMatchingKeysForTargetId(e,n){const c=IDBKeyRange.bound([n],[n+1],!1,!0),f=El(e);let w=mi();return f.Wt({range:c,jt:!0},(I,N,J)=>{const ae=cl(I[1]),ke=new mn(ae);w=w.add(ke)}).next(()=>w)}containsKey(e,n){const c=zs(n.path),f=IDBKeyRange.bound([c],[j(c)],!1,!0);let w=0;return El(e).Wt({index:"documentTargetsIndex",jt:!0,range:f},([I,N],J,ae)=>{0!==I&&(w++,ae.done())}).next(()=>w>0)}Et(e,n){return xu(e).get(n).next(c=>c?Iu(c):null)}}function xu(i){return vo(i,"targets")}function tp(i){return vo(i,"targetGlobal")}function El(i){return vo(i,"targetDocuments")}function Bo(i){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,_.Z)(function*(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==id)throw i;sn("LocalStore","Unexpectedly lost primary lease")}),Xh.apply(this,arguments)}function ig([i,e],[n,c]){const f=A(i,n);return 0===f?A(e,c):f}class np{constructor(e){this.An=e,this.buffer=new Xi(ig),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const c=this.buffer.last();ig(n,c)<0&&(this.buffer=this.buffer.delete(c).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bl{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const c=this.Vn?3e5:6e4;sn("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,_.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(f){Vl(f)?sn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",f):yield Bo(f)}yield n.Sn(e)}))}}class rp{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(c=>Math.floor(n/100*c))}nthSequenceNumber(e,n){if(0===n)return At.resolve(bs.A);const c=new np(n);return this.Dn.forEachTarget(e,f=>c.bn(f.sequenceNumber)).next(()=>this.Dn.xn(e,f=>c.bn(f))).next(()=>c.maxValue)}removeTargets(e,n,c){return this.Dn.removeTargets(e,n,c)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(Qh)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qh):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let c,f,w,I,N,J,ae;const ke=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(sn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),f=this.params.maximumSequenceNumbersToCollect):f=Ze,I=Date.now(),this.nthSequenceNumber(e,f))).next(Ze=>(c=Ze,N=Date.now(),this.removeTargets(e,c,n))).next(Ze=>(w=Ze,J=Date.now(),this.removeOrphanedDocuments(e,c))).next(Ze=>(ae=Date.now(),Xa()<=Se.in.DEBUG&&sn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${I-ke}ms\n\tDetermined least recently used ${f} in `+(N-I)+`ms\n\tRemoved ${w} targets in `+(J-N)+`ms\n\tRemoved ${Ze} documents in `+(ae-J)+`ms\nTotal Duration: ${ae-ke}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:f,targetsRemoved:w,documentsRemoved:Ze})))}}class Xd{constructor(e,n){this.db=e,this.garbageCollector=new rp(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(c=>n.next(f=>c+f))}kn(e){let n=0;return this.xn(e,c=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(c,f)=>n(f))}addReference(e,n,c){return pd(e,c)}removeReference(e,n,c){return pd(e,c)}removeTargets(e,n,c){return this.db.getTargetCache().removeTargets(e,n,c)}markPotentiallyOrphaned(e,n){return pd(e,n)}On(e,n){return function(c,f){let w=!1;return ng(c).zt(I=>hd(c,I,f).next(N=>(N&&(w=!0),At.resolve(!N)))).next(()=>w)}(e,n)}removeOrphanedDocuments(e,n){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[];let w=0;return this.Mn(e,(I,N)=>{if(N<=n){const J=this.On(e,I).next(ae=>{if(!ae)return w++,c.getEntry(e,I).next(()=>(c.removeEntry(I,ne.min()),El(e).delete([0,zs(I.path)])))});f.push(J)}}).next(()=>At.waitFor(f)).next(()=>c.apply(e)).next(()=>w)}removeTarget(e,n){const c=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,c)}updateLimboDocument(e,n){return pd(e,n)}Mn(e,n){const c=El(e);let f,w=bs.A;return c.Wt({index:"documentTargetsIndex"},([I,N],{path:J,sequenceNumber:ae})=>{0===I?(w!==bs.A&&n(new mn(cl(f)),w),w=ae,f=J):w=bs.A}).next(()=>{w!==bs.A&&n(new mn(cl(f)),w)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pd(i,e){return El(i).put((c=i.currentSequenceNumber,{targetId:0,path:zs(e.path),sequenceNumber:c}));var c}class Au{constructor(){this.changes=new ol(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const c=this.changes.get(n);return void 0!==c?At.resolve(c):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,c){return Ul(e).put(c)}removeEntry(e,n,c){return Ul(e).delete(function(f,w){const I=f.path.toArray();return[I.slice(0,I.length-2),I[I.length-2],ul(w),I[I.length-1]]}(n,c))}updateMetadata(e,n){return this.getMetadata(e).next(c=>(c.byteSize+=n,this.Fn(e,c)))}getEntry(e,n){let c=Oi.newInvalidDocument(n);return Ul(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Su(n))},(f,w)=>{c=this.$n(n,w)}).next(()=>c)}Bn(e,n){let c={size:0,document:Oi.newInvalidDocument(n)};return Ul(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Su(n))},(f,w)=>{c={document:this.$n(n,w),size:dc(w)}}).next(()=>c)}getEntries(e,n){let c=Yo();return this.Ln(e,n,(f,w)=>{const I=this.$n(f,w);c=c.insert(f,I)}).next(()=>c)}Un(e,n){let c=Yo(),f=new rs(mn.comparator);return this.Ln(e,n,(w,I)=>{const N=this.$n(w,I);c=c.insert(w,N),f=f.insert(w,dc(I))}).next(()=>({documents:c,qn:f}))}Ln(e,n,c){if(n.isEmpty())return At.resolve();let f=new Xi(Jh);n.forEach(J=>f=f.add(J));const w=IDBKeyRange.bound(Su(f.first()),Su(f.last())),I=f.getIterator();let N=I.getNext();return Ul(e).Wt({index:"documentKeyIndex",range:w},(J,ae,ke)=>{const Ze=mn.fromSegments([...ae.prefixPath,ae.collectionGroup,ae.documentId]);for(;N&&Jh(N,Ze)<0;)c(N,null),N=I.getNext();N&&N.isEqual(Ze)&&(c(N,ae),N=I.hasNext()?I.getNext():null),N?ke.Ut(Su(N)):ke.done()}).next(()=>{for(;N;)c(N,null),N=I.hasNext()?I.getNext():null})}getAllFromCollection(e,n,c){const f=[n.popLast().toArray(),n.lastSegment(),ul(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],w=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ul(e).qt(IDBKeyRange.bound(f,w,!0)).next(I=>{let N=Yo();for(const J of I){const ae=this.$n(mn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);N=N.insert(ae.key,ae)}return N})}getAllFromCollectionGroup(e,n,c,f){let w=Yo();const I=gd(n,c),N=gd(n,ja.max());return Ul(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(I,N,!0)},(J,ae,ke)=>{const Ze=this.$n(mn.fromSegments(ae.prefixPath.concat(ae.collectionGroup,ae.documentId)),ae);w=w.insert(Ze.key,Ze),w.size===f&&ke.done()}).next(()=>w)}newChangeBuffer(e){return new ty(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Jd(e).get("remoteDocumentGlobalKey").next(n=>(M(!!n),n))}Fn(e,n){return Jd(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const c=function qp(i,e){let n;if(e.document)n=Nl(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const c=mn.fromSegments(e.noDocument.path),f=wl(e.noDocument.readTime);n=Oi.newNoDocument(c,f),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _n();{const c=mn.fromSegments(e.unknownDocument.path),f=wl(e.unknownDocument.version);n=Oi.newUnknownDocument(c,f)}}return e.readTime&&n.setReadTime(function(c){const f=new K(c[0],c[1]);return ne.fromTimestamp(f)}(e.readTime)),n}(this.M,n);if(!c.isNoDocument()||!c.version.isEqual(ne.min()))return c}return Oi.newInvalidDocument(e)}}class ty extends Au{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new ol(c=>c.toString(),(c,f)=>c.isEqual(f))}applyChanges(e){const n=[];let c=0,f=new Xi((w,I)=>A(w.canonicalString(),I.canonicalString()));return this.changes.forEach((w,I)=>{const N=this.Gn.get(w);if(n.push(this.Kn.removeEntry(e,w,N.readTime)),I.isValidDocument()){const J=Wh(this.Kn.M,I);f=f.add(w.path.popLast()),c+=dc(J)-N.size,n.push(this.Kn.addEntry(e,w,J))}else if(c-=N.size,this.trackRemovals){const J=Wh(this.Kn.M,I.convertToNoDocument(ne.min()));n.push(this.Kn.addEntry(e,w,J))}}),f.forEach(w=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,w))}),n.push(this.Kn.updateMetadata(e,c)),At.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(c=>(this.Gn.set(n,{size:c.size,readTime:c.document.readTime}),c.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:c,qn:f})=>(f.forEach((w,I)=>{this.Gn.set(w,{size:I,readTime:c.get(w).readTime})}),c))}}function Jd(i){return vo(i,"remoteDocumentGlobal")}function Ul(i){return vo(i,"remoteDocumentsV14")}function Su(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gd(i,e){const n=e.documentKey.path.toArray();return[i,ul(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Jh(i,e){const n=i.path.toArray(),c=e.path.toArray();let f=0;for(let w=0;w<n.length-2&&w<c.length-2;++w)if(f=A(n[w],c[w]),f)return f;return f=A(n.length,c.length),f||(f=A(n[n.length-2],c[c.length-2]),f||A(n[n.length-1],c[c.length-1]))}class og{constructor(e){this.M=e}kt(e,n,c,f){const w=new lc("createOrUpgrade",n);var N;c<1&&f>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Eu,{unique:!0}),N.createObjectStore("documentMutations"),ip(e),function(N){N.createObjectStore("remoteDocuments")}(e));let I=At.resolve();return c<3&&f>=3&&(0!==c&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),ip(e)),I=I.next(()=>function(N){const J=N.store("targetGlobal"),ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return J.put("targetGlobalKey",ae)}(w))),c<4&&f>=4&&(0!==c&&(I=I.next(()=>function(N,J){return J.store("mutations").qt().next(ae=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Eu,{unique:!0});const ke=J.store("mutations"),Ze=ae.map(Tt=>ke.put(Tt));return At.waitFor(Ze)})}(e,w))),I=I.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),c<5&&f>=5&&(I=I.next(()=>this.Qn(w))),c<6&&f>=6&&(I=I.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.jn(w)))),c<7&&f>=7&&(I=I.next(()=>this.Wn(w))),c<8&&f>=8&&(I=I.next(()=>this.zn(e,w))),c<9&&f>=9&&(I=I.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),c<10&&f>=10&&(I=I.next(()=>this.Hn(w))),c<11&&f>=11&&(I=I.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),c<12&&f>=12&&(I=I.next(()=>{!function(N){const J=N.createObjectStore("documentOverlays",{keyPath:ur});J.createIndex("collectionPathOverlayIndex",sr,{unique:!1}),J.createIndex("collectionGroupOverlayIndex",ms,{unique:!1})}(e)})),c<13&&f>=13&&(I=I.next(()=>function(N){const J=N.createObjectStore("remoteDocumentsV14",{keyPath:$h});J.createIndex("documentKeyIndex",D),J.createIndex("collectionGroupIndex",m)}(e)).next(()=>this.Jn(e,w)).next(()=>e.deleteObjectStore("remoteDocuments"))),c<14&&f>=14&&(I=I.next(()=>{!function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:tt}).createIndex("sequenceNumberIndex",xt,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:yn}).createIndex("documentKeyIndex",Vn,{unique:!1})}(e)})),I}jn(e){let n=0;return e.store("remoteDocuments").Wt((c,f)=>{n+=dc(f)}).next(()=>{const c={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",c)})}Qn(e){const n=e.store("mutationQueues"),c=e.store("mutations");return n.qt().next(f=>At.forEach(f,w=>{const I=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return c.qt("userMutationsIndex",I).next(N=>At.forEach(N,J=>{M(J.userId===w.userId);const ae=ad(this.M,J);return tg(e,w.userId,ae).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),c=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(f=>{const w=[];return c.Wt((I,N)=>{const J=new Cn(I),ae=[0,zs(J)];w.push(n.get(ae).next(ke=>ke?At.resolve():n.put({targetId:0,path:zs(J),sequenceNumber:f.highestListenSequenceNumber})))}).next(()=>At.waitFor(w))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:pe});const c=n.store("collectionParents"),f=new Zh,w=I=>{if(f.add(I)){const N=I.lastSegment(),J=I.popLast();return c.put({collectionId:N,parent:zs(J)})}};return n.store("remoteDocuments").Wt({jt:!0},(I,N)=>{const J=new Cn(I);return w(J.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([I,N,J],ae)=>{const ke=cl(N);return w(ke.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((c,f)=>{const w=Iu(f),I=Zp(this.M,w);return n.put(I)})}Jn(e,n){const c=n.store("remoteDocuments"),f=[];return c.Wt((w,I)=>{const N=n.store("remoteDocumentsV14"),J=(ae=I,ae.document?new mn(Cn.fromString(ae.document.name).popFirst(5)):ae.noDocument?mn.fromSegments(ae.noDocument.path):ae.unknownDocument?mn.fromSegments(ae.unknownDocument.path):_n()).path.toArray();var ae;const ke={prefixPath:J.slice(0,J.length-2),collectionGroup:J[J.length-2],documentId:J[J.length-1],readTime:I.readTime||[0,0],unknownDocument:I.unknownDocument,noDocument:I.noDocument,document:I.document,hasCommittedMutations:!!I.hasCommittedMutations};f.push(N.put(ke))}).next(()=>At.waitFor(f))}}function ip(i){i.createObjectStore("targetDocuments",{keyPath:S}).createIndex("documentTargetsIndex",Q,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",v,{unique:!0}),i.createObjectStore("targetGlobal")}const sp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class op{constructor(e,n,c,f,w,I,N,J,ae,ke,Ze=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=c,this.Yn=w,this.window=I,this.document=N,this.Xn=ae,this.Zn=ke,this.ts=Ze,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Tt=>Promise.resolve(),!op.vt())throw new Ge(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xd(this,f),this.hs=n+"main",this.M=new Qf(J),this.ls=new pa(this.hs,this.ts,new og(this.M)),this.fs=new rg(this.referenceDelegate,this.M),this.ds=new sg(this.M),this._s=new ld,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===ke&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ge(re.FAILED_PRECONDITION,sp);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new bs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var c=(0,_.Z)(function*(f){if(n.started)return e(f)});return function(f){return c.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,_.Z)(function*(c){null===c.newVersion&&(yield e())});return function(c){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,_.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>th(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(Vl(e))return sn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return eh(e).get("owner").next(n=>At.resolve(this.bs(n)))}Vs(e){return th(e).delete(this.clientId)}vs(){var e=this;return(0,_.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const f=vo(c,"clientMetadata");return f.qt().next(w=>{const I=e.Ds(w,18e5),N=w.filter(J=>-1===I.indexOf(J));return At.forEach(N,J=>f.delete(J.clientId)).next(()=>N)})}).catch(()=>[]);if(e.ws)for(const c of n)e.ws.removeItem(e.Cs(c.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?At.resolve(!0):eh(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new Ge(re.FAILED_PRECONDITION,sp);return!1}}return!(!this.networkEnabled||!this.inForeground)||th(e).qt().next(c=>void 0===this.Ds(c,5e3).find(f=>{if(this.clientId!==f.clientId){const I=!this.inForeground&&f.inForeground,N=this.networkEnabled===f.networkEnabled;if(!this.networkEnabled&&f.networkEnabled||I&&N)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&sn("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,_.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const c=new ga(n,bs.A);return e.Rs(c).next(()=>e.Vs(c))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(c=>this.Ss(c.updateTimeMs,n)&&!this.xs(c.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>th(e).qt().next(n=>this.Ds(n,18e5).map(c=>c.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return ep.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Jp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return cd.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,c){sn("IndexedDbPersistence","Starting transaction:",e);const f="readonly"===n?"readonly":"readwrite",w=14===(I=this.ts)?Vc:13===I?Du:12===I?ac:11===I?Vo:void _n();var I;let N;return this.ls.runTransaction(e,f,w,J=>(N=new ga(J,this.es?this.es.next():bs.A),"readwrite-primary"===n?this.Es(N).next(ae=>!!ae||this.As(N)).next(ae=>{if(!ae)throw Vr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ge(re.FAILED_PRECONDITION,id);return c(N)}).next(ae=>this.Ps(N).next(()=>ae)):this.$s(N).next(()=>c(N)))).then(J=>(N.raiseOnCommittedEvent(),J))}$s(e){return eh(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ge(re.FAILED_PRECONDITION,sp)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eh(e).put("owner",n)}static vt(){return pa.vt()}Rs(e){const n=eh(e);return n.get("owner").next(c=>this.bs(c)?(sn("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):At.resolve())}Ss(e,n){const c=Date.now();return!(e<c-n||e>c&&(Vr(`Detected an update time that is in the future: ${e} > ${c}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,de.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const c=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return sn("IndexedDbPersistence",`Client '${e}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return Vr("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Vr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eh(i){return vo(i,"owner")}function th(i){return vo(i,"clientMetadata")}function ag(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class lm{constructor(e,n,c){this.ds=e,this.Bs=n,this.indexManager=c}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(c=>this.Us(e,n,c))}Us(e,n,c){return this.ds.getEntry(e,n).next(f=>{for(const w of c)w.applyToLocalView(f);return f})}qs(e,n){e.forEach((c,f)=>{for(const w of n)w.applyToLocalView(f)})}Ks(e,n){return this.ds.getEntries(e,n).next(c=>this.Gs(e,c).next(()=>c))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>this.qs(n,c))}Qs(e,n,c){return mn.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.js(e,n.path):Gu(n)?this.Ws(e,n,c):this.zs(e,n,c);var f}js(e,n){return this.Ls(e,new mn(n)).next(c=>{let f=ic();return c.isFoundDocument()&&(f=f.insert(c.key,c)),f})}Ws(e,n,c){const f=n.collectionGroup;let w=ic();return this.indexManager.getCollectionParents(e,f).next(I=>At.forEach(I,N=>{const J=(ae=n,ke=N.child(f),new ua(ke,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,ke;return this.zs(e,J,c).next(ae=>{ae.forEach((ke,Ze)=>{w=w.insert(ke,Ze)})})}).next(()=>w))}zs(e,n,c){let f;return this.ds.getAllFromCollection(e,n.path,c).next(w=>(f=w,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(w=>{for(const I of w)for(const N of I.mutations){const J=N.key;let ae=f.get(J);null==ae&&(ae=Oi.newInvalidDocument(J),f=f.insert(J,ae)),Ph(N,ae,I.localWriteTime),ae.isFoundDocument()||(f=f.remove(J))}}).next(()=>(f.forEach((w,I)=>{Sl(n,I)||(f=f.remove(w))}),f))}}class lg{constructor(e,n,c,f){this.targetId=e,this.fromCache=n,this.Hs=c,this.Js=f}static Ys(e,n){let c=mi(),f=mi();for(const w of n.docChanges)switch(w.type){case 0:c=c.add(w.doc.key);break;case 1:f=f.add(w.doc.key)}return new lg(e,n.fromCache,c,f)}}class ap{Xs(e){this.Zs=e}Qs(e,n,c,f){return 0===(w=n).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||c.isEqual(ne.min())?this.ti(e,n):this.Zs.Ks(e,f).next(w=>{const I=this.ei(n,w);return(uu(n)||du(n))&&this.ni(n.limitType,I,f,c)?this.ti(e,n):(Xa()<=Se.in.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Oc(n)),this.Zs.Qs(e,n,cu(c,-1)).next(N=>(I.forEach(J=>{N=N.insert(J.key,J)}),N)))});var w}ei(e,n){let c=new Xi(xh(e));return n.forEach((f,w)=>{Sl(e,w)&&(c=c.add(w))}),c}ni(e,n,c,f){if(c.size!==n.size)return!0;const w="F"===e?n.last():n.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(f)>0)}ti(e,n){return Xa()<=Se.in.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",Oc(n)),this.Zs.Qs(e,n,ja.min())}}class cg{constructor(e,n,c,f){this.persistence=e,this.si=n,this.M=f,this.ii=new rs(A),this.ri=new ol(w=>W(w),Re),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(c)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new lm(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function ug(i,e,n,c){return new cg(i,e,n,c)}function ef(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,_.Z)(function*(i,e){const n=q(i);return yield n.persistence.runTransaction("Handle user change","readonly",c=>{let f;return n.Bs.getAllMutationBatches(c).next(w=>(f=w,n.ai(e),n.Bs.getAllMutationBatches(c))).next(w=>{const I=[],N=[];let J=mi();for(const ae of f){I.push(ae.batchId);for(const ke of ae.mutations)J=J.add(ke.key)}for(const ae of w){N.push(ae.batchId);for(const ke of ae.mutations)J=J.add(ke.key)}return n.ci.Ks(c,J).next(ae=>({hi:ae,removedBatchIds:I,addedBatchIds:N}))})})}),dg.apply(this,arguments)}function ny(i,e){const n=q(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const f=e.batch.keys(),w=n.ui.newChangeBuffer({trackRemovals:!0});return function(I,N,J,ae){const ke=J.batch,Ze=ke.keys();let Tt=At.resolve();return Ze.forEach(Yt=>{Tt=Tt.next(()=>ae.getEntry(N,Yt)).next(en=>{const Kn=J.docVersions.get(Yt);M(null!==Kn),en.version.compareTo(Kn)<0&&(ke.applyToRemoteDocument(en,J),en.isValidDocument()&&(en.setReadTime(J.commitVersion),ae.addEntry(en)))})}),Tt.next(()=>I.Bs.removeMutationBatch(N,ke))}(n,c,e,w).next(()=>w.apply(c)).next(()=>n.Bs.performConsistencyCheck(c)).next(()=>n.ci.Ks(c,f))})}function cm(i){const e=q(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function ry(i,e){const n=q(i),c=e.snapshotVersion;let f=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const I=n.ui.newChangeBuffer({trackRemovals:!0});f=n.ii;const N=[];e.targetChanges.forEach((ae,ke)=>{const Ze=f.get(ke);if(!Ze)return;N.push(n.fs.removeMatchingKeys(w,ae.removedDocuments,ke).next(()=>n.fs.addMatchingKeys(w,ae.addedDocuments,ke)));let Tt=Ze.withSequenceNumber(w.currentSequenceNumber);var Yt,en,Kn;e.targetMismatches.has(ke)?Tt=Tt.withResumeToken(ci.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):ae.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(ae.resumeToken,c)),f=f.insert(ke,Tt),en=Tt,Kn=ae,(0===(Yt=Ze).resumeToken.approximateByteSize()||en.snapshotVersion.toMicroseconds()-Yt.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&N.push(n.fs.updateTargetData(w,Tt))});let J=Yo();if(e.documentUpdates.forEach(ae=>{e.resolvedLimboDocuments.has(ae)&&N.push(n.persistence.referenceDelegate.updateLimboDocument(w,ae))}),N.push(um(w,I,e.documentUpdates).next(ae=>{J=ae})),!c.isEqual(ne.min())){const ae=n.fs.getLastRemoteSnapshotVersion(w).next(ke=>n.fs.setTargetsMetadata(w,w.currentSequenceNumber,c));N.push(ae)}return At.waitFor(N).next(()=>I.apply(w)).next(()=>n.ci.Gs(w,J)).next(()=>J)}).then(w=>(n.ii=f,w))}function um(i,e,n){let c=mi();return n.forEach(f=>c=c.add(f)),e.getEntries(i,c).next(f=>{let w=Yo();return n.forEach((I,N)=>{const J=f.get(I);N.isNoDocument()&&N.version.isEqual(ne.min())?(e.removeEntry(I,N.readTime),w=w.insert(I,N)):!J.isValidDocument()||N.version.compareTo(J.version)>0||0===N.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(N),w=w.insert(I,N)):sn("LocalStore","Ignoring outdated watch update for ",I,". Current version:",J.version," Watch version:",N.version)}),w})}function iy(i,e){const n=q(i);return n.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(c,e)))}function nh(i,e){const n=q(i);return n.persistence.runTransaction("Allocate target","readwrite",c=>{let f;return n.fs.getTargetData(c,e).next(w=>w?(f=w,At.resolve(f)):n.fs.allocateTargetId(c).next(I=>(f=new Bc(e,I,0,c.currentSequenceNumber),n.fs.addTargetData(c,f).next(()=>f))))}).then(c=>{const f=n.ii.get(c.targetId);return(null===f||c.snapshotVersion.compareTo(f.snapshotVersion)>0)&&(n.ii=n.ii.insert(c.targetId,c),n.ri.set(e,c.targetId)),c})}function Mu(i,e,n){return hg.apply(this,arguments)}function hg(){return hg=(0,_.Z)(function*(i,e,n){const c=q(i),f=c.ii.get(e),w=n?"readwrite":"readwrite-primary";try{n||(yield c.persistence.runTransaction("Release target",w,I=>c.persistence.referenceDelegate.removeTarget(I,f)))}catch(I){if(!Vl(I))throw I;sn("LocalStore",`Failed to update sequence numbers for target ${e}: ${I}`)}c.ii=c.ii.remove(e),c.ri.delete(f.target)}),hg.apply(this,arguments)}function tf(i,e,n){const c=q(i);let f=ne.min(),w=mi();return c.persistence.runTransaction("Execute query","readonly",I=>function(N,J,ae){const ke=q(N),Ze=ke.ri.get(ae);return void 0!==Ze?At.resolve(ke.ii.get(Ze)):ke.fs.getTargetData(J,ae)}(c,I,ha(e)).next(N=>{if(N)return f=N.lastLimboFreeSnapshotVersion,c.fs.getMatchingKeysForTargetId(I,N.targetId).next(J=>{w=J})}).next(()=>c.si.Qs(I,e,n?f:ne.min(),n?w:mi())).next(N=>(fg(c,hu(e),N),{documents:N,li:w})))}function fc(i,e){const n=q(i),c=q(n.fs),f=n.ii.get(e);return f?Promise.resolve(f.target):n.persistence.runTransaction("Get target data","readonly",w=>c.Et(w,e).next(I=>I?I.target:null))}function Hc(i,e){const n=q(i),c=n.oi.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",f=>n.ui.getAllFromCollectionGroup(f,e,cu(c,-1),Number.MAX_SAFE_INTEGER)).then(f=>(fg(n,e,f),f))}function fg(i,e,n){let c=ne.min();n.forEach((f,w)=>{w.readTime.compareTo(c)>0&&(c=w.readTime)}),i.oi.set(e,c)}function rh(){return rh=(0,_.Z)(function*(i,e,n,c){const f=q(i);let w=mi(),I=Yo();for(const ae of n){const ke=e.fi(ae.metadata.name);ae.document&&(w=w.add(ke));const Ze=e.di(ae);Ze.setReadTime(e._i(ae.metadata.readTime)),I=I.insert(ke,Ze)}const N=f.ui.newChangeBuffer({trackRemovals:!0}),J=yield nh(f,(ae=c,ha(da(Cn.fromString(`__bundle__/docs/${ae}`)))));var ae;return f.persistence.runTransaction("Apply bundle documents","readwrite",ae=>um(ae,N,I).next(ke=>(N.apply(ae),ke)).next(ke=>f.fs.removeMatchingKeysForTargetId(ae,J.targetId).next(()=>f.fs.addMatchingKeys(ae,w,J.targetId)).next(()=>f.ci.Gs(ae,ke)).next(()=>ke)))}),rh.apply(this,arguments)}function gg(i,e){return ih.apply(this,arguments)}function ih(){return ih=(0,_.Z)(function*(i,e,n=mi()){const c=yield nh(i,ha(Gh(e.bundledQuery))),f=q(i);return f.persistence.runTransaction("Save named query","readwrite",w=>{const I=no(e.readTime);if(c.snapshotVersion.compareTo(I)>=0)return f._s.saveNamedQuery(w,e);const N=c.withResumeToken(ci.EMPTY_BYTE_STRING,I);return f.ii=f.ii.insert(N.targetId,N),f.fs.updateTargetData(w,N).next(()=>f.fs.removeMatchingKeysForTargetId(w,c.targetId)).next(()=>f.fs.addMatchingKeys(w,n,c.targetId)).next(()=>f._s.saveNamedQuery(w,e))})}),ih.apply(this,arguments)}class dm{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return At.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var c;return this.wi.set(n.id,{id:(c=n).id,version:c.version,createTime:no(c.createTime)}),At.resolve()}getNamedQuery(e,n){return At.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(c=n).name,query:Gh(c.bundledQuery),readTime:no(c.readTime)}),At.resolve();var c}}class $c{constructor(){this.overlays=new rs(mn.comparator),this.gi=new Map}getOverlay(e,n){return At.resolve(this.overlays.get(n))}saveOverlays(e,n,c){return c.forEach((f,w)=>{this.Xt(e,n,w)}),At.resolve()}removeOverlaysForBatchId(e,n,c){const f=this.gi.get(c);return void 0!==f&&(f.forEach(w=>this.overlays=this.overlays.remove(w)),this.gi.delete(c)),At.resolve()}getOverlaysForCollection(e,n,c){const f=Pl(),w=n.length+1,I=new mn(n.child("")),N=this.overlays.getIteratorFrom(I);for(;N.hasNext();){const J=N.getNext().value,ae=J.getKey();if(!n.isPrefixOf(ae.path))break;ae.path.length===w&&J.largestBatchId>c&&f.set(J.getKey(),J)}return At.resolve(f)}getOverlaysForCollectionGroup(e,n,c,f){let w=new rs((ae,ke)=>ae-ke);const I=this.overlays.getIterator();for(;I.hasNext();){const ae=I.getNext().value;if(ae.getKey().getCollectionGroup()===n&&ae.largestBatchId>c){let ke=w.get(ae.largestBatchId);null===ke&&(ke=Pl(),w=w.insert(ae.largestBatchId,ke)),ke.set(ae.getKey(),ae)}}const N=Pl(),J=w.getIterator();for(;J.hasNext()&&(J.getNext().value.forEach((ae,ke)=>N.set(ae,ke)),!(N.size()>=f)););return At.resolve(N)}Xt(e,n,c){if(null===c)return;const f=this.overlays.get(c.key);if(null!==f){const I=this.gi.get(f.largestBatchId).delete(c.key);this.gi.set(f.largestBatchId,I)}this.overlays=this.overlays.insert(c.key,new qd(n,c));let w=this.gi.get(n);void 0===w&&(w=mi(),this.gi.set(n,w)),this.gi.set(n,w.add(c.key))}}class nf{constructor(){this.yi=new Xi(So.pi),this.Ii=new Xi(So.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const c=new So(e,n);this.yi=this.yi.add(c),this.Ii=this.Ii.add(c)}Ei(e,n){e.forEach(c=>this.addReference(c,n))}removeReference(e,n){this.Ai(new So(e,n))}Ri(e,n){e.forEach(c=>this.removeReference(c,n))}Pi(e){const n=new mn(new Cn([])),c=new So(n,e),f=new So(n,e+1),w=[];return this.Ii.forEachInRange([c,f],I=>{this.Ai(I),w.push(I.key)}),w}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new mn(new Cn([])),c=new So(n,e),f=new So(n,e+1);let w=mi();return this.Ii.forEachInRange([c,f],I=>{w=w.add(I.key)}),w}containsKey(e){const n=new So(e,0),c=this.yi.firstAfterOrEqual(n);return null!==c&&e.isEqual(c.key)}}class So{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return mn.comparator(e.key,n.key)||A(e.vi,n.vi)}static Ti(e,n){return A(e.vi,n.vi)||mn.comparator(e.key,n.key)}}class lp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Xi(So.pi)}checkEmpty(e){return At.resolve(0===this.Bs.length)}addMutationBatch(e,n,c,f){const w=this.Si;this.Si++;const I=new od(w,n,c,f);this.Bs.push(I);for(const N of f)this.Di=this.Di.add(new So(N.key,w)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return At.resolve(I)}lookupMutationBatch(e,n){return At.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const f=this.xi(n+1),w=f<0?0:f;return At.resolve(this.Bs.length>w?this.Bs[w]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return At.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const c=new So(n,0),f=new So(n,Number.POSITIVE_INFINITY),w=[];return this.Di.forEachInRange([c,f],I=>{const N=this.Ci(I.vi);w.push(N)}),At.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(e,n){let c=new Xi(A);return n.forEach(f=>{const w=new So(f,0),I=new So(f,Number.POSITIVE_INFINITY);this.Di.forEachInRange([w,I],N=>{c=c.add(N.vi)})}),At.resolve(this.Ni(c))}getAllMutationBatchesAffectingQuery(e,n){const c=n.path,f=c.length+1;let w=c;mn.isDocumentKey(w)||(w=w.child(""));const I=new So(new mn(w),0);let N=new Xi(A);return this.Di.forEachWhile(J=>{const ae=J.key.path;return!!c.isPrefixOf(ae)&&(ae.length===f&&(N=N.add(J.vi)),!0)},I),At.resolve(this.Ni(N))}Ni(e){const n=[];return e.forEach(c=>{const f=this.Ci(c);null!==f&&n.push(f)}),n}removeMutationBatch(e,n){M(0===this.ki(n.batchId,"removed")),this.Bs.shift();let c=this.Di;return At.forEach(n.mutations,f=>{const w=new So(f.key,n.batchId);return c=c.delete(w),this.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(()=>{this.Di=c})}_n(e){}containsKey(e,n){const c=new So(n,0),f=this.Di.firstAfterOrEqual(c);return At.resolve(n.isEqual(f&&f.key))}performConsistencyCheck(e){return At.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class hm{constructor(e){this.Mi=e,this.docs=new rs(mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const c=n.key,f=this.docs.get(c),w=f?f.size:0,I=this.Mi(n);return this.docs=this.docs.insert(c,{document:n.mutableCopy(),size:I}),this.size+=I-w,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const c=this.docs.get(n);return At.resolve(c?c.document.mutableCopy():Oi.newInvalidDocument(n))}getEntries(e,n){let c=Yo();return n.forEach(f=>{const w=this.docs.get(f);c=c.insert(f,w?w.document.mutableCopy():Oi.newInvalidDocument(f))}),At.resolve(c)}getAllFromCollection(e,n,c){let f=Yo();const w=new mn(n.child("")),I=this.docs.getIteratorFrom(w);for(;I.hasNext();){const{key:N,value:{document:J}}=I.getNext();if(!n.isPrefixOf(N.path))break;N.path.length>n.length+1||Zl(Ac(J),c)<=0||(f=f.insert(J.key,J.mutableCopy()))}return At.resolve(f)}getAllFromCollectionGroup(e,n,c,f){_n()}Oi(e,n){return At.forEach(this.docs,c=>n(c))}newChangeBuffer(e){return new mg(this)}getSize(e){return At.resolve(this.size)}}class mg extends Au{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((c,f)=>{f.isValidDocument()?n.push(this.Kn.addEntry(e,f)):this.Kn.removeEntry(c)}),At.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class fm{constructor(e){this.persistence=e,this.Fi=new ol(n=>W(n),Re),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.$i=0,this.Bi=new nf,this.targetCount=0,this.Li=mr.gn()}forEachTarget(e,n){return this.Fi.forEach((c,f)=>n(f)),At.resolve()}getLastRemoteSnapshotVersion(e){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return At.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(e,n,c){return c&&(this.lastRemoteSnapshotVersion=c),n>this.$i&&(this.$i=n),At.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new mr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,At.resolve()}updateTargetData(e,n){return this.Tn(n),At.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,At.resolve()}removeTargets(e,n,c){let f=0;const w=[];return this.Fi.forEach((I,N)=>{N.sequenceNumber<=n&&null===c.get(N.targetId)&&(this.Fi.delete(I),w.push(this.removeMatchingKeysForTargetId(e,N.targetId)),f++)}),At.waitFor(w).next(()=>f)}getTargetCount(e){return At.resolve(this.targetCount)}getTargetData(e,n){const c=this.Fi.get(n)||null;return At.resolve(c)}addMatchingKeys(e,n,c){return this.Bi.Ei(n,c),At.resolve()}removeMatchingKeys(e,n,c){this.Bi.Ri(n,c);const f=this.persistence.referenceDelegate,w=[];return f&&n.forEach(I=>{w.push(f.markPotentiallyOrphaned(e,I))}),At.waitFor(w)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),At.resolve()}getMatchingKeysForTargetId(e,n){const c=this.Bi.Vi(n);return At.resolve(c)}containsKey(e,n){return At.resolve(this.Bi.containsKey(n))}}class pm{constructor(e,n){this.Ui={},this.overlays={},this.es=new bs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new fm(this),this.indexManager=new ey,this.ds=new hm(c=>this.referenceDelegate.qi(c)),this.M=new Qf(n),this._s=new dm(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $c,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let c=this.Ui[e.toKey()];return c||(c=new lp(n,this.referenceDelegate),this.Ui[e.toKey()]=c),c}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,c){sn("MemoryPersistence","Starting transaction:",e);const f=new sh(this.es.next());return this.referenceDelegate.Ki(),c(f).next(w=>this.referenceDelegate.Gi(f).next(()=>w)).toPromise().then(w=>(f.raiseOnCommittedEvent(),w))}Qi(e,n){return At.or(Object.values(this.Ui).map(c=>()=>c.containsKey(e,n)))}}class sh extends zh{constructor(e){super(),this.currentSequenceNumber=e}}class zc{constructor(e){this.persistence=e,this.ji=new nf,this.Wi=null}static zi(e){return new zc(e)}get Hi(){if(this.Wi)return this.Wi;throw _n()}addReference(e,n,c){return this.ji.addReference(c,n),this.Hi.delete(c.toString()),At.resolve()}removeReference(e,n,c){return this.ji.removeReference(c,n),this.Hi.add(c.toString()),At.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),At.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(f=>this.Hi.add(f.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,n.targetId).next(f=>{f.forEach(w=>this.Hi.add(w.toString()))}).next(()=>c.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Hi,c=>{const f=mn.fromPath(c);return this.Ji(e,f).next(w=>{w||n.removeEntry(f,ne.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(c=>{c?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return At.or([()=>At.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}function pc(i,e){return`firestore_clients_${i}_${e}`}function Wc(i,e,n){let c=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(c+=`_${e.uid}`),c}function Ou(i,e){return`firestore_targets_${i}_${e}`}class gc{constructor(e,n,c,f){this.user=e,this.batchId=n,this.state=c,this.error=f}static Yi(e,n,c){const f=JSON.parse(c);let w,I="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return I&&f.error&&(I="string"==typeof f.error.message&&"string"==typeof f.error.code,I&&(w=new Ge(f.error.code,f.error.message))),I?new gc(e,n,f.state,w):(Vr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${c}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class oh{constructor(e,n,c){this.targetId=e,this.state=n,this.error=c}static Yi(e,n){const c=JSON.parse(n);let f,w="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return w&&c.error&&(w="string"==typeof c.error.message&&"string"==typeof c.error.code,w&&(f=new Ge(c.error.code,c.error.message))),w?new oh(e,c.state,f):(Vr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ah{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const c=JSON.parse(n);let f="object"==typeof c&&c.activeTargetIds instanceof Array,w=mu();for(let I=0;f&&I<c.activeTargetIds.length;++I)f=ou(c.activeTargetIds[I]),w=w.add(c.activeTargetIds[I]);return f?new ah(e,w):(Vr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class rf{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new rf(n.clientId,n.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gc{constructor(){this.activeTargetIds=mu()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lh{constructor(e,n,c,f,w){this.window=e,this.Yn=n,this.persistenceKey=c,this.er=f,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new rs(A),this.started=!1,this.rr=[];const I=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.ur=pc(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Gc),this.cr=new RegExp(`^firestore_clients_${I}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${I}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${I}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_.Z)(function*(){const n=yield e.syncEngine.Fs();for(const f of n){if(f===e.er)continue;const w=e.getItem(pc(e.persistenceKey,f));if(w){const I=ah.Yi(f,w);I&&(e.ir=e.ir.insert(I.clientId,I))}}e.wr();const c=e.storage.getItem(e.dr);if(c){const f=e.mr(c);f&&e.gr(f)}for(const f of e.rr)e.sr(f);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((c,f)=>{f.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,c){this.pr(e,n,c),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const c=this.storage.getItem(Ou(this.persistenceKey,e));if(c){const f=oh.Yi(e,c);f&&(n=f.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ou(this.persistenceKey,e))}updateQueryState(e,n,c){this.Er(e,n,c)}handleUserChange(e,n,c){n.forEach(f=>{this.Ir(f)}),this.currentUser=e,c.forEach(f=>{this.addPendingMutation(f)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return sn("SharedClientState","READ",e,n),n}setItem(e,n){sn("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){sn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var n=this;const c=e;if(c.storageArea===this.storage){if(sn("SharedClientState","EVENT",c.key,c.newValue),c.key===this.ur)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,_.Z)(function*(){if(n.started){if(null!==c.key)if(n.cr.test(c.key)){if(null==c.newValue){const f=n.Pr(c.key);return n.br(f,null)}{const f=n.Vr(c.key,c.newValue);if(f)return n.br(f.clientId,f)}}else if(n.hr.test(c.key)){if(null!==c.newValue){const f=n.vr(c.key,c.newValue);if(f)return n.Sr(f)}}else if(n.lr.test(c.key)){if(null!==c.newValue){const f=n.Dr(c.key,c.newValue);if(f)return n.Cr(f)}}else if(c.key===n.dr){if(null!==c.newValue){const f=n.mr(c.newValue);if(f)return n.gr(f)}}else if(c.key===n.ar){const f=function(w){let I=bs.A;if(null!=w)try{const N=JSON.parse(w);M("number"==typeof N),I=N}catch(N){Vr("SharedClientState","Failed to read sequence number from WebStorage",N)}return I}(c.newValue);f!==bs.A&&n.sequenceNumberHandler(f)}else if(c.key===n._r){const f=n.Nr(c.newValue);yield Promise.all(f.map(w=>n.syncEngine.kr(w)))}}else n.rr.push(c)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,c){const f=new gc(this.currentUser,e,n,c),w=Wc(this.persistenceKey,this.currentUser,e);this.setItem(w,f.Xi())}Ir(e){const n=Wc(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,n,c){const f=Ou(this.persistenceKey,e),w=new oh(e,n,c);this.setItem(f,w.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const c=this.Pr(e);return ah.Yi(c,n)}vr(e,n){const c=this.hr.exec(e),f=Number(c[1]);return gc.Yi(new gi(void 0!==c[2]?c[2]:null),f,n)}Dr(e,n){const c=this.lr.exec(e),f=Number(c[1]);return oh.Yi(f,n)}mr(e){return rf.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var n=this;return(0,_.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Mr(e.batchId,e.state,e.error);sn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const c=n?this.ir.insert(e,n):this.ir.remove(e),f=this.yr(this.ir),w=this.yr(c),I=[],N=[];return w.forEach(J=>{f.has(J)||I.push(J)}),f.forEach(J=>{w.has(J)||N.push(J)}),this.syncEngine.Fr(I,N).then(()=>{this.ir=c})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=mu();return e.forEach((c,f)=>{n=n.unionWith(f.activeTargetIds)}),n}}class cp{constructor(){this.$r=new Gc,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,c){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,c){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Gc,Promise.resolve()}handleUserChange(e,n,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class sf{Lr(e){}shutdown(){}}class yg{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _g={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sy{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class vg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,c,f,w){const I=this.uo(e,n);sn("RestConnection","Sending: ",I,c);const N={};return this.ao(N,f,w),this.co(e,I,N,c).then(J=>(sn("RestConnection","Received: ",J),J),J=>{throw Lo("RestConnection",`${e} failed with error: `,J,"url: ",I,"request:",c),J})}ho(e,n,c,f,w){return this.oo(e,n,c,f,w)}ao(e,n,c){e["X-Goog-Api-Client"]="gl-js/ fire/"+ss,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((f,w)=>e[w]=f),c&&c.headers.forEach((f,w)=>e[w]=f)}uo(e,n){return`${this.io}/v1/${n}:${_g[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,c,f){return new Promise((w,I)=>{const N=new ps;N.listenOnce(Na.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case No.NO_ERROR:const ae=N.getResponseJson();sn("Connection","XHR received:",JSON.stringify(ae)),w(ae);break;case No.TIMEOUT:sn("Connection",'RPC "'+e+'" timed out'),I(new Ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case No.HTTP_ERROR:const ke=N.getStatus();if(sn("Connection",'RPC "'+e+'" failed with status:',ke,"response text:",N.getResponseText()),ke>0){const Ze=N.getResponseJson().error;if(Ze&&Ze.status&&Ze.message){const Tt=function(Yt){const en=Yt.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(en)>=0?en:re.UNKNOWN}(Ze.status);I(new Ge(Tt,Ze.message))}else I(new Ge(re.UNKNOWN,"Server responded with status "+N.getStatus()))}else I(new Ge(re.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{sn("Connection",'RPC "'+e+'" completed.')}});const J=JSON.stringify(f);N.send(n,"POST",J,c,15)})}lo(e,n,c){const f=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],w=ka(),I=Hs(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(N.xmlHttpFactory=new Qa({})),this.ao(N.initMessageHeaders,n,c),(0,de.uI)()||(0,de.b$)()||(0,de.d)()||(0,de.w1)()||(0,de.Mn)()||(0,de.ru)()||(N.httpHeadersOverwriteParam="$httpHeaders");const J=f.join("");sn("Connection","Creating WebChannel: "+J,N);const ae=w.createWebChannel(J,N);let ke=!1,Ze=!1;const Tt=new sy({Wr:en=>{Ze?sn("Connection","Not sending because WebChannel is closed:",en):(ke||(sn("Connection","Opening WebChannel transport."),ae.open(),ke=!0),sn("Connection","WebChannel sending:",en),ae.send(en))},zr:()=>ae.close()}),Yt=(en,Kn,Yr)=>{en.listen(Kn,Ks=>{try{Yr(Ks)}catch(Oo){setTimeout(()=>{throw Oo},0)}})};return Yt(ae,Ps.EventType.OPEN,()=>{Ze||sn("Connection","WebChannel transport opened.")}),Yt(ae,Ps.EventType.CLOSE,()=>{Ze||(Ze=!0,sn("Connection","WebChannel transport closed"),Tt.no())}),Yt(ae,Ps.EventType.ERROR,en=>{Ze||(Ze=!0,Lo("Connection","WebChannel transport errored:",en),Tt.no(new Ge(re.UNAVAILABLE,"The operation could not be completed")))}),Yt(ae,Ps.EventType.MESSAGE,en=>{var Kn;if(!Ze){const Yr=en.data[0];M(!!Yr);const Ks=Yr,Oo=Ks.error||(null===(Kn=Ks[0])||void 0===Kn?void 0:Kn.error);if(Oo){sn("Connection","WebChannel received error:",Oo);const qs=Oo.status;let Pa=function(io){const Ka=ns[io];if(void 0!==Ka)return rc(Ka)}(qs),Po=Oo.message;void 0===Pa&&(Pa=re.INTERNAL,Po="Unknown error status: "+qs+" with message "+Oo.message),Ze=!0,Tt.no(new Ge(Pa,Po)),ae.close()}else sn("Connection","WebChannel received:",Yr),Tt.so(Yr)}}),Yt(I,Ai.STAT_EVENT,en=>{en.stat===Zi.PROXY?sn("Connection","Detected buffering proxy"):en.stat===Zi.NOPROXY&&sn("Connection","Detected no buffering proxy")}),setTimeout(()=>{Tt.eo()},0),Tt}}function up(){return"undefined"!=typeof window?window:null}function mc(){return"undefined"!=typeof document?document:null}function md(i){return new qf(i,!0)}class dp{constructor(e,n,c=1e3,f=1.5,w=6e4){this.Yn=e,this.timerId=n,this.fo=c,this._o=f,this.wo=w,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),c=Math.max(0,Date.now()-this.po),f=Math.max(0,n-c);f>0&&sn("ExponentialBackoff",`Backing off for ${f} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${c} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,f,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class bg{constructor(e,n,c,f,w,I,N,J){this.Yn=e,this.Ro=c,this.Po=f,this.bo=w,this.authCredentialsProvider=I,this.appCheckCredentialsProvider=N,this.listener=J,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new dp(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,_.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,_.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var c=this;return(0,_.Z)(function*(){c.$o(),c.Bo(),c.Do.cancel(),c.Vo++,4!==e?c.Do.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),c.Do.Io()):n&&n.code===re.UNAUTHENTICATED&&3!==c.state&&(c.authCredentialsProvider.invalidateToken(),c.appCheckCredentialsProvider.invalidateToken()),null!==c.stream&&(c.Lo(),c.stream.close(),c.stream=null),c.state=e,yield c.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,f])=>{this.Vo===n&&this.qo(c,f)},c=>{e(()=>{const f=new Ge(re.UNKNOWN,"Fetching auth token failed: "+c.message);return this.Ko(f)})})}qo(e,n){const c=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{c(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(f=>{c(()=>this.Ko(f))}),this.stream.onMessage(f=>{c(()=>this.onMessage(f))})}No(){var e=this;this.state=5,this.Do.To((0,_.Z)(function*(){e.state=0,e.start()}))}Ko(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ga extends bg{constructor(e,n,c,f,w,I){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,c,f,I),this.M=w}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function jh(i,e){let n;if("targetChange"in e){const c="NO_CHANGE"===(J=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:_n(),f=e.targetChange.targetIds||[],w=function(J,ae){return J.N?(M(void 0===ae||"string"==typeof ae),ci.fromBase64String(ae||"")):(M(void 0===ae||ae instanceof Uint8Array),ci.fromUint8Array(ae||new Uint8Array))}(i,e.targetChange.resumeToken),I=e.targetChange.cause,N=I&&function(J){const ae=void 0===J.code?re.UNKNOWN:rc(J.code);return new Ge(ae,J.message||"")}(I);n=new Ms(c,f,w,N||null)}else if("documentChange"in e){const c=e.documentChange,f=Qo(i,c.document.name),w=no(c.document.updateTime),I=new Qi({mapValue:{fields:c.document.fields}}),N=Oi.newFoundDocument(f,w,I);n=new Nc(c.targetIds||[],c.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const c=e.documentDelete,f=Qo(i,c.document),w=c.readTime?no(c.readTime):ne.min(),I=Oi.newNoDocument(f,w);n=new Nc([],c.removedTargetIds||[],I.key,I)}else if("documentRemove"in e){const c=e.documentRemove,f=Qo(i,c.document);n=new Nc([],c.removedTargetIds||[],f,null)}else{if(!("filter"in e))return _n();{const c=e.filter,w=new Hf(c.count||0);n=new Bh(c.targetId,w)}}var J;return n}(this.M,e),c=function(f){if(!("targetChange"in f))return ne.min();const w=f.targetChange;return w.targetIds&&w.targetIds.length?ne.min():w.readTime?no(w.readTime):ne.min()}(e);return this.listener.Qo(n,c)}jo(e){const n={};n.database=Sa(this.M),n.addTarget=function(f,w){let I;const N=w.target;return I=at(N)?{documents:ed(f,N)}:{query:td(f,N)},I.targetId=w.targetId,w.resumeToken.approximateByteSize()>0?I.resumeToken=Uh(f,w.resumeToken):w.snapshotVersion.compareTo(ne.min())>0&&(I.readTime=Lc(f,w.snapshotVersion.toTimestamp())),I}(this.M,e);const c=function Ud(i,e){const n=function(c,f){switch(f){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _n()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);c&&(n.labels=c),this.Fo(n)}Wo(e){const n={};n.database=Sa(this.M),n.removeTarget=e,this.Fo(n)}}class yd extends bg{constructor(e,n,c,f,w,I){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,c,f,I),this.M=w,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(M(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function Hh(i,e){return i&&i.length>0?(M(void 0!==e),i.map(n=>function(c,f){let w=no(c.updateTime?c.updateTime:f);return w.isEqual(ne.min())&&(w=no(f)),new Fd(w,c.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),c=no(e.commitTime);return this.listener.Yo(c,n)}return M(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Sa(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(c=>Ll(this.M,c))};this.Fo(n)}}class gm extends class{}{constructor(e,n,c,f){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=c,this.M=f,this.tu=!1}eu(){if(this.tu)throw new Ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,c){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,w])=>this.bo.oo(e,n,c,f,w)).catch(f=>{throw"FirebaseError"===f.name?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ge(re.UNKNOWN,f.toString())})}ho(e,n,c){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,w])=>this.bo.ho(e,n,c,f,w)).catch(f=>{throw"FirebaseError"===f.name?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ge(re.UNKNOWN,f.toString())})}terminate(){this.tu=!0}}class oy{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Vr(n),this.iu=!1):sn("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class hp{constructor(e,n,c,f,w){var I=this;this.localStore=e,this.datastore=n,this.asyncQueue=c,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=w,this._u.Lr(N=>{c.enqueueAndForget((0,_.Z)(function*(){var J;yc(I)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,_.Z)(function*(ae){const ke=q(ae);ke.fu.add(4),yield vd(ke),ke.wu.set("Unknown"),ke.fu.delete(4),yield _d(ke)}),function(ae){return J.apply(this,arguments)})(I))}))}),this.wu=new oy(c,f)}}function _d(i){return of.apply(this,arguments)}function of(){return of=(0,_.Z)(function*(i){if(yc(i))for(const e of i.du)yield e(!0)}),of.apply(this,arguments)}function vd(i){return Pu.apply(this,arguments)}function Pu(){return Pu=(0,_.Z)(function*(i){for(const e of i.du)yield e(!1)}),Pu.apply(this,arguments)}function ch(i,e){const n=q(i);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),lf(n)?uh(n):Kc(n).xo()&&fp(n,e))}function af(i,e){const n=q(i),c=Kc(n);n.lu.delete(e),c.xo()&&wg(n,e),0===n.lu.size&&(c.xo()?c.Mo():yc(n)&&n.wu.set("Unknown"))}function fp(i,e){i.mu.Z(e.targetId),Kc(i).jo(e)}function wg(i,e){i.mu.Z(e),Kc(i).Wo(e)}function uh(i){i.mu=new Gf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),Kc(i).start(),i.wu.ru()}function lf(i){return yc(i)&&!Kc(i).Co()&&i.lu.size>0}function yc(i){return 0===q(i).fu.size}function pp(i){i.mu=void 0}function Eg(i){return cf.apply(this,arguments)}function cf(){return cf=(0,_.Z)(function*(i){i.lu.forEach((e,n)=>{fp(i,e)})}),cf.apply(this,arguments)}function Dg(i,e){return gp.apply(this,arguments)}function gp(){return gp=(0,_.Z)(function*(i,e){pp(i),lf(i)?(i.wu.au(e),uh(i)):i.wu.set("Unknown")}),gp.apply(this,arguments)}function Dl(i,e,n){return dh.apply(this,arguments)}function dh(){return dh=(0,_.Z)(function*(i,e,n){if(i.wu.set("Online"),e instanceof Ms&&2===e.state&&e.cause)try{yield(c=(0,_.Z)(function*(f,w){const I=w.cause;for(const N of w.targetIds)f.lu.has(N)&&(yield f.remoteSyncer.rejectListen(N,I),f.lu.delete(N),f.mu.removeTarget(N))}),function(f,w){return c.apply(this,arguments)})(i,e)}catch(c){sn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),c),yield uf(i,c)}else if(e instanceof Nc?i.mu.ut(e):e instanceof Bh?i.mu._t(e):i.mu.ht(e),!n.isEqual(ne.min()))try{const c=yield cm(i.localStore);n.compareTo(c)>=0&&(yield function(f,w){const I=f.mu.yt(w);return I.targetChanges.forEach((N,J)=>{if(N.resumeToken.approximateByteSize()>0){const ae=f.lu.get(J);ae&&f.lu.set(J,ae.withResumeToken(N.resumeToken,w))}}),I.targetMismatches.forEach(N=>{const J=f.lu.get(N);if(!J)return;f.lu.set(N,J.withResumeToken(ci.EMPTY_BYTE_STRING,J.snapshotVersion)),wg(f,N);const ae=new Bc(J.target,N,1,J.sequenceNumber);fp(f,ae)}),f.remoteSyncer.applyRemoteEvent(I)}(i,n))}catch(c){sn("RemoteStore","Failed to raise snapshot:",c),yield uf(i,c)}var c}),dh.apply(this,arguments)}function uf(i,e,n){return mp.apply(this,arguments)}function mp(){return mp=(0,_.Z)(function*(i,e,n){if(!Vl(e))throw e;i.fu.add(1),yield vd(i),i.wu.set("Offline"),n||(n=()=>cm(i.localStore)),i.asyncQueue.enqueueRetryable((0,_.Z)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield n(),i.fu.delete(1),yield _d(i)}))}),mp.apply(this,arguments)}function mm(i,e){return e().catch(n=>uf(i,n,e))}function Ru(i){return yp.apply(this,arguments)}function yp(){return yp=(0,_.Z)(function*(i){const e=q(i),n=jl(e);let c=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Cg(e);)try{const f=yield iy(e.localStore,c);if(null===f){0===e.hu.length&&n.Mo();break}c=f.batchId,ym(e,f)}catch(f){yield uf(e,f)}df(e)&&Ig(e)}),yp.apply(this,arguments)}function Cg(i){return yc(i)&&i.hu.length<10}function ym(i,e){i.hu.push(e);const n=jl(i);n.xo()&&n.Ho&&n.Jo(e.mutations)}function df(i){return yc(i)&&!jl(i).Co()&&i.hu.length>0}function Ig(i){jl(i).start()}function ay(i){return bd.apply(this,arguments)}function bd(){return bd=(0,_.Z)(function*(i){jl(i).Zo()}),bd.apply(this,arguments)}function hf(i){return _p.apply(this,arguments)}function _p(){return _p=(0,_.Z)(function*(i){const e=jl(i);for(const n of i.hu)e.Jo(n.mutations)}),_p.apply(this,arguments)}function vp(i,e,n){return wd.apply(this,arguments)}function wd(){return wd=(0,_.Z)(function*(i,e,n){const c=i.hu.shift(),f=Kd.from(c,e,n);yield mm(i,()=>i.remoteSyncer.applySuccessfulWrite(f)),yield Ru(i)}),wd.apply(this,arguments)}function Tg(i,e){return bp.apply(this,arguments)}function bp(){return bp=(0,_.Z)(function*(i,e){var n;e&&jl(i).Ho&&(yield(n=(0,_.Z)(function*(c,f){if(yo(w=f.code)&&w!==re.ABORTED){const I=c.hu.shift();jl(c).ko(),yield mm(c,()=>c.remoteSyncer.rejectFailedWrite(I.batchId,f)),yield Ru(c)}var w}),function(c,f){return n.apply(this,arguments)})(i,e)),df(i)&&Ig(i)}),bp.apply(this,arguments)}function xg(i,e){return _c.apply(this,arguments)}function _c(){return _c=(0,_.Z)(function*(i,e){const n=q(i);n.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const c=yc(n);n.fu.add(3),yield vd(n),c&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield _d(n)}),_c.apply(this,arguments)}function Ag(i,e){return wp.apply(this,arguments)}function wp(){return wp=(0,_.Z)(function*(i,e){const n=q(i);e?(n.fu.delete(2),yield _d(n)):e||(n.fu.add(2),yield vd(n),n.wu.set("Unknown"))}),wp.apply(this,arguments)}function Kc(i){return i.gu||(i.gu=function(e,n,c){const f=q(e);return f.eu(),new Ga(n,f.bo,f.authCredentials,f.appCheckCredentials,f.M,c)}(i.datastore,i.asyncQueue,{Hr:Eg.bind(null,i),Yr:Dg.bind(null,i),Qo:Dl.bind(null,i)}),i.du.push(function(){var e=(0,_.Z)(function*(n){n?(i.gu.ko(),lf(i)?uh(i):i.wu.set("Unknown")):(yield i.gu.stop(),pp(i))});return function(n){return e.apply(this,arguments)}}())),i.gu}function jl(i){return i.yu||(i.yu=function(e,n,c){const f=q(e);return f.eu(),new yd(n,f.bo,f.authCredentials,f.appCheckCredentials,f.M,c)}(i.datastore,i.asyncQueue,{Hr:ay.bind(null,i),Yr:Tg.bind(null,i),Xo:hf.bind(null,i),Yo:vp.bind(null,i)}),i.du.push(function(){var e=(0,_.Z)(function*(n){n?(i.yu.ko(),yield Ru(i)):(yield i.yu.stop(),i.hu.length>0&&(sn("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(n){return e.apply(this,arguments)}}())),i.yu}class ff{constructor(e,n,c,f,w){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=c,this.op=f,this.removalCallback=w,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(I=>{})}static createAndSchedule(e,n,c,f,w){const I=Date.now()+c,N=new ff(e,n,I,f,w);return N.start(c),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ku(i,e){if(Vr("AsyncQueue",`${e}: ${i}`),Vl(i))return new Ge(re.UNAVAILABLE,`${e}: ${i}`);throw i}class Nu{constructor(e){this.comparator=e?(n,c)=>e(n,c)||mn.comparator(n.key,c.key):(n,c)=>mn.comparator(n.key,c.key),this.keyedMap=ic(),this.sortedSet=new rs(this.comparator)}static emptySet(e){return new Nu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,c)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;n.hasNext();){const f=n.getNext().key,w=c.getNext().key;if(!f.isEqual(w))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const c=new Nu;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=n,c}}class dl{constructor(){this.pu=new rs(mn.comparator)}track(e){const n=e.doc.key,c=this.pu.get(n);c?0!==e.type&&3===c.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==c.type?this.pu=this.pu.insert(n,{type:c.type,doc:e.doc}):2===e.type&&2===c.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===c.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===c.type?this.pu=this.pu.remove(n):1===e.type&&2===c.type?this.pu=this.pu.insert(n,{type:1,doc:c.doc}):0===e.type&&1===c.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):_n():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,c)=>{e.push(c)}),e}}class vc{constructor(e,n,c,f,w,I,N,J){this.query=e,this.docs=n,this.oldDocs=c,this.docChanges=f,this.mutatedKeys=w,this.fromCache=I,this.syncStateChanged=N,this.excludesMetadataChanges=J}static fromInitialDocuments(e,n,c,f){const w=[];return n.forEach(I=>{w.push({type:0,doc:I})}),new vc(e,n,Nu.emptySet(n),w,c,f,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,c=e.docChanges;if(n.length!==c.length)return!1;for(let f=0;f<n.length;f++)if(n[f].type!==c[f].type||!n[f].doc.isEqual(c[f].doc))return!1;return!0}}class Ep{constructor(){this.Tu=void 0,this.listeners=[]}}class _m{constructor(){this.queries=new ol(e=>Nd(e),sl),this.onlineState="Unknown",this.Eu=new Set}}function Sg(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,_.Z)(function*(i,e){const n=q(i),c=e.query;let f=!1,w=n.queries.get(c);if(w||(f=!0,w=new Ep),f)try{w.Tu=yield n.onListen(c)}catch(I){const N=ku(I,`Initialization of query '${Oc(e.query)}' failed`);return void e.onError(N)}n.queries.set(c,w),w.listeners.push(e),e.Au(n.onlineState),w.Tu&&e.Ru(w.Tu)&&fh(n)}),Ed.apply(this,arguments)}function pf(i,e){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,_.Z)(function*(i,e){const n=q(i),c=e.query;let f=!1;const w=n.queries.get(c);if(w){const I=w.listeners.indexOf(e);I>=0&&(w.listeners.splice(I,1),f=0===w.listeners.length)}if(f)return n.queries.delete(c),n.onUnlisten(c)}),Lu.apply(this,arguments)}function hh(i,e){const n=q(i);let c=!1;for(const f of e){const I=n.queries.get(f.query);if(I){for(const N of I.listeners)N.Ru(f)&&(c=!0);I.Tu=f}}c&&fh(n)}function vm(i,e,n){const c=q(i),f=c.queries.get(e);if(f)for(const w of f.listeners)w.onError(n);c.queries.delete(e)}function fh(i){i.Eu.forEach(e=>{e.next()})}class gf{constructor(e,n,c){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=c||{}}Ru(e){if(!this.options.includeMetadataChanges){const c=[];for(const f of e.docChanges)3!==f.type&&c.push(f);e=new vc(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Dp{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}class mf{constructor(e){this.M=e}fi(e){return Qo(this.M,e)}di(e){return e.metadata.exists?Nl(this.M,e.document,!1):Oi.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return no(e)}}class bm{constructor(e,n,c){this.Nu=e,this.localStore=n,this.M=c,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ph(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const c=Cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,c=new mf(this.M);for(const f of e)if(f.metadata.queries){const w=c.fi(f.metadata.name);for(const I of f.metadata.queries){const N=(n.get(I)||mi()).add(w);n.set(I,N)}}return n}complete(){var e=this;return(0,_.Z)(function*(){const n=yield function pg(i,e,n,c){return rh.apply(this,arguments)}(e.localStore,new mf(e.M),e.documents,e.Nu.id),c=e.Mu(e.documents);for(const f of e.queries)yield gg(e.localStore,f,c.get(f.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:n}})()}}function ph(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Mg{constructor(e){this.key=e}}class Og{constructor(e){this.key=e}}class yf{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=mi(),this.mutatedKeys=mi(),this.Uu=xh(e),this.qu=new Nu(this.Uu)}get Ku(){return this.$u}Gu(e,n){const c=n?n.Qu:new dl,f=n?n.qu:this.qu;let w=n?n.mutatedKeys:this.mutatedKeys,I=f,N=!1;const J=uu(this.query)&&f.size===this.query.limit?f.last():null,ae=du(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal((ke,Ze)=>{const Tt=f.get(ke),Yt=Sl(this.query,Ze)?Ze:null,en=!!Tt&&this.mutatedKeys.has(Tt.key),Kn=!!Yt&&(Yt.hasLocalMutations||this.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations);let Yr=!1;Tt&&Yt?Tt.data.isEqual(Yt.data)?en!==Kn&&(c.track({type:3,doc:Yt}),Yr=!0):this.ju(Tt,Yt)||(c.track({type:2,doc:Yt}),Yr=!0,(J&&this.Uu(Yt,J)>0||ae&&this.Uu(Yt,ae)<0)&&(N=!0)):!Tt&&Yt?(c.track({type:0,doc:Yt}),Yr=!0):Tt&&!Yt&&(c.track({type:1,doc:Tt}),Yr=!0,(J||ae)&&(N=!0)),Yr&&(Yt?(I=I.add(Yt),w=Kn?w.add(ke):w.delete(ke)):(I=I.delete(ke),w=w.delete(ke)))}),uu(this.query)||du(this.query))for(;I.size>this.query.limit;){const ke=uu(this.query)?I.last():I.first();I=I.delete(ke.key),w=w.delete(ke.key),c.track({type:1,doc:ke})}return{qu:I,Qu:c,ni:N,mutatedKeys:w}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,c){const f=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const w=e.Qu.Iu();w.sort((ae,ke)=>function(Ze,Tt){const Yt=en=>{switch(en){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return Yt(Ze)-Yt(Tt)}(ae.type,ke.type)||this.Uu(ae.doc,ke.doc)),this.Wu(c);const I=n?this.zu():[],N=0===this.Lu.size&&this.current?1:0,J=N!==this.Bu;return this.Bu=N,0!==w.length||J?{snapshot:new vc(this.query,e.qu,f,w,e.mutatedKeys,0===N,J,!1),Hu:I}:{Hu:I}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new dl,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=mi(),this.qu.forEach(c=>{this.Ju(c.key)&&(this.Lu=this.Lu.add(c.key))});const n=[];return e.forEach(c=>{this.Lu.has(c)||n.push(new Og(c))}),this.Lu.forEach(c=>{e.has(c)||n.push(new Mg(c))}),n}Yu(e){this.$u=e.li,this.Lu=mi();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return vc.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Dd{constructor(e,n,c){this.query=e,this.targetId=n,this.view=c}}class Pg{constructor(e){this.key=e,this.Zu=!1}}class wm{constructor(e,n,c,f,w,I){this.localStore=e,this.remoteStore=n,this.eventManager=c,this.sharedClientState=f,this.currentUser=w,this.maxConcurrentLimboResolutions=I,this.ta={},this.ea=new ol(N=>Nd(N),sl),this.na=new Map,this.sa=new Set,this.ia=new rs(mn.comparator),this.ra=new Map,this.oa=new nf,this.ua={},this.aa=new Map,this.ca=mr.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Rg(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,_.Z)(function*(i,e){const n=Zc(i);let c,f;const w=n.ea.get(e);if(w)c=w.targetId,n.sharedClientState.addLocalQueryTarget(c),f=w.view.Xu();else{const I=yield nh(n.localStore,ha(e));n.isPrimaryClient&&ch(n.remoteStore,I);const N=n.sharedClientState.addLocalQueryTarget(I.targetId);c=I.targetId,f=yield Cp(n,e,c,"current"===N)}return f}),qc.apply(this,arguments)}function Cp(i,e,n,c){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,_.Z)(function*(i,e,n,c){i.la=(ke,Ze,Tt)=>{return(Yt=(0,_.Z)(function*(en,Kn,Yr,Ks){let Oo=Kn.view.Gu(Yr);Oo.ni&&(Oo=yield tf(en.localStore,Kn.query,!1).then(({documents:Po})=>Kn.view.Gu(Po,Oo)));const qs=Ks&&Ks.targetChanges.get(Kn.targetId),Pa=Kn.view.applyChanges(Oo,en.isPrimaryClient,qs);return yh(en,Kn.targetId,Pa.Hu),Pa.snapshot}),function(en,Kn,Yr,Ks){return Yt.apply(this,arguments)})(i,ke,Ze,Tt);var Yt};const f=yield tf(i.localStore,e,!0),w=new yf(e,f.li),I=w.Gu(f.documents),N=kl.createSynthesizedTargetChangeForCurrentChange(n,c&&"Offline"!==i.onlineState),J=w.applyChanges(I,i.isPrimaryClient,N);yh(i,n,J.Hu);const ae=new Dd(e,n,w);return i.ea.set(e,ae),i.na.has(n)?i.na.get(n).push(e):i.na.set(n,[e]),J.snapshot}),Ip.apply(this,arguments)}function Em(i,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,_.Z)(function*(i,e){const n=q(i),c=n.ea.get(e),f=n.na.get(c.targetId);if(f.length>1)return n.na.set(c.targetId,f.filter(w=>!sl(w,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(c.targetId),n.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Mu(n.localStore,c.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(c.targetId),af(n.remoteStore,c.targetId),mh(n,c.targetId)}).catch(Bo))):(mh(n,c.targetId),yield Mu(n.localStore,c.targetId,!0))}),Tp.apply(this,arguments)}function gh(){return gh=(0,_.Z)(function*(i,e,n){const c=kp(i);try{const f=yield function(w,I){const N=q(w),J=K.now(),ae=I.reduce((Ze,Tt)=>Ze.add(Tt.key),mi());let ke;return N.persistence.runTransaction("Locally write mutations","readwrite",Ze=>N.ci.Ks(Ze,ae).next(Tt=>{ke=Tt;const Yt=[];for(const en of I){const Kn=kc(en,ke.get(en.key));null!=Kn&&Yt.push(new vl(en.key,Kn,to(Kn.value.mapValue),ts.exists(!0)))}return N.Bs.addMutationBatch(Ze,J,Yt,I)})).then(Ze=>(Ze.applyToLocalDocumentSet(ke),{batchId:Ze.batchId,changes:ke}))}(c.localStore,e);c.sharedClientState.addPendingMutation(f.batchId),function(w,I,N){let J=w.ua[w.currentUser.toKey()];J||(J=new rs(A)),J=J.insert(I,N),w.ua[w.currentUser.toKey()]=J}(c,f.batchId,n),yield $l(c,f.changes),yield Ru(c.remoteStore)}catch(f){const w=ku(f,"Failed to persist write");n.reject(w)}}),gh.apply(this,arguments)}function xp(i,e){return _f.apply(this,arguments)}function _f(){return _f=(0,_.Z)(function*(i,e){const n=q(i);try{const c=yield ry(n.localStore,e);e.targetChanges.forEach((f,w)=>{const I=n.ra.get(w);I&&(M(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?I.Zu=!0:f.modifiedDocuments.size>0?M(I.Zu):f.removedDocuments.size>0&&(M(I.Zu),I.Zu=!1))}),yield $l(n,c,e)}catch(c){yield Bo(c)}}),_f.apply(this,arguments)}function Ap(i,e,n){const c=q(i);if(c.isPrimaryClient&&0===n||!c.isPrimaryClient&&1===n){const f=[];c.ea.forEach((w,I)=>{const N=I.view.Au(e);N.snapshot&&f.push(N.snapshot)}),function(w,I){const N=q(w);N.onlineState=I;let J=!1;N.queries.forEach((ae,ke)=>{for(const Ze of ke.listeners)Ze.Au(I)&&(J=!0)}),J&&fh(N)}(c.eventManager,e),f.length&&c.ta.Qo(f),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}function kg(i,e,n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,_.Z)(function*(i,e,n){const c=q(i);c.sharedClientState.updateQueryState(e,"rejected",n);const f=c.ra.get(e),w=f&&f.key;if(w){let I=new rs(mn.comparator);I=I.insert(w,Oi.newNoDocument(w,ne.min()));const N=mi().add(w),J=new Rl(ne.min(),new Map,new Xi(A),I,N);yield xp(c,J),c.ia=c.ia.remove(w),c.ra.delete(e),wf(c)}else yield Mu(c.localStore,e,!1).then(()=>mh(c,e,n)).catch(Bo)}),Sp.apply(this,arguments)}function Dm(i,e){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,_.Z)(function*(i,e){const n=q(i),c=e.batch.batchId;try{const f=yield ny(n.localStore,e);Pp(n,c,null),Op(n,c),n.sharedClientState.updateMutationState(c,"acknowledged"),yield $l(n,f)}catch(f){yield Bo(f)}}),Mp.apply(this,arguments)}function Cm(i,e,n){return vf.apply(this,arguments)}function vf(){return vf=(0,_.Z)(function*(i,e,n){const c=q(i);try{const f=yield function(w,I){const N=q(w);return N.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let ae;return N.Bs.lookupMutationBatch(J,I).next(ke=>(M(null!==ke),ae=ke.keys(),N.Bs.removeMutationBatch(J,ke))).next(()=>N.Bs.performConsistencyCheck(J)).next(()=>N.ci.Ks(J,ae))})}(c.localStore,e);Pp(c,e,n),Op(c,e),c.sharedClientState.updateMutationState(e,"rejected",n),yield $l(c,f)}catch(f){yield Bo(f)}}),vf.apply(this,arguments)}function bf(){return bf=(0,_.Z)(function*(i,e){const n=q(i);yc(n.remoteStore)||sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(w){const I=q(w);return I.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>I.Bs.getHighestUnacknowledgedBatchId(N))}(n.localStore);if(-1===c)return void e.resolve();const f=n.aa.get(c)||[];f.push(e),n.aa.set(c,f)}catch(c){const f=ku(c,"Initialization of waitForPendingWrites() operation failed");e.reject(f)}}),bf.apply(this,arguments)}function Op(i,e){(i.aa.get(e)||[]).forEach(n=>{n.resolve()}),i.aa.delete(e)}function Pp(i,e,n){const c=q(i);let f=c.ua[c.currentUser.toKey()];if(f){const w=f.get(e);w&&(n?w.reject(n):w.resolve(),f=f.remove(e)),c.ua[c.currentUser.toKey()]=f}}function mh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const c of i.na.get(e))i.ea.delete(c),n&&i.ta.fa(c,n);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(c=>{i.oa.containsKey(c)||Im(i,c)})}function Im(i,e){i.sa.delete(e.path.canonicalString());const n=i.ia.get(e);null!==n&&(af(i.remoteStore,n),i.ia=i.ia.remove(e),i.ra.delete(n),wf(i))}function yh(i,e,n){for(const c of n)c instanceof Mg?(i.oa.addReference(c.key,e),Tm(i,c)):c instanceof Og?(sn("SyncEngine","Document no longer in limbo: "+c.key),i.oa.removeReference(c.key,e),i.oa.containsKey(c.key)||Im(i,c.key)):_n()}function Tm(i,e){const n=e.key,c=n.path.canonicalString();i.ia.get(n)||i.sa.has(c)||(sn("SyncEngine","New document in limbo: "+n),i.sa.add(c),wf(i))}function wf(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const n=new mn(Cn.fromString(e)),c=i.ca.next();i.ra.set(c,new Pg(n)),i.ia=i.ia.insert(n,c),ch(i.remoteStore,new Bc(ha(da(n.path)),c,2,bs.A))}}function $l(i,e,n){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,_.Z)(function*(i,e,n){const c=q(i),f=[],w=[],I=[];var N;c.ea.isEmpty()||(c.ea.forEach((N,J)=>{I.push(c.la(J,e,n).then(ae=>{if(ae){c.isPrimaryClient&&c.sharedClientState.updateQueryState(J.targetId,ae.fromCache?"not-current":"current"),f.push(ae);const ke=lg.Ys(J.targetId,ae);w.push(ke)}}))}),yield Promise.all(I),c.ta.Qo(f),yield(N=(0,_.Z)(function*(J,ae){const ke=q(J);try{yield ke.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>At.forEach(ae,Tt=>At.forEach(Tt.Hs,Yt=>ke.persistence.referenceDelegate.addReference(Ze,Tt.targetId,Yt)).next(()=>At.forEach(Tt.Js,Yt=>ke.persistence.referenceDelegate.removeReference(Ze,Tt.targetId,Yt)))))}catch(Ze){if(!Vl(Ze))throw Ze;sn("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of ae){const Tt=Ze.targetId;if(!Ze.fromCache){const Yt=ke.ii.get(Tt),Kn=Yt.withLastLimboFreeSnapshotVersion(Yt.snapshotVersion);ke.ii=ke.ii.insert(Tt,Kn)}}}),function(J,ae){return N.apply(this,arguments)})(c.localStore,w))}),Ng.apply(this,arguments)}function Cl(i,e){return ls.apply(this,arguments)}function ls(){return ls=(0,_.Z)(function*(i,e){const n=q(i);if(!n.currentUser.isEqual(e)){sn("SyncEngine","User change. New user:",e.toKey());const c=yield ef(n.localStore,e);n.currentUser=e,(f=n).aa.forEach(I=>{I.forEach(N=>{N.reject(new Ge(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.aa.clear(),n.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),yield $l(n,c.hi)}var f}),ls.apply(this,arguments)}function cy(i,e){const n=q(i),c=n.ra.get(e);if(c&&c.Zu)return mi().add(c.key);{let f=mi();const w=n.na.get(e);if(!w)return f;for(const I of w){const N=n.ea.get(I);f=f.unionWith(N.view.Ku)}return f}}function Lg(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,_.Z)(function*(i,e){const n=q(i),c=yield tf(n.localStore,e.query,!0),f=e.view.Yu(c);return n.isPrimaryClient&&yh(n,e.targetId,f.Hu),f}),Ef.apply(this,arguments)}function Fg(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,_.Z)(function*(i,e){const n=q(i);return Hc(n.localStore,e).then(c=>$l(n,c))}),Df.apply(this,arguments)}function Cf(i,e,n,c){return If.apply(this,arguments)}function If(){return If=(0,_.Z)(function*(i,e,n,c){const f=q(i),w=yield function(I,N){const J=q(I),ae=q(J.Bs);return J.persistence.runTransaction("Lookup mutation documents","readonly",ke=>ae.fn(ke,N).next(Ze=>Ze?J.ci.Ks(ke,Ze):At.resolve(null)))}(f.localStore,e);var N;null!==w?("pending"===n?yield Ru(f.remoteStore):"acknowledged"===n||"rejected"===n?(Pp(f,e,c||null),Op(f,e),N=e,q(q(f.localStore).Bs)._n(N)):_n(),yield $l(f,w)):sn("SyncEngine","Cannot apply mutation batch with id: "+e)}),If.apply(this,arguments)}function Rp(){return Rp=(0,_.Z)(function*(i,e){const n=q(i);if(Zc(n),kp(n),!0===e&&!0!==n.ha){const c=n.sharedClientState.getAllActiveQueryTargets(),f=yield vh(n,c.toArray());n.ha=!0,yield Ag(n.remoteStore,!0);for(const w of f)ch(n.remoteStore,w)}else if(!1===e&&!1!==n.ha){const c=[];let f=Promise.resolve();n.na.forEach((w,I)=>{n.sharedClientState.isLocalQueryTarget(I)?c.push(I):f=f.then(()=>(mh(n,I),Mu(n.localStore,I,!0))),af(n.remoteStore,I)}),yield f,yield vh(n,c),function(w){const I=q(w);I.ra.forEach((N,J)=>{af(I.remoteStore,J)}),I.oa.bi(),I.ra=new Map,I.ia=new rs(mn.comparator)}(n),n.ha=!1,yield Ag(n.remoteStore,!1)}}),Rp.apply(this,arguments)}function vh(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,_.Z)(function*(i,e,n){const c=q(i),f=[],w=[];for(const I of e){let N;const J=c.na.get(I);if(J&&0!==J.length){N=yield nh(c.localStore,ha(J[0]));for(const ae of J){const ke=c.ea.get(ae),Ze=yield Lg(c,ke);Ze.snapshot&&w.push(Ze.snapshot)}}else{const ae=yield fc(c.localStore,I);N=yield nh(c.localStore,ae),yield Cp(c,Vg(ae),I,!1)}f.push(N)}return c.ta.Qo(w),f}),Tf.apply(this,arguments)}function Vg(i){return Wu(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Bg(i){const e=q(i);return q(q(e.localStore).persistence).Fs()}function xm(i,e,n,c){return bh.apply(this,arguments)}function bh(){return bh=(0,_.Z)(function*(i,e,n,c){const f=q(i);if(f.ha)return void sn("SyncEngine","Ignoring unexpected query state notification.");const w=f.na.get(e);if(w&&w.length>0)switch(n){case"current":case"not-current":{const I=yield Hc(f.localStore,hu(w[0])),N=Rl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield $l(f,I,N);break}case"rejected":yield Mu(f.localStore,e,!0),mh(f,e,c);break;default:_n()}}),bh.apply(this,arguments)}function Am(i,e,n){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,_.Z)(function*(i,e,n){const c=Zc(i);if(c.ha){for(const f of e){if(c.na.has(f)){sn("SyncEngine","Adding an already active target "+f);continue}const w=yield fc(c.localStore,f),I=yield nh(c.localStore,w);yield Cp(c,Vg(w),I.targetId,!1),ch(c.remoteStore,I)}for(const f of n)c.na.has(f)&&(yield Mu(c.localStore,f,!1).then(()=>{af(c.remoteStore,f),mh(c,f)}).catch(Bo))}}),Cd.apply(this,arguments)}function Zc(i){const e=q(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kg.bind(null,e),e.ta.Qo=hh.bind(null,e.eventManager),e.ta.fa=vm.bind(null,e.eventManager),e}function kp(i){const e=q(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dm.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cm.bind(null,e),e}class Ug{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,_.Z)(function*(){n.M=md(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return ug(this.persistence,new ap,e.initialUser,this.M)}wa(e){return new pm(zc.zi,this.M)}_a(e){return new cp}terminate(){var e=this;return(0,_.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jg extends Ug{constructor(e,n,c){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,c=this;return(0,_.Z)(function*(){yield n().call(c,e),yield c.ya.initialize(c,e),yield kp(c.ya.syncEngine),yield Ru(c.ya.remoteStore),yield c.persistence.Ts(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}ga(e){return ug(this.persistence,new ap,e.initialUser,this.M)}ma(e){return new Bl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const n=ag(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Oa.withCacheSize(this.cacheSizeBytes):Oa.DEFAULT;return new op(this.synchronizeTabs,n,e.clientId,c,e.asyncQueue,up(),mc(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new cp}}class Np extends jg{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,c=this;return(0,_.Z)(function*(){yield n().call(c,e);const f=c.ya.syncEngine;c.sharedClientState instanceof lh&&(c.sharedClientState.syncEngine={Mr:Cf.bind(null,f),Or:xm.bind(null,f),Fr:Am.bind(null,f),Fs:Bg.bind(null,f),kr:Fg.bind(null,f)},yield c.sharedClientState.start()),yield c.persistence.Ts(function(){var w=(0,_.Z)(function*(I){yield function _h(i,e){return Rp.apply(this,arguments)}(c.ya.syncEngine,I),c.gcScheduler&&(I&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):I||c.gcScheduler.stop())});return function(I){return w.apply(this,arguments)}}())})()}_a(e){const n=up();if(!lh.vt(n))throw new Ge(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=ag(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lh(n,e.asyncQueue,c,e.clientId,e.initialUser)}}class hl{initialize(e,n){var c=this;return(0,_.Z)(function*(){c.localStore||(c.localStore=e.localStore,c.sharedClientState=e.sharedClientState,c.datastore=c.createDatastore(n),c.remoteStore=c.createRemoteStore(n),c.eventManager=c.createEventManager(n),c.syncEngine=c.createSyncEngine(n,!e.synchronizeTabs),c.sharedClientState.onlineStateHandler=f=>Ap(c.syncEngine,f,1),c.remoteStore.remoteSyncer.handleCredentialChange=Cl.bind(null,c.syncEngine),yield Ag(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _m}createDatastore(e){const n=md(e.databaseInfo.databaseId),c=new vg(e.databaseInfo);return new gm(e.authCredentials,e.appCheckCredentials,c,n)}createRemoteStore(e){return n=this.localStore,c=this.datastore,f=e.asyncQueue,w=N=>Ap(this.syncEngine,N,0),I=yg.vt()?new yg:new sf,new hp(n,c,f,w,I);var n,c,f,w,I}createSyncEngine(e,n){return function(c,f,w,I,N,J,ae){const ke=new wm(c,f,w,I,N,J);return ae&&(ke.ha=!0),ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,_.Z)(function*(n){const c=q(n);sn("RemoteStore","RemoteStore shutting down."),c.fu.add(5),yield vd(c),c._u.shutdown(),c.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Id(i,e=10240){let n=0;return{read:()=>(0,_.Z)(function*(){if(n<i.byteLength){const c={value:i.slice(n,n+e),done:!1};return n+=e,c}return{done:!0}})(),cancel:()=>(0,_.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bo{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Yc{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new ln,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(c=>{c&&c.xu()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,_.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,_.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,_.Z)(function*(){const n=yield e.Ra();if(null===n)return null;const c=e.Ea.decode(n),f=Number(c);isNaN(f)&&e.Pa(`length string (${c}) is not valid number`);const w=yield e.ba(f);return new Dp(JSON.parse(w),n.length+f)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,_.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const n=e.Va();n<0&&e.Pa("Reached the end of bundle when a length string is expected.");const c=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),c})()}ba(e){var n=this;return(0,_.Z)(function*(){for(;n.buffer.length<e;)(yield n.va())&&n.Pa("Reached the end of bundle when more is expected.");const c=n.Ea.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),c})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,_.Z)(function*(){const n=yield e.Ta.read();if(!n.done){const c=new Uint8Array(e.buffer.length+n.value.length);c.set(e.buffer),c.set(n.value,e.buffer.length),e.buffer=c}return n.done})()}}class xf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,_.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ge(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(f=(0,_.Z)(function*(w,I){const N=q(w),J=Sa(N.M)+"/documents",ae={documents:I.map(Yt=>$a(N.M,Yt))},ke=yield N.ho("BatchGetDocuments",J,ae),Ze=new Map;ke.forEach(Yt=>{const en=function Ju(i,e){return"found"in e?function(n,c){M(!!c.found);const f=Qo(n,c.found.name),w=no(c.found.updateTime),I=new Qi({mapValue:{fields:c.found.fields}});return Oi.newFoundDocument(f,w,I)}(i,e):"missing"in e?function(n,c){M(!!c.missing),M(!!c.readTime);const f=Qo(n,c.missing),w=no(c.readTime);return Oi.newNoDocument(f,w)}(i,e):_n()}(N.M,Yt);Ze.set(en.key.toString(),en)});const Tt=[];return I.forEach(Yt=>{const en=Ze.get(Yt.toString());M(!!en),Tt.push(en)}),Tt}),function(w,I){return f.apply(this,arguments)})(n.datastore,e);var f;return c.forEach(f=>n.recordVersion(f)),c})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ha(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var c;e.mutations.forEach(c=>{n.delete(c.key.toString())}),n.forEach((c,f)=>{const w=mn.fromPath(f);e.mutations.push(new Fh(w,e.precondition(w)))}),yield(c=(0,_.Z)(function*(f,w){const I=q(f),N=Sa(I.M)+"/documents",J={writes:w.map(ae=>Ll(I.M,ae))};yield I.oo("Commit",N,J)}),function(f,w){return c.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _n();n=ne.min()}const c=this.readVersions.get(e.key.toString());if(c){if(!n.isEqual(c))throw new Ge(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?ts.updateTime(n):ts.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new Ge(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ts.updateTime(n)}return ts.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fl{constructor(e,n,c,f){this.asyncQueue=e,this.datastore=n,this.updateFunction=c,this.deferred=f,this.Sa=5,this.Do=new dp(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,_.Z)(function*(){const n=new xf(e.datastore),c=e.Ca(n);c&&c.then(f=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(f)}).catch(w=>{e.xa(w)}))}).catch(f=>{e.xa(f)})}))}Ca(e){try{const n=this.updateFunction(e);return!Mi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!yo(n)}return!1}}class Lp{constructor(e,n,c,f){var w=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=c,this.databaseInfo=f,this.user=gi.UNAUTHENTICATED,this.clientId=R.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(c,function(){var I=(0,_.Z)(function*(N){sn("FirestoreClient","Received user=",N.uid),yield w.authCredentialListener(N),w.user=N});return function(N){return I.apply(this,arguments)}}()),this.appCheckCredentials.start(c,I=>(sn("FirestoreClient","Received new app check token=",I),this.appCheckCredentialListener(I,this.user)))}getConfiguration(){var e=this;return(0,_.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(c){const f=ku(c,"Failed to shutdown persistence");n.reject(f)}})),n.promise}}function Fu(i,e){return Qc.apply(this,arguments)}function Qc(){return Qc=(0,_.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let c=n.initialUser;i.setCredentialChangeListener(function(){var f=(0,_.Z)(function*(w){c.isEqual(w)||(yield ef(e.localStore,w),c=w)});return function(w){return f.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Qc.apply(this,arguments)}function Vu(i,e){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,_.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Jc(i);sn("FirestoreClient","Initializing OnlineComponentProvider");const c=yield i.getConfiguration();yield e.initialize(n,c),i.setCredentialChangeListener(f=>xg(e.remoteStore,f)),i.setAppCheckTokenChangeListener((f,w)=>xg(e.remoteStore,w)),i.onlineComponents=e}),Xc.apply(this,arguments)}function Jc(i){return eu.apply(this,arguments)}function eu(){return eu=(0,_.Z)(function*(i){return i.offlineComponents||(sn("FirestoreClient","Using default OfflineComponentProvider"),yield Fu(i,new Ug)),i.offlineComponents}),eu.apply(this,arguments)}function bc(i){return tu.apply(this,arguments)}function tu(){return tu=(0,_.Z)(function*(i){return i.onlineComponents||(sn("FirestoreClient","Using default OnlineComponentProvider"),yield Vu(i,new hl)),i.onlineComponents}),tu.apply(this,arguments)}function nu(i){return Jc(i).then(e=>e.persistence)}function Af(i){return Jc(i).then(e=>e.localStore)}function Fp(i){return bc(i).then(e=>e.remoteStore)}function Sf(i){return bc(i).then(e=>e.syncEngine)}function Bu(i){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,_.Z)(function*(i){const e=yield bc(i),n=e.eventManager;return n.onListen=Rg.bind(null,e.syncEngine),n.onUnlisten=Em.bind(null,e.syncEngine),n}),Eh.apply(this,arguments)}function Bp(i,e,n={}){const c=new ln;return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(f,w,I,N,J){const ae=new bo({next:Ze=>{w.enqueueAndForget(()=>pf(f,ke));const Tt=Ze.docs.has(I);!Tt&&Ze.fromCache?J.reject(new Ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):Tt&&Ze.fromCache&&N&&"server"===N.source?J.reject(new Ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(Ze)},error:Ze=>J.reject(Ze)}),ke=new gf(da(I.path),ae,{includeMetadataChanges:!0,Cu:!0});return Sg(f,ke)}(yield Bu(i),i.asyncQueue,e,n,c)})),c.promise}function Mf(i,e,n={}){const c=new ln;return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(f,w,I,N,J){const ae=new bo({next:Ze=>{w.enqueueAndForget(()=>pf(f,ke)),Ze.fromCache&&"server"===N.source?J.reject(new Ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(Ze)},error:Ze=>J.reject(Ze)}),ke=new gf(I,ae,{includeMetadataChanges:!0,Cu:!0});return Sg(f,ke)}(yield Bu(i),i.asyncQueue,e,n,c)})),c.promise}const Wg=new Map;function Of(i,e,n){if(!n)throw new Ge(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Gg(i,e,n,c){if(!0===e&&!0===c)throw new Ge(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Up(i){if(!mn.isDocumentKey(i))throw new Ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Kg(i){if(mn.isDocumentKey(i))throw new Ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Pf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":_n()}function Ei(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(i);throw new Ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function qg(i,e){if(e<=0)throw new Ge(re.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Rf{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,n,c){this._authCredentials=n,this._appCheckCredentials=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rf({}),this._settingsFrozen=!1,e instanceof Ja?this._databaseId=e:(this._app=e,this._databaseId=function(f){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(f.options.projectId)}(e))}get app(){if(!this._app)throw new Ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rf(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Si;switch(n.type){case"gapi":const c=n.client;return M(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new xl(c,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Wg.get(e);n&&(sn("ComponentProvider","Removing Datastore"),Wg.delete(e),n.terminate())}(this),Promise.resolve()}}function Rm(i,e,n,c={}){var f;const w=(i=Ei(i,Uu))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==e&&Lo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},w),{host:`${e}:${n}`,ssl:!1})),c.mockUserToken){let I,N;if("string"==typeof c.mockUserToken)I=c.mockUserToken,N=gi.MOCK_USER;else{I=(0,de.Sg)(c.mockUserToken,null===(f=i._app)||void 0===f?void 0:f.options.projectId);const J=c.mockUserToken.sub||c.mockUserToken.user_id;if(!J)throw new Ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new gi(J)}i._authCredentials=new vs(new wi(I,N))}}class Ws{constructor(e,n,c){this.converter=n,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ws(this.firestore,e,this._key)}}class ma{constructor(e,n,c){this.converter=n,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class wc extends ma{constructor(e,n,c){super(e,n,da(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ws(this.firestore,null,new mn(e))}withConverter(e){return new wc(this.firestore,e,this._path)}}function uy(i,e,...n){if(i=(0,de.m9)(i),Of("collection","path",e),i instanceof Uu){const c=Cn.fromString(e,...n);return Kg(c),new wc(i,null,c)}{if(!(i instanceof Ws||i instanceof wc))throw new Ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=i._path.child(Cn.fromString(e,...n));return Kg(c),new wc(i.firestore,null,c)}}function Zg(i,e){if(i=Ei(i,Uu),Of("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ge(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ma(i,null,(n=e,new ua(Cn.emptyPath(),n)));var n}function Yg(i,e,...n){if(i=(0,de.m9)(i),1===arguments.length&&(e=R.R()),Of("doc","path",e),i instanceof Uu){const c=Cn.fromString(e,...n);return Up(c),new Ws(i,null,new mn(c))}{if(!(i instanceof Ws||i instanceof wc))throw new Ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=i._path.child(Cn.fromString(e,...n));return Up(c),new Ws(i.firestore,i instanceof wc?i.converter:null,new mn(c))}}function km(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),(i instanceof Ws||i instanceof wc)&&(e instanceof Ws||e instanceof wc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function ju(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),i instanceof ma&&e instanceof ma&&i.firestore===e.firestore&&sl(i._query,e._query)&&i.converter===e.converter}class Nm{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new dp(this,"async_queue_retry"),this.qa=()=>{const n=mc();n&&sn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=mc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=mc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new ln;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,_.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!Vl(n))throw n;sn("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(c=>{throw this.$a=c,this.Ba=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(w){let I=w.message||"";return w.stack&&(I=w.stack.includes(w.message)?w.stack:w.message+"\n"+w.stack),I}(c)),c}).then(c=>(this.Ba=!1,c))));return this.ka=n,n}enqueueAfterDelay(e,n,c){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const f=ff.createAndSchedule(this,e,n,c,w=>this.ja(w));return this.Fa.push(f),f}Ka(){this.$a&&_n()}verifyOperationInProgress(){}Wa(){var e=this;return(0,_.Z)(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,c)=>n.targetTimeMs-c.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function kf(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const c=e;for(const f of["next","error","complete"])if(f in c&&"function"==typeof c[f])return!0;return!1}(i)}class Lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new ln,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,c){this._progressObserver={next:e,error:n,complete:c}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Jo=-1;class zi extends Uu{constructor(e,n,c){super(e,n,c),this.type="firestore",this._queue=new Nm,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Qg(this),this._firestoreClient.terminate()}}function Gs(i){return i._firestoreClient||Qg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qg(i){var e;const n=i._freezeSettings(),c=(w=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Tc(i._databaseId,w,i._persistenceKey,(N=n).host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,N.useFetchStreams));var w,N;i._firestoreClient=new Lp(i._authCredentials,i._appCheckCredentials,i._queue,c)}function l(i,e){G(i=Ei(i,zi));const n=Gs(i),c=i._freezeSettings(),f=new hl;return s(n,f,new jg(f,c.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function a(i){G(i=Ei(i,zi));const e=Gs(i),n=i._freezeSettings(),c=new hl;return s(e,c,new Np(c,n.cacheSizeBytes))}function s(i,e,n){const c=new ln;return i.asyncQueue.enqueue((0,_.Z)(function*(){try{yield Fu(i,n),yield Vu(i,e),c.resolve()}catch(f){if(!("FirebaseError"===(w=f).name?w.code===re.FAILED_PRECONDITION||w.code===re.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw f;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),c.reject(f)}var w})).then(()=>c.promise)}function u(i){if(i._initialized&&!i._terminated)throw new Ge(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ln;return i._queue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{yield(n=(0,_.Z)(function*(c){if(!pa.vt())return Promise.resolve();const f=c+"main";yield pa.delete(f)}),function(c){return n.apply(this,arguments)})(ag(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function h(i){return function(e){const n=new ln;return e.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function ly(i,e){return bf.apply(this,arguments)}(yield Sf(e),n)})),n.promise}(Gs(i=Ei(i,zi)))}function g(i){return function Hg(i){return i.asyncQueue.enqueue((0,_.Z)(function*(){const e=yield nu(i),n=yield Fp(i);return e.setNetworkEnabled(!0),function(c){const f=q(c);return f.fu.delete(0),_d(f)}(n)}))}(Gs(i=Ei(i,zi)))}function y(i){return function $g(i){return i.asyncQueue.enqueue((0,_.Z)(function*(){const e=yield nu(i),n=yield Fp(i);return e.setNetworkEnabled(!1),(c=(0,_.Z)(function*(f){const w=q(f);w.fu.add(0),yield vd(w),w.wu.set("Offline")}),function(f){return c.apply(this,arguments)})(n);var c}))}(Gs(i=Ei(i,zi)))}function T(i,e){const n=Gs(i=Ei(i,zi)),c=new Lm;return function zg(i,e,n,c){const f=function(w,I){let N;return N="string"==typeof w?(new TextEncoder).encode(w):w,J=function(J,ae){if(J instanceof Uint8Array)return Id(J,void 0);if(J instanceof ArrayBuffer)return Id(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Yc(J,I);var J}(n,md(e));i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){!function wh(i,e,n){const c=q(i);var f;(f=(0,_.Z)(function*(w,I,N){try{const J=yield I.getMetadata();if(yield function(Tt,Yt){const en=q(Tt),Kn=no(Yt.createTime);return en.persistence.runTransaction("hasNewerBundle","readonly",Yr=>en._s.getBundleMetadata(Yr,Yt.id)).then(Yr=>!!Yr&&Yr.createTime.compareTo(Kn)>=0)}(w.localStore,J))return yield I.close(),N._completeWith({taskState:"Success",documentsLoaded:(Tt=J).totalDocuments,bytesLoaded:Tt.totalBytes,totalDocuments:Tt.totalDocuments,totalBytes:Tt.totalBytes}),Promise.resolve(new Set);N._updateProgress(ph(J));const ae=new bm(J,w.localStore,I.M);let ke=yield I.da();for(;ke;){const Tt=yield ae.ku(ke);Tt&&N._updateProgress(Tt),ke=yield I.da()}const Ze=yield ae.complete();return yield $l(w,Ze.Fu,void 0),yield function(Tt,Yt){const en=q(Tt);return en.persistence.runTransaction("Save bundle","readwrite",Kn=>en._s.saveBundleMetadata(Kn,Yt))}(w.localStore,J),N._completeWith(Ze.progress),Promise.resolve(Ze.Ou)}catch(J){return Lo("SyncEngine",`Loading bundle failed with ${J}`),N._failWith(J),Promise.resolve(new Set)}var Tt}),function(w,I,N){return f.apply(this,arguments)})(c,e,n).then(f=>{c.sharedClientState.notifyBundleLoaded(f)})}(yield Sf(i),f,c)}))}(n,i._databaseId,e,c),c}function P(i,e){return function Pm(i,e){return i.asyncQueue.enqueue((0,_.Z)(function*(){return function(n,c){const f=q(n);return f.persistence.runTransaction("Get named query","readonly",w=>f._s.getNamedQuery(w,c))}(yield Af(i),e)}))}(Gs(i=Ei(i,zi)),e).then(n=>n?new ma(i,null,n.query):null)}function G(i){if(i._initialized||i._terminated)throw new Ge(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ee{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Me{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Me(ci.fromBase64String(e))}catch(n){throw new Ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Me(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ve{constructor(e){this._methodName=e}}class Ke{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return A(this._lat,e._lat)||A(this._long,e._long)}}const mt=/^__.*__$/;class Et{constructor(e,n,c){this.data=e,this.fieldMask=n,this.fieldTransforms=c}toMutation(e,n){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class zt{constructor(e,n,c){this.data=e,this.fieldMask=n,this.fieldTransforms=c}toMutation(e,n){return new vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wn(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class nn{constructor(e,n,c,f,w,I){this.settings=e,this.databaseId=n,this.M=c,this.ignoreUndefinedProperties=f,void 0===w&&this.Ya(),this.fieldTransforms=w||[],this.fieldMask=I||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new nn(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const c=null===(n=this.path)||void 0===n?void 0:n.child(e),f=this.Za({path:c,ec:!1});return f.nc(e),f}sc(e){var n;const c=null===(n=this.path)||void 0===n?void 0:n.child(e),f=this.Za({path:c,ec:!1});return f.Ya(),f}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return iu(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(wn(this.Xa)&&mt.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Wt{constructor(e,n,c){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=c||md(e)}ac(e,n,c,f=!1){return new nn({Xa:e,methodName:n,uc:c,path:_r.emptyPath(),ec:!1,oc:f},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function En(i){const e=i._freezeSettings(),n=md(i._databaseId);return new Wt(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xn(i,e,n,c,f,w={}){const I=i.ac(w.merge||w.mergeFields?2:0,e,n,f);Td("Data must be an object, but it was:",I,c);const N=zl(c,I);let J,ae;if(w.merge)J=new Er(I.fieldMask),ae=I.fieldTransforms;else if(w.mergeFields){const ke=[];for(const Ze of w.mergeFields){const Tt=ru(e,Ze,n);if(!I.contains(Tt))throw new Ge(re.INVALID_ARGUMENT,`Field '${Tt}' is specified in your field mask but missing from your input data.`);Ch(ke,Tt)||ke.push(Tt)}J=new Er(ke),ae=I.fieldTransforms.filter(Ze=>J.covers(Ze.field))}else J=null,ae=I.fieldTransforms;return new Et(new Qi(N),J,ae)}class Gn extends Ve{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gn}}function or(i,e,n){return new nn({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Di extends Ve{_toFieldTransform(e){return new Rc(e.path,new Pc)}isEqual(e){return e instanceof Di}}class yi extends Ve{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=or(this,e,!0),c=this.cc.map(w=>pl(w,n)),f=new fa(c);return new Rc(e.path,f)}isEqual(e){return this===e}}class _i extends Ve{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=or(this,e,!0),c=this.cc.map(w=>pl(w,n)),f=new Ml(c);return new Rc(e.path,f)}isEqual(e){return this===e}}class Ns extends Ve{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new xa(e.M,fu(e.M,this.hc));return new Rc(e.path,n)}isEqual(e){return this===e}}function Mo(i,e,n,c){const f=i.ac(1,e,n);Td("Data must be an object, but it was:",f,c);const w=[],I=Qi.empty();Ue(c,(J,ae)=>{const ke=Ec(e,J,n);ae=(0,de.m9)(ae);const Ze=f.sc(ke);if(ae instanceof Gn)w.push(ke);else{const Tt=pl(ae,Ze);null!=Tt&&(w.push(ke),I.set(ke,Tt))}});const N=new Er(w);return new zt(I,N,f.fieldTransforms)}function ii(i,e,n,c,f,w){const I=i.ac(1,e,n),N=[ru(e,c,n)],J=[f];if(w.length%2!=0)throw new Ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Tt=0;Tt<w.length;Tt+=2)N.push(ru(e,w[Tt])),J.push(w[Tt+1]);const ae=[],ke=Qi.empty();for(let Tt=N.length-1;Tt>=0;--Tt)if(!Ch(ae,N[Tt])){const Yt=N[Tt];let en=J[Tt];en=(0,de.m9)(en);const Kn=I.sc(Yt);if(en instanceof Gn)ae.push(Yt);else{const Yr=pl(en,Kn);null!=Yr&&(ae.push(Yt),ke.set(Yt,Yr))}}const Ze=new Er(ae);return new zt(ke,Ze,I.fieldTransforms)}function Wi(i,e,n,c=!1){return pl(n,i.ac(c?4:3,e))}function pl(i,e){if(Hu(i=(0,de.m9)(i)))return Td("Unsupported field value:",e,i),zl(i,e);if(i instanceof Ve)return function(n,c){if(!wn(c.Xa))throw c.rc(`${n._methodName}() can only be used with update() and set()`);if(!c.path)throw c.rc(`${n._methodName}() is not currently supported inside arrays`);const f=n._toFieldTransform(c);f&&c.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,c){const f=[];let w=0;for(const I of n){let N=pl(I,c.ic(w));null==N&&(N={nullValue:"NULL_VALUE"}),f.push(N),w++}return{arrayValue:{values:f}}}(i,e)}return function(n,c){if(null===(n=(0,de.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return fu(c.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const f=K.fromDate(n);return{timestampValue:Lc(c.M,f)}}if(n instanceof K){const f=new K(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Lc(c.M,f)}}if(n instanceof Ke)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Me)return{bytesValue:Uh(c.M,n._byteString)};if(n instanceof Ws){const f=c.databaseId,w=n.firestore._databaseId;if(!w.isEqual(f))throw c.rc(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:sc(n.firestore._databaseId||c.databaseId,n._key.path)}}throw c.rc(`Unsupported field value: ${Pf(n)}`)}(i,e)}function zl(i,e){const n={};return Ot(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ue(i,(c,f)=>{const w=pl(f,e.tc(c));null!=w&&(n[c]=w)}),{mapValue:{fields:n}}}function Hu(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof K||i instanceof Ke||i instanceof Me||i instanceof Ws||i instanceof Ve)}function Td(i,e,n){if(!Hu(n)||"object"!=typeof(c=n)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=Pf(n);throw e.rc("an object"===c?i+" a custom object":i+" "+c)}var c}function ru(i,e,n){if((e=(0,de.m9)(e))instanceof ee)return e._internalPath;if("string"==typeof e)return Ec(i,e);throw iu("Field path arguments must be of type string or ",i,!1,void 0,n)}const Dh=new RegExp("[~\\*/\\[\\]]");function Ec(i,e,n){if(e.search(Dh)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ee(...e.split("."))._internalPath}catch(c){throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function iu(i,e,n,c,f){const w=c&&!c.isEmpty(),I=void 0!==f;let N=`Function ${e}() called with invalid data`;n&&(N+=" (via `toFirestore()`)"),N+=". ";let J="";return(w||I)&&(J+=" (found",w&&(J+=` in field ${c}`),I&&(J+=` in document ${f}`),J+=")"),new Ge(re.INVALID_ARGUMENT,N+i+J)}function Ch(i,e){return i.some(n=>n.isEqual(e))}class Nf{constructor(e,n,c,f,w){this._firestore=e,this._userDataWriter=n,this._key=c,this._document=f,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Ws(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class hy extends Nf{data(){return super.data()}}function jp(i,e){return"string"==typeof e?Ec(i,e):e instanceof ee?e._internalPath:e._delegate._internalPath}class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ad extends Nf{constructor(e,n,c,f,w,I){super(e,n,c,f,I),this._firestore=e,this._firestoreImpl=e,this.metadata=w}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const c=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,n.serverTimestamps)}}}class Lf extends Ad{data(e={}){return super.data(e)}}class Sd{constructor(e,n,c,f){this._firestore=e,this._userDataWriter=n,this._snapshot=f,this.metadata=new xd(f.hasPendingWrites,f.fromCache),this.query=c}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(c=>{e.call(n,new Lf(this._firestore,this._userDataWriter,c.key,c,new xd(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(c,f){if(c._snapshot.oldDocs.isEmpty()){let w=0;return c._snapshot.docChanges.map(I=>({type:"added",doc:new Lf(c._firestore,c._userDataWriter,I.doc.key,I.doc,new xd(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:w++}))}{let w=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(I=>f||3!==I.type).map(I=>{const N=new Lf(c._firestore,c._userDataWriter,I.doc.key,I.doc,new xd(c._snapshot.mutatedKeys.has(I.doc.key),c._snapshot.fromCache),c.query.converter);let J=-1,ae=-1;return 0!==I.type&&(J=w.indexOf(I.doc.key),w=w.delete(I.doc.key)),1!==I.type&&(w=w.add(I.doc),ae=w.indexOf(I.doc.key)),{type:J_(I.type),doc:N,oldIndex:J,newIndex:ae}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J_(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function By(i,e){return i instanceof Ad&&e instanceof Ad?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Sd&&e instanceof Sd&&i._firestore===e._firestore&&ju(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function fy(i){if(du(i)&&0===i.explicitOrderBy.length)throw new Ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ff{}function Uy(i,...e){for(const n of e)i=n._apply(i);return i}class Uo extends Ff{constructor(e,n,c){super(),this.lc=e,this.fc=n,this.dc=c,this.type="where"}_apply(e){const n=En(e.firestore),c=function(f,w,I,N,J,ae,ke){let Ze;if(J.isKeyField()){if("array-contains"===ae||"array-contains-any"===ae)throw new Ge(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ae}' queries on documentId().`);if("in"===ae||"not-in"===ae){Um(ke,ae);const Yt=[];for(const en of ke)Yt.push(Gy(N,f,en));Ze={arrayValue:{values:Yt}}}else Ze=Gy(N,f,ke)}else"in"!==ae&&"not-in"!==ae&&"array-contains-any"!==ae||Um(ke,ae),Ze=Wi(I,"where",ke,"in"===ae||"not-in"===ae);const Tt=Wn.create(J,ae,Ze);return function(Yt,en){if(en.S()){const Yr=il(Yt);if(null!==Yr&&!Yr.isEqual(en.field))throw new Ge(re.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Yr.toString()}' and '${en.field.toString()}'`);const Ks=Mc(Yt);null!==Ks&&Xg(0,en.field,Ks)}const Kn=function(Yr,Ks){for(const Oo of Yr.filters)if(Ks.indexOf(Oo.op)>=0)return Oo.op;return null}(Yt,function(Yr){switch(Yr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(en.op));if(null!==Kn)throw new Ge(re.INVALID_ARGUMENT,Kn===en.op?`Invalid query. You cannot use more than one '${en.op.toString()}' filter.`:`Invalid query. You cannot use '${en.op.toString()}' filters with '${Kn.toString()}' filters.`)}(f,Tt),Tt}(e._query,0,n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new ma(e.firestore,e.converter,function(f,w){const I=f.filters.concat([w]);return new ua(f.path,f.collectionGroup,f.explicitOrderBy.slice(),I,f.limit,f.limitType,f.startAt,f.endAt)}(e._query,c))}}function py(i,e,n){const c=e,f=jp("where",i);return new Uo(f,c,n)}class jy extends Ff{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(c,f,w){if(null!==c.startAt)throw new Ge(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Ge(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const I=new as(f,w);return function(N,J){if(null===Mc(N)){const ae=il(N);null!==ae&&Xg(0,ae,J.field)}}(c,I),I}(e._query,this.lc,this._c);return new ma(e.firestore,e.converter,function(c,f){const w=c.explicitOrderBy.concat([f]);return new ua(c.path,c.collectionGroup,w,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,n))}}function Hy(i,e="asc"){const n=e,c=jp("orderBy",i);return new jy(c,n)}class Fm extends Ff{constructor(e,n,c){super(),this.type=e,this.wc=n,this.mc=c}_apply(e){return new ma(e.firestore,e.converter,yl(e._query,this.wc,this.mc))}}function $y(i){return qg("limit",i),new Fm("limit",i,"F")}function gy(i){return qg("limitToLast",i),new Fm("limitToLast",i,"L")}class Vm extends Ff{constructor(e,n,c){super(),this.type=e,this.gc=n,this.yc=c}_apply(e){const n=Bm(e,this.type,this.gc,this.yc);return new ma(e.firestore,e.converter,(f=n,new ua((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)));var c,f}}function Vf(...i){return new Vm("startAt",i,!0)}function zy(...i){return new Vm("startAfter",i,!1)}class my extends Ff{constructor(e,n,c){super(),this.type=e,this.gc=n,this.yc=c}_apply(e){const n=Bm(e,this.type,this.gc,this.yc);return new ma(e.firestore,e.converter,(f=n,new ua((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)));var c,f}}function yy(...i){return new my("endBefore",i,!1)}function Wy(...i){return new my("endAt",i,!0)}function Bm(i,e,n,c){if(n[0]=(0,de.m9)(n[0]),n[0]instanceof Nf)return function(f,w,I,N,J){if(!N)throw new Ge(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${I}().`);const ae=[];for(const ke of ec(f))if(ke.field.isKeyField())ae.push(nl(w,N.key));else{const Ze=N.data.field(ke.field);if(su(Ze))throw new Ge(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ke.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const Tt=ke.field.canonicalString();throw new Ge(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Tt}' (used as the orderBy) does not exist.`)}ae.push(Ze)}return new ws(ae,J)}(i._query,i.firestore._databaseId,e,n[0]._document,c);{const f=En(i.firestore);return function(w,I,N,J,ae,ke){const Ze=w.explicitOrderBy;if(ae.length>Ze.length)throw new Ge(re.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Tt=[];for(let Yt=0;Yt<ae.length;Yt++){const en=ae[Yt];if(Ze[Yt].field.isKeyField()){if("string"!=typeof en)throw new Ge(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof en}`);if(!Gu(w)&&-1!==en.indexOf("/"))throw new Ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${J}() must be a plain document ID, but '${en}' contains a slash.`);const Kn=w.path.child(Cn.fromString(en));if(!mn.isDocumentKey(Kn))throw new Ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${J}() must result in a valid document path, but '${Kn}' is not because it contains an odd number of segments.`);const Yr=new mn(Kn);Tt.push(nl(I,Yr))}else{const Kn=Wi(N,J,en);Tt.push(Kn)}}return new ws(Tt,ke)}(i._query,i.firestore._databaseId,f,e,n,c)}}function Gy(i,e,n){if("string"==typeof(n=(0,de.m9)(n))){if(""===n)throw new Ge(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gu(e)&&-1!==n.indexOf("/"))throw new Ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const c=e.path.child(Cn.fromString(n));if(!mn.isDocumentKey(c))throw new Ge(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return nl(i,new mn(c))}if(n instanceof Ws)return nl(i,n._key);throw new Ge(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function Um(i,e){if(!Array.isArray(i)||0===i.length)throw new Ge(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ge(re.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Xg(i,e,n){if(!n.isEqual(e))throw new Ge(re.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Wl{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ui(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _n()}}convertObject(e,n){const c={};return Ue(e.fields,(f,w)=>{c[f]=this.convertValue(w,n)}),c}convertGeoPoint(e){return new Ke(ui(e.latitude),ui(e.longitude))}convertArray(e,n){return(e.values||[]).map(c=>this.convertValue(c,n))}convertServerTimestamp(e,n){switch(n){case"previous":const c=Kl(e);return null==c?null:this.convertValue(c,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new K(n.seconds,n.nanos)}convertDocumentKey(e,n){const c=Cn.fromString(e);M(ll(c));const f=new Ja(c.get(1),c.get(3)),w=new mn(c.popFirst(5));return f.isEqual(n)||Vr(`Document ${w} contains a document reference within a different database (${f.projectId}/${f.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),w}}function Jg(i,e,n){let c;return c=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,c}class Ky extends Wl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Me(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,n)}}class Dc{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=En(e)}set(e,n,c){this._verifyNotCommitted();const f=ea(e,this._firestore),w=Jg(f.converter,n,c),I=xn(this._dataReader,"WriteBatch.set",f._key,w,null!==f.converter,c);return this._mutations.push(I.toMutation(f._key,ts.none())),this}update(e,n,c,...f){this._verifyNotCommitted();const w=ea(e,this._firestore);let I;return I="string"==typeof(n=(0,de.m9)(n))||n instanceof ee?ii(this._dataReader,"WriteBatch.update",w._key,n,c,f):Mo(this._dataReader,"WriteBatch.update",w._key,n),this._mutations.push(I.toMutation(w._key,ts.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ea(e,this._firestore);return this._mutations=this._mutations.concat(new Ha(n._key,ts.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ge(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ea(i,e){if((i=(0,de.m9)(i)).firestore!==e)throw new Ge(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Cc(i){i=Ei(i,Ws);const e=Ei(i.firestore,zi);return Bp(Gs(e),i._key).then(n=>Bf(e,i,n))}class Md extends Wl{constructor(e){super(),this.firestore=e}convertBytes(e){return new Me(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ws(this.firestore,null,n)}}function _y(i){i=Ei(i,Ws);const e=Ei(i.firestore,zi),n=Gs(e),c=new Md(e);return function Vp(i,e){const n=new ln;return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(c=(0,_.Z)(function*(f,w,I){try{const N=yield function(J,ae){const ke=q(J);return ke.persistence.runTransaction("read document","readonly",Ze=>ke.ci.Ls(Ze,ae))}(f,w);N.isFoundDocument()?I.resolve(N):N.isNoDocument()?I.resolve(null):I.reject(new Ge(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const J=ku(N,`Failed to get document '${w} from cache`);I.reject(J)}}),function(f,w,I){return c.apply(this,arguments)})(yield Af(i),e,n);var c})),n.promise}(n,i._key).then(f=>new Ad(e,c,i._key,f,new xd(null!==f&&f.hasLocalMutations,!0),i.converter))}function qy(i){i=Ei(i,Ws);const e=Ei(i.firestore,zi);return Bp(Gs(e),i._key,{source:"server"}).then(n=>Bf(e,i,n))}function Zy(i){i=Ei(i,ma);const e=Ei(i.firestore,zi),n=Gs(e),c=new Md(e);return fy(i._query),Mf(n,i._query).then(f=>new Sd(e,c,i,f))}function Yy(i){i=Ei(i,ma);const e=Ei(i.firestore,zi),n=Gs(e),c=new Md(e);return function Sm(i,e){const n=new ln;return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(c=(0,_.Z)(function*(f,w,I){try{const N=yield tf(f,w,!0),J=new yf(w,N.li),ae=J.Gu(N.documents),ke=J.applyChanges(ae,!1);I.resolve(ke.snapshot)}catch(N){const J=ku(N,`Failed to execute query '${w} against cache`);I.reject(J)}}),function(f,w,I){return c.apply(this,arguments)})(yield Af(i),e,n);var c})),n.promise}(n,i._query).then(f=>new Sd(e,c,i,f))}function Qy(i){i=Ei(i,ma);const e=Ei(i.firestore,zi),n=Gs(e),c=new Md(e);return Mf(n,i._query,{source:"server"}).then(f=>new Sd(e,c,i,f))}function jm(i,e,n){i=Ei(i,Ws);const c=Ei(i.firestore,zi),f=Jg(i.converter,e,n);return Ih(c,[xn(En(c),"setDoc",i._key,f,null!==i.converter,n).toMutation(i._key,ts.none())])}function Hp(i,e,n,...c){i=Ei(i,Ws);const f=Ei(i.firestore,zi),w=En(f);let I;return I="string"==typeof(e=(0,de.m9)(e))||e instanceof ee?ii(w,"updateDoc",i._key,e,n,c):Mo(w,"updateDoc",i._key,e),Ih(f,[I.toMutation(i._key,ts.exists(!0))])}function Xy(i){return Ih(Ei(i.firestore,zi),[new Ha(i._key,ts.none())])}function vy(i,e){const n=Ei(i.firestore,zi),c=Yg(i),f=Jg(i.converter,e);return Ih(n,[xn(En(i.firestore),"addDoc",c._key,f,null!==i.converter,{}).toMutation(c._key,ts.exists(!1))]).then(()=>c)}function Jy(i,...e){var n,c,f;i=(0,de.m9)(i);let w={includeMetadataChanges:!1},I=0;"object"!=typeof e[I]||kf(e[I])||(w=e[I],I++);const N={includeMetadataChanges:w.includeMetadataChanges};if(kf(e[I])){const Ze=e[I];e[I]=null===(n=Ze.next)||void 0===n?void 0:n.bind(Ze),e[I+1]=null===(c=Ze.error)||void 0===c?void 0:c.bind(Ze),e[I+2]=null===(f=Ze.complete)||void 0===f?void 0:f.bind(Ze)}let J,ae,ke;if(i instanceof Ws)ae=Ei(i.firestore,zi),ke=da(i._key.path),J={next:Ze=>{e[I]&&e[I](Bf(ae,i,Ze))},error:e[I+1],complete:e[I+2]};else{const Ze=Ei(i,ma);ae=Ei(Ze.firestore,zi),ke=Ze._query;const Tt=new Md(ae);J={next:Yt=>{e[I]&&e[I](new Sd(ae,Tt,Ze,Yt))},error:e[I+1],complete:e[I+2]},fy(i._query)}return function(Ze,Tt,Yt,en){const Kn=new bo(en),Yr=new gf(Tt,Kn,Yt);return Ze.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Sg(yield Bu(Ze),Yr)})),()=>{Kn.Ia(),Ze.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return pf(yield Bu(Ze),Yr)}))}}(Gs(ae),ke,N,J)}function by(i,e){return function Mm(i,e){const n=new bo(e);return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return c=yield Bu(i),f=n,q(c).Eu.add(f),void f.next();var c,f})),()=>{n.Ia(),i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return c=yield Bu(i),f=n,void q(c).Eu.delete(f);var c,f}))}}(Gs(i=Ei(i,zi)),kf(e)?e:{next:e})}function Ih(i,e){return function(n,c){const f=new ln;return n.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function Hl(i,e,n){return gh.apply(this,arguments)}(yield Sf(n),c,f)})),f.promise}(Gs(i),e)}function Bf(i,e,n){const c=n.docs.get(e._key),f=new Md(i);return new Ad(i,f,e._key,c,new xd(n.hasPendingWrites,n.fromCache),e.converter)}class e_ extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=En(e)}get(e){const n=ea(e,this._firestore),c=new Ky(this._firestore);return this._transaction.lookup([n._key]).then(f=>{if(!f||1!==f.length)return _n();const w=f[0];if(w.isFoundDocument())return new Nf(this._firestore,c,w.key,w,n.converter);if(w.isNoDocument())return new Nf(this._firestore,c,n._key,null,n.converter);throw _n()})}set(e,n,c){const f=ea(e,this._firestore),w=Jg(f.converter,n,c),I=xn(this._dataReader,"Transaction.set",f._key,w,null!==f.converter,c);return this._transaction.set(f._key,I),this}update(e,n,c,...f){const w=ea(e,this._firestore);let I;return I="string"==typeof(n=(0,de.m9)(n))||n instanceof ee?ii(this._dataReader,"Transaction.update",w._key,n,c,f):Mo(this._dataReader,"Transaction.update",w._key,n),this._transaction.update(w._key,I),this}delete(e){const n=ea(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ea(e,this._firestore),c=new Md(this._firestore);return super.get(e).then(f=>new Ad(this._firestore,c,n._key,f._document,new xd(!1,!1),n.converter))}}function wy(i,e){return function Om(i,e){const n=new ln;return i.asyncQueue.enqueueAndForget((0,_.Z)(function*(){const c=yield(f=i,bc(f).then(w=>w.datastore));var f;new fl(i.asyncQueue,c,e,n).run()})),n.promise}(Gs(i=Ei(i,zi)),n=>e(new e_(i,n)))}function Ey(){return new Gn("deleteField")}function Hm(){return new Di("serverTimestamp")}function em(...i){return new yi("arrayUnion",i)}function Dy(...i){return new _i("arrayRemove",i)}function Cy(i){return new Ns("increment",i)}!function(i,e=!0){ss=Z.SDK_VERSION,(0,Z._registerComponent)(new ie.wA("firestore",(n,{options:c})=>{const f=n.getProvider("app").getImmediate(),w=new zi(f,new oa(n.getProvider("auth-internal")),new Fa(n.getProvider("app-check-internal")));return c=Object.assign({useFetchStreams:e},c),w._setSettings(c),w},"PUBLIC")),(0,Z.registerVersion)(sa,"3.4.8",i),(0,Z.registerVersion)(sa,"3.4.8","esm2017")}()},2090:(je,ve,L)=>{"use strict";L.d(ve,{$s:()=>Wr,BH:()=>nt,G6:()=>ge,L:()=>De,LL:()=>Mt,Lj:()=>it,Mn:()=>Rt,Sg:()=>dt,UG:()=>lt,US:()=>Ae,X3:()=>_e,ZB:()=>be,ZR:()=>ot,b$:()=>ct,d:()=>$e,eu:()=>Xe,hl:()=>Xt,jU:()=>Le,m9:()=>Tn,ne:()=>Ft,pd:()=>zr,r3:()=>Gt,ru:()=>Dt,tV:()=>ce,uI:()=>yt,vZ:()=>pr,w1:()=>bt,xO:()=>Tr,xb:()=>Xn,z$:()=>ht,zI:()=>st,zd:()=>br});var _=L(5861);const de=function(Te){const Ee=[];let Fe=0;for(let ft=0;ft<Te.length;ft++){let rt=Te.charCodeAt(ft);rt<128?Ee[Fe++]=rt:rt<2048?(Ee[Fe++]=rt>>6|192,Ee[Fe++]=63&rt|128):55296==(64512&rt)&&ft+1<Te.length&&56320==(64512&Te.charCodeAt(ft+1))?(rt=65536+((1023&rt)<<10)+(1023&Te.charCodeAt(++ft)),Ee[Fe++]=rt>>18|240,Ee[Fe++]=rt>>12&63|128,Ee[Fe++]=rt>>6&63|128,Ee[Fe++]=63&rt|128):(Ee[Fe++]=rt>>12|224,Ee[Fe++]=rt>>6&63|128,Ee[Fe++]=63&rt|128)}return Ee},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,Ee){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,ft=[];for(let rt=0;rt<Te.length;rt+=3){const Zt=Te[rt],vn=rt+1<Te.length,bn=vn?Te[rt+1]:0,Rn=rt+2<Te.length,tr=Rn?Te[rt+2]:0;let cr=(15&bn)<<2|tr>>6,si=63&tr;Rn||(si=64,vn||(cr=64)),ft.push(Fe[Zt>>2],Fe[(3&Zt)<<4|bn>>4],Fe[cr],Fe[si])}return ft.join("")},encodeString(Te,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(Te):this.encodeByteArray(de(Te),Ee)},decodeString(Te,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(Te):function(Te){const Ee=[];let Fe=0,ft=0;for(;Fe<Te.length;){const rt=Te[Fe++];if(rt<128)Ee[ft++]=String.fromCharCode(rt);else if(rt>191&&rt<224){const Zt=Te[Fe++];Ee[ft++]=String.fromCharCode((31&rt)<<6|63&Zt)}else if(rt>239&&rt<365){const Rn=((7&rt)<<18|(63&Te[Fe++])<<12|(63&Te[Fe++])<<6|63&Te[Fe++])-65536;Ee[ft++]=String.fromCharCode(55296+(Rn>>10)),Ee[ft++]=String.fromCharCode(56320+(1023&Rn))}else{const Zt=Te[Fe++],vn=Te[Fe++];Ee[ft++]=String.fromCharCode((15&rt)<<12|(63&Zt)<<6|63&vn)}}return Ee.join("")}(this.decodeStringToByteArray(Te,Ee))},decodeStringToByteArray(Te,Ee){this.init_();const Fe=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,ft=[];for(let rt=0;rt<Te.length;){const Zt=Fe[Te.charAt(rt++)],bn=rt<Te.length?Fe[Te.charAt(rt)]:0;++rt;const tr=rt<Te.length?Fe[Te.charAt(rt)]:64;++rt;const On=rt<Te.length?Fe[Te.charAt(rt)]:64;if(++rt,null==Zt||null==bn||null==tr||null==On)throw Error();ft.push(Zt<<2|bn>>4),64!==tr&&(ft.push(bn<<4&240|tr>>2),64!==On&&ft.push(tr<<6&192|On))}return ft},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}},De=function(Te){return function(Te){const Ee=de(Te);return Ae.encodeByteArray(Ee,!0)}(Te).replace(/\./g,"")},ce=function(Te){try{return Ae.decodeString(Te,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function be(Te,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return Ee}for(const Fe in Ee)!Ee.hasOwnProperty(Fe)||!Ye(Fe)||(Te[Fe]=be(Te[Fe],Ee[Fe]));return Te}function Ye(Te){return"__proto__"!==Te}class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Fe)=>{this.resolve=Ee,this.reject=Fe})}wrapCallback(Ee){return(Fe,ft)=>{Fe?this.reject(Fe):this.resolve(ft),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Fe):Ee(Fe,ft))}}}function dt(Te,Ee){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ft=Ee||"demo-project",rt=Te.iat||0,Zt=Te.sub||Te.user_id;if(!Zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vn=Object.assign({iss:`https://securetoken.google.com/${ft}`,aud:ft,iat:rt,exp:rt+3600,auth_time:rt,sub:Zt,user_id:Zt,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(vn)),""].join(".")}function ht(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function lt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Te){return!1}}function Le(){return"object"==typeof self&&self.self===self}function Dt(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){return ht().indexOf("Electron/")>=0}function bt(){const Te=ht();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function Rt(){return ht().indexOf("MSAppHost/")>=0}function ge(){return!lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xt(){return"object"==typeof indexedDB}function Xe(){return new Promise((Te,Ee)=>{try{let Fe=!0;const ft="validate-browser-context-for-indexeddb-analytics-module",rt=self.indexedDB.open(ft);rt.onsuccess=()=>{rt.result.close(),Fe||self.indexedDB.deleteDatabase(ft),Te(!0)},rt.onupgradeneeded=()=>{Fe=!1},rt.onerror=()=>{var Zt;Ee((null===(Zt=rt.error)||void 0===Zt?void 0:Zt.message)||"")}}catch(Fe){Ee(Fe)}})}function st(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ot extends Error{constructor(Ee,Fe,ft){super(Fe),this.code=Ee,this.customData=ft,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(Ee,Fe,ft){this.service=Ee,this.serviceName=Fe,this.errors=ft}create(Ee,...Fe){const ft=Fe[0]||{},rt=`${this.service}/${Ee}`,Zt=this.errors[Ee],vn=Zt?function Pt(Te,Ee){return Te.replace(gn,(Fe,ft)=>{const rt=Ee[ft];return null!=rt?String(rt):`<${ft}?>`})}(Zt,ft):"Error";return new ot(rt,`${this.serviceName}: ${vn} (${rt}).`,ft)}}const gn=/\{\$([^}]+)}/g;function Gt(Te,Ee){return Object.prototype.hasOwnProperty.call(Te,Ee)}function Xn(Te){for(const Ee in Te)if(Object.prototype.hasOwnProperty.call(Te,Ee))return!1;return!0}function pr(Te,Ee){if(Te===Ee)return!0;const Fe=Object.keys(Te),ft=Object.keys(Ee);for(const rt of Fe){if(!ft.includes(rt))return!1;const Zt=Te[rt],vn=Ee[rt];if(vr(Zt)&&vr(vn)){if(!pr(Zt,vn))return!1}else if(Zt!==vn)return!1}for(const rt of ft)if(!Fe.includes(rt))return!1;return!0}function vr(Te){return null!==Te&&"object"==typeof Te}function Tr(Te){const Ee=[];for(const[Fe,ft]of Object.entries(Te))Array.isArray(ft)?ft.forEach(rt=>{Ee.push(encodeURIComponent(Fe)+"="+encodeURIComponent(rt))}):Ee.push(encodeURIComponent(Fe)+"="+encodeURIComponent(ft));return Ee.length?"&"+Ee.join("&"):""}function br(Te){const Ee={};return Te.replace(/^\?/,"").split("&").forEach(ft=>{if(ft){const[rt,Zt]=ft.split("=");Ee[decodeURIComponent(rt)]=decodeURIComponent(Zt)}}),Ee}function zr(Te){const Ee=Te.indexOf("?");if(!Ee)return"";const Fe=Te.indexOf("#",Ee);return Te.substring(Ee,Fe>0?Fe:void 0)}function Ft(Te,Ee){const Fe=new $n(Te,Ee);return Fe.subscribe.bind(Fe)}class $n{constructor(Ee,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{Ee(this)}).catch(ft=>{this.error(ft)})}next(Ee){this.forEachObserver(Fe=>{Fe.next(Ee)})}error(Ee){this.forEachObserver(Fe=>{Fe.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Fe,ft){let rt;if(void 0===Ee&&void 0===Fe&&void 0===ft)throw new Error("Missing Observer.");rt=function Ln(Te,Ee){if("object"!=typeof Te||null===Te)return!1;for(const Fe of Ee)if(Fe in Te&&"function"==typeof Te[Fe])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Fe,complete:ft},void 0===rt.next&&(rt.next=Ur),void 0===rt.error&&(rt.error=Ur),void 0===rt.complete&&(rt.complete=Ur);const Zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?rt.error(this.finalError):rt.complete()}catch(vn){}}),this.observers.push(rt),Zt}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,Ee)}sendOne(Ee,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Fe(this.observers[Ee])}catch(ft){"undefined"!=typeof console&&console.error&&console.error(ft)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ur(){}function Wr(Te,Ee=1e3,Fe=2){const ft=Ee*Math.pow(Fe,Te),rt=Math.round(.5*ft*(Math.random()-.5)*2);return Math.min(144e5,ft+rt)}function Tn(Te){return Te&&Te._delegate?Te._delegate:Te}function Gr(Te,Ee){return new Promise((Fe,ft)=>{Te.onsuccess=rt=>{Fe(rt.target.result)},Te.onerror=rt=>{var Zt;ft(`${Ee}: ${null===(Zt=rt.target.error)||void 0===Zt?void 0:Zt.message}`)}})}class Jn{constructor(Ee){this._db=Ee,this.objectStoreNames=this._db.objectStoreNames}transaction(Ee,Fe="readonly"){return new dn(this._db.transaction.call(this._db,Ee,Fe))}createObjectStore(Ee,Fe){return new we(this._db.createObjectStore(Ee,Fe))}close(){this._db.close()}}class dn{constructor(Ee){this._transaction=Ee,this.complete=new Promise((Fe,ft)=>{this._transaction.oncomplete=function(){Fe()},this._transaction.onerror=()=>{ft(this._transaction.error)},this._transaction.onabort=()=>{ft(this._transaction.error)}})}objectStore(Ee){return new we(this._transaction.objectStore(Ee))}}class we{constructor(Ee){this._store=Ee}index(Ee){return new te(this._store.index(Ee))}createIndex(Ee,Fe,ft){return new te(this._store.createIndex(Ee,Fe,ft))}get(Ee){return Gr(this._store.get(Ee),"Error reading from IndexedDB")}put(Ee,Fe){return Gr(this._store.put(Ee,Fe),"Error writing to IndexedDB")}delete(Ee){return Gr(this._store.delete(Ee),"Error deleting from IndexedDB")}clear(){return Gr(this._store.clear(),"Error clearing IndexedDB object store")}}class te{constructor(Ee){this._index=Ee}get(Ee){return Gr(this._index.get(Ee),"Error reading from IndexedDB")}}function _e(Te,Ee,Fe){return new Promise((ft,rt)=>{try{const Zt=indexedDB.open(Te,Ee);Zt.onsuccess=vn=>{ft(new Jn(vn.target.result))},Zt.onerror=vn=>{var bn;rt(`Error opening indexedDB: ${null===(bn=vn.target.error)||void 0===bn?void 0:bn.message}`)},Zt.onupgradeneeded=vn=>{Fe(new Jn(Zt.result),vn.oldVersion,vn.newVersion,new dn(Zt.transaction))}}catch(Zt){rt(`Error opening indexedDB: ${Zt.message}`)}})}function it(Te){return St.apply(this,arguments)}function St(){return(St=(0,_.Z)(function*(Te){return new Promise((Ee,Fe)=>{try{const ft=indexedDB.deleteDatabase(Te);ft.onsuccess=()=>{Ee()},ft.onerror=rt=>{var Zt;Fe(`Error deleting indexedDB database "${Te}": ${null===(Zt=rt.target.error)||void 0===Zt?void 0:Zt.message}`)}}catch(ft){Fe(`Error deleting indexedDB database "${Te}": ${ft.message}`)}})})).apply(this,arguments)}},3259:(je,ve,L)=>{"use strict";L.d(ve,{a:()=>Z,g:()=>ie});var _=L(5620);const Z=(0,_.PH)("[Auth] setUser",(0,_.Ky)()),ie=(0,_.PH)("[Auth] unsetUser")},4612:(je,ve,L)=>{"use strict";L.d(ve,{U:()=>Z,i:()=>ie});var _=L(5620);const Z=(0,_.PH)("[IncomeExpense] SetItems",(0,_.Ky)()),ie=(0,_.PH)("[IncomeExpense] unsetItems")},9366:(je,ve,L)=>{"use strict";L.d(ve,{e:()=>De});var _=L(4004);class Z{constructor(he,be,Ye){this.uid=he,this.name=be,this.email=Ye}static fromfirebase({email:he,uid:be,name:Ye}){return new Z(be,Ye,he)}}var ie=L(3259),Se=L(4612),de=L(5e3),Ne=L(1041),Ae=L(6185),me=L(5620);let De=(()=>{class ce{constructor(be,Ye,nt){this.auth=be,this.firestore=Ye,this.store=nt}get user(){return Object.assign({},this._user)}initAuthListener(){this.auth.authState.subscribe(be=>{be?this.userSubscription=this.firestore.doc(`${be.uid}/user`).valueChanges().subscribe(Ye=>{const nt=Z.fromfirebase(Ye);this._user=nt,this.store.dispatch(ie.a({user:nt}))}):(this._user=null,this.userSubscription.unsubscribe(),this.store.dispatch(ie.g()),this.store.dispatch(Se.i()))})}createUser(be,Ye,nt){return this.auth.createUserWithEmailAndPassword(Ye,nt).then(dt=>{const ht=new Z(dt.user.uid,be,Ye);return this.firestore.doc(`${dt.user.uid}/user`).set(Object.assign({},ht))})}loginUser(be,Ye){return this.auth.signInWithEmailAndPassword(be,Ye)}logOut(){return this.auth.signOut()}isAuth(){return this.auth.authState.pipe((0,_.U)(be=>null!=be))}}return ce.\u0275fac=function(be){return new(be||ce)(de.LFG(Ne.zQ),de.LFG(Ae.ST),de.LFG(me.yh))},ce.\u0275prov=de.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},5299:(je,ve,L)=>{"use strict";L.d(ve,{V:()=>ie,h:()=>Z});var _=L(5620);const Z=(0,_.PH)("[UI Component] isLoading"),ie=(0,_.PH)("[UI Component] stopLoading")},5163:(je,ve,L)=>{"use strict";var _=L(9808),Z=L(5e3);class ie extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends ie{static makeCurrent(){(0,_.HT)(new Se)}onAndCancel(xe,ye,ze){return xe.addEventListener(ye,ze,!1),()=>{xe.removeEventListener(ye,ze,!1)}}dispatchEvent(xe,ye){xe.dispatchEvent(ye)}remove(xe){xe.parentNode&&xe.parentNode.removeChild(xe)}createElement(xe,ye){return(ye=ye||this.getDefaultDocument()).createElement(xe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(xe){return xe.nodeType===Node.ELEMENT_NODE}isShadowRoot(xe){return xe instanceof DocumentFragment}getGlobalEventTarget(xe,ye){return"window"===ye?window:"document"===ye?xe:"body"===ye?xe.body:null}getBaseHref(xe){const ye=function Ne(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==ye?null:function me(Pe){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",Pe);const xe=Ae.pathname;return"/"===xe.charAt(0)?xe:`/${xe}`}(ye)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(xe){return(0,_.Mx)(document.cookie,xe)}}let Ae,de=null;const De=new Z.OlP("TRANSITION_ID"),he=[{provide:Z.ip1,useFactory:function ce(Pe,xe,ye){return()=>{ye.get(Z.CZH).donePromise.then(()=>{const ze=(0,_.q)(),It=xe.querySelectorAll(`style[ng-transition="${Pe}"]`);for(let In=0;In<It.length;In++)ze.remove(It[In])})}},deps:[De,_.K0,Z.zs3],multi:!0}];class be{static init(){(0,Z.VLi)(new be)}addToWindow(xe){Z.dqk.getAngularTestability=(ze,It=!0)=>{const In=xe.findTestabilityInTree(ze,It);if(null==In)throw new Error("Could not find testability for element.");return In},Z.dqk.getAllAngularTestabilities=()=>xe.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>xe.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(ze=>{const It=Z.dqk.getAllAngularTestabilities();let In=It.length,nr=!1;const ar=function(Bi){nr=nr||Bi,In--,0==In&&ze(nr)};It.forEach(function(Bi){Bi.whenStable(ar)})})}findTestabilityInTree(xe,ye,ze){if(null==ye)return null;const It=xe.getTestability(ye);return null!=It?It:ze?(0,_.q)().isShadowRoot(ye)?this.findTestabilityInTree(xe,ye.host,!0):this.findTestabilityInTree(xe,ye.parentElement,!0):null}}let Ye=(()=>{class Pe{build(){return new XMLHttpRequest}}return Pe.\u0275fac=function(ye){return new(ye||Pe)},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const nt=new Z.OlP("EventManagerPlugins");let dt=(()=>{class Pe{constructor(ye,ze){this._zone=ze,this._eventNameToPlugin=new Map,ye.forEach(It=>It.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,ze,It){return this._findPluginFor(ze).addEventListener(ye,ze,It)}addGlobalEventListener(ye,ze,It){return this._findPluginFor(ze).addGlobalEventListener(ye,ze,It)}getZone(){return this._zone}_findPluginFor(ye){const ze=this._eventNameToPlugin.get(ye);if(ze)return ze;const It=this._plugins;for(let In=0;In<It.length;In++){const nr=It[In];if(nr.supports(ye))return this._eventNameToPlugin.set(ye,nr),nr}throw new Error(`No event manager plugin found for event ${ye}`)}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(nt),Z.LFG(Z.R0b))},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class ht{constructor(xe){this._doc=xe}addGlobalEventListener(xe,ye,ze){const It=(0,_.q)().getGlobalEventTarget(this._doc,xe);if(!It)throw new Error(`Unsupported event target ${It} for event ${ye}`);return this.addEventListener(It,ye,ze)}}let yt=(()=>{class Pe{constructor(){this._stylesSet=new Set}addStyles(ye){const ze=new Set;ye.forEach(It=>{this._stylesSet.has(It)||(this._stylesSet.add(It),ze.add(It))}),this.onStylesAdded(ze)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Pe.\u0275fac=function(ye){return new(ye||Pe)},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),lt=(()=>{class Pe extends yt{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,ze,It){ye.forEach(In=>{const nr=this._doc.createElement("style");nr.textContent=In,It.push(ze.appendChild(nr))})}addHost(ye){const ze=[];this._addStylesToHost(this._stylesSet,ye,ze),this._hostNodes.set(ye,ze)}removeHost(ye){const ze=this._hostNodes.get(ye);ze&&ze.forEach(Le),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((ze,It)=>{this._addStylesToHost(ye,It,ze)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(Le))}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(_.K0))},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();function Le(Pe){(0,_.q)().remove(Pe)}const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ct=/%COMP%/g;function Xe(Pe,xe,ye){for(let ze=0;ze<xe.length;ze++){let It=xe[ze];Array.isArray(It)?Xe(Pe,It,ye):(It=It.replace(ct,Pe),ye.push(It))}return ye}function st(Pe){return xe=>{if("__ngUnwrap__"===xe)return Pe;!1===Pe(xe)&&(xe.preventDefault(),xe.returnValue=!1)}}let ut=(()=>{class Pe{constructor(ye,ze,It){this.eventManager=ye,this.sharedStylesHost=ze,this.appId=It,this.rendererByCompId=new Map,this.defaultRenderer=new ot(ye)}createRenderer(ye,ze){if(!ye||!ze)return this.defaultRenderer;switch(ze.encapsulation){case Z.ifc.Emulated:{let It=this.rendererByCompId.get(ze.id);return It||(It=new gn(this.eventManager,this.sharedStylesHost,ze,this.appId),this.rendererByCompId.set(ze.id,It)),It.applyToHost(ye),It}case 1:case Z.ifc.ShadowDom:return new Mn(this.eventManager,this.sharedStylesHost,ye,ze);default:if(!this.rendererByCompId.has(ze.id)){const It=Xe(ze.id,ze.styles,[]);this.sharedStylesHost.addStyles(It),this.rendererByCompId.set(ze.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(dt),Z.LFG(lt),Z.LFG(Z.AFp))},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class ot{constructor(xe){this.eventManager=xe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(xe,ye){return ye?document.createElementNS(Dt[ye]||ye,xe):document.createElement(xe)}createComment(xe){return document.createComment(xe)}createText(xe){return document.createTextNode(xe)}appendChild(xe,ye){xe.appendChild(ye)}insertBefore(xe,ye,ze){xe&&xe.insertBefore(ye,ze)}removeChild(xe,ye){xe&&xe.removeChild(ye)}selectRootElement(xe,ye){let ze="string"==typeof xe?document.querySelector(xe):xe;if(!ze)throw new Error(`The selector "${xe}" did not match any elements`);return ye||(ze.textContent=""),ze}parentNode(xe){return xe.parentNode}nextSibling(xe){return xe.nextSibling}setAttribute(xe,ye,ze,It){if(It){ye=It+":"+ye;const In=Dt[It];In?xe.setAttributeNS(In,ye,ze):xe.setAttribute(ye,ze)}else xe.setAttribute(ye,ze)}removeAttribute(xe,ye,ze){if(ze){const It=Dt[ze];It?xe.removeAttributeNS(It,ye):xe.removeAttribute(`${ze}:${ye}`)}else xe.removeAttribute(ye)}addClass(xe,ye){xe.classList.add(ye)}removeClass(xe,ye){xe.classList.remove(ye)}setStyle(xe,ye,ze,It){It&(Z.JOm.DashCase|Z.JOm.Important)?xe.style.setProperty(ye,ze,It&Z.JOm.Important?"important":""):xe.style[ye]=ze}removeStyle(xe,ye,ze){ze&Z.JOm.DashCase?xe.style.removeProperty(ye):xe.style[ye]=""}setProperty(xe,ye,ze){xe[ye]=ze}setValue(xe,ye){xe.nodeValue=ye}listen(xe,ye,ze){return"string"==typeof xe?this.eventManager.addGlobalEventListener(xe,ye,st(ze)):this.eventManager.addEventListener(xe,ye,st(ze))}}class gn extends ot{constructor(xe,ye,ze,It){super(xe),this.component=ze;const In=Xe(It+"-"+ze.id,ze.styles,[]);ye.addStyles(In),this.contentAttr=function ge(Pe){return"_ngcontent-%COMP%".replace(ct,Pe)}(It+"-"+ze.id),this.hostAttr=function Xt(Pe){return"_nghost-%COMP%".replace(ct,Pe)}(It+"-"+ze.id)}applyToHost(xe){super.setAttribute(xe,this.hostAttr,"")}createElement(xe,ye){const ze=super.createElement(xe,ye);return super.setAttribute(ze,this.contentAttr,""),ze}}class Mn extends ot{constructor(xe,ye,ze,It){super(xe),this.sharedStylesHost=ye,this.hostEl=ze,this.shadowRoot=ze.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const In=Xe(It.id,It.styles,[]);for(let nr=0;nr<In.length;nr++){const ar=document.createElement("style");ar.textContent=In[nr],this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(xe){return xe===this.hostEl?this.shadowRoot:xe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(xe,ye){return super.appendChild(this.nodeOrShadowRoot(xe),ye)}insertBefore(xe,ye,ze){return super.insertBefore(this.nodeOrShadowRoot(xe),ye,ze)}removeChild(xe,ye){return super.removeChild(this.nodeOrShadowRoot(xe),ye)}parentNode(xe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(xe)))}}let Bt=(()=>{class Pe extends ht{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,ze,It){return ye.addEventListener(ze,It,!1),()=>this.removeEventListener(ye,ze,It)}removeEventListener(ye,ze,It){return ye.removeEventListener(ze,It)}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(_.K0))},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const jt=["alt","control","meta","shift"],dr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},on={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qn={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let Gt=(()=>{class Pe extends ht{constructor(ye){super(ye)}supports(ye){return null!=Pe.parseEventName(ye)}addEventListener(ye,ze,It){const In=Pe.parseEventName(ze),nr=Pe.eventCallback(In.fullKey,It,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ye,In.domEventName,nr))}static parseEventName(ye){const ze=ye.toLowerCase().split("."),It=ze.shift();if(0===ze.length||"keydown"!==It&&"keyup"!==It)return null;const In=Pe._normalizeKey(ze.pop());let nr="";if(jt.forEach(Bi=>{const Zs=ze.indexOf(Bi);Zs>-1&&(ze.splice(Zs,1),nr+=Bi+".")}),nr+=In,0!=ze.length||0===In.length)return null;const ar={};return ar.domEventName=It,ar.fullKey=nr,ar}static getEventFullKey(ye){let ze="",It=function kn(Pe){let xe=Pe.key;if(null==xe){if(xe=Pe.keyIdentifier,null==xe)return"Unidentified";xe.startsWith("U+")&&(xe=String.fromCharCode(parseInt(xe.substring(2),16)),3===Pe.location&&on.hasOwnProperty(xe)&&(xe=on[xe]))}return dr[xe]||xe}(ye);return It=It.toLowerCase()," "===It?It="space":"."===It&&(It="dot"),jt.forEach(In=>{In!=It&&qn[In](ye)&&(ze+=In+".")}),ze+=It,ze}static eventCallback(ye,ze,It){return In=>{Pe.getEventFullKey(In)===ye&&It.runGuarded(()=>ze(In))}}static _normalizeKey(ye){return"esc"===ye?"escape":ye}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(_.K0))},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Tr=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:_.bD},{provide:Z.g9A,useValue:function Xn(){Se.makeCurrent(),be.init()},multi:!0},{provide:_.K0,useFactory:function pr(){return(0,Z.RDi)(document),document},deps:[]}]),br=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function Un(){return new Z.qLn},deps:[]},{provide:nt,useClass:Bt,multi:!0,deps:[_.K0,Z.R0b,Z.Lbi]},{provide:nt,useClass:Gt,multi:!0,deps:[_.K0]},{provide:ut,useClass:ut,deps:[dt,lt,Z.AFp]},{provide:Z.FYo,useExisting:ut},{provide:yt,useExisting:lt},{provide:lt,useClass:lt,deps:[_.K0]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b]},{provide:dt,useClass:dt,deps:[nt,Z.R0b]},{provide:_.JF,useClass:Ye,deps:[]}];let zr=(()=>{class Pe{constructor(ye){if(ye)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ye){return{ngModule:Pe,providers:[{provide:Z.AFp,useValue:ye.appId},{provide:De,useExisting:Z.AFp},he]}}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(Pe,12))},Pe.\u0275mod=Z.oAB({type:Pe}),Pe.\u0275inj=Z.cJS({providers:br,imports:[_.ez,Z.hGG]}),Pe})();"undefined"!=typeof window&&window;var vn=L(4232),bn=L(2382),Rn=L(5226),tr=L.n(Rn),yr=L(5299),On=L(9366),cr=L(5620);function si(Pe,xe){if(1&Pe&&(Z.TgZ(0,"button",20),Z._uU(1,"Login"),Z.qZA()),2&Pe){const ye=Z.oxw();Z.Q6J("disabled",ye.loginForm.invalid)}}function hi(Pe,xe){1&Pe&&(Z.TgZ(0,"button",21),Z._UZ(1,"i",22),Z._uU(2," Wait..."),Z.qZA()),2&Pe&&Z.Q6J("disabled",!0)}let Ti=(()=>{class Pe{constructor(ye,ze,It,In){this.fb=ye,this.authService=ze,this.router=It,this.store=In,this.loading=!1}ngOnInit(){this.uiSubscription=this.store.select("ui").subscribe(ye=>{this.loading=ye.isLoading,console.log("cargando subs")}),this.loginForm=this.fb.group({email:["",[bn.kI.required],bn.kI.email],password:["",bn.kI.required]})}ngOnDestroy(){this.uiSubscription.unsubscribe()}loginUser(){if(this.loginForm.invalid)return;this.store.dispatch(yr.h());const{email:ye,password:ze}=this.loginForm.value;this.authService.loginUser(ye,ze).then(It=>{console.log(It),this.store.dispatch(yr.V()),this.router.navigate(["/"])}).catch(It=>{this.store.dispatch(yr.V()),tr().fire({icon:"error",title:"Oops...",text:It.message})})}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.Y36(bn.qu),Z.Y36(On.e),Z.Y36(vn.F0),Z.Y36(cr.yh))},Pe.\u0275cmp=Z.Xpm({type:Pe,selectors:[["app-login"]],decls:34,vars:3,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","auth-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4",2,"color","white"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"label"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-check-circle"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],["type","submit","class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary submit-btn btn-block ",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/register",1,"text-black","text-small"],["type","submit",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(ye,ze){1&ye&&(Z.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Z._uU(5,"Login"),Z.qZA(),Z.TgZ(6,"div",5)(7,"form",6),Z.NdJ("ngSubmit",function(){return ze.loginUser()}),Z.TgZ(8,"div",7)(9,"label",8),Z._uU(10,"email"),Z.qZA(),Z.TgZ(11,"div",9),Z._UZ(12,"input",10),Z.TgZ(13,"div",11)(14,"span",12),Z._UZ(15,"i",13),Z.qZA()()()(),Z.TgZ(16,"div",7)(17,"label",8),Z._uU(18,"Contrase\xf1a"),Z.qZA(),Z.TgZ(19,"div",9),Z._UZ(20,"input",14),Z.TgZ(21,"div",11)(22,"span",12),Z._UZ(23,"i",13),Z.qZA()()()(),Z.TgZ(24,"div",7),Z.YNc(25,si,2,1,"button",15),Z.qZA(),Z.TgZ(26,"div",7),Z.YNc(27,hi,3,1,"button",16),Z.qZA(),Z.TgZ(28,"div",17)(29,"span",18),Z._uU(30,"you're not registered yet? "),Z.qZA(),Z._UZ(31,"br"),Z.TgZ(32,"a",19),Z._uU(33,"Create account"),Z.qZA()()()()()()()()),2&ye&&(Z.xp6(7),Z.Q6J("formGroup",ze.loginForm),Z.xp6(18),Z.Q6J("ngIf",!ze.loading),Z.xp6(2),Z.Q6J("ngIf",ze.loading))},directives:[bn._Y,bn.JL,bn.sg,bn.Fj,bn.JJ,bn.u,_.O5,vn.yS],styles:[""]}),Pe})();function ai(Pe,xe){1&Pe&&Z._UZ(0,"i",20)}function ni(Pe,xe){1&Pe&&Z._UZ(0,"i",20)}function Fr(Pe,xe){1&Pe&&Z._UZ(0,"i",20)}function Pi(Pe,xe){if(1&Pe&&(Z.TgZ(0,"button",21),Z._uU(1,"Create account"),Z.qZA()),2&Pe){const ye=Z.oxw();Z.Q6J("disabled",ye.registerform.invalid)}}function Nn(Pe,xe){1&Pe&&(Z.TgZ(0,"button",22),Z._UZ(1,"i",23),Z._uU(2," Wait..."),Z.qZA()),2&Pe&&Z.Q6J("disabled",!0)}let Vt=(()=>{class Pe{constructor(ye,ze,It,In){this.fb=ye,this.authService=ze,this.router=It,this.store=In,this.loading=!1}ngOnInit(){this.registerform=this.fb.group({name:["",bn.kI.required],email:["",[bn.kI.required,bn.kI.email]],password:["",[bn.kI.required,bn.kI.minLength(8)]]}),this.uiSubscription=this.store.select("ui").subscribe(ye=>{this.loading=ye.isLoading,console.log("cargando subs")})}ngOnDestroy(){this.uiSubscription.unsubscribe()}createUser(){if(this.registerform.invalid)return;this.store.dispatch(yr.h());const{name:ye,email:ze,password:It}=this.registerform.value;this.authService.createUser(ye,ze,It).then(In=>{console.log(In),this.store.dispatch(yr.V()),this.router.navigate(["/"])}).catch(In=>{this.store.dispatch(yr.V()),tr().fire({icon:"error",title:"Oops...",text:In.message})})}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.Y36(bn.qu),Z.Y36(On.e),Z.Y36(vn.F0),Z.Y36(cr.yh))},Pe.\u0275cmp=Z.Xpm({type:Pe,selectors:[["app-register"]],decls:36,vars:6,consts:[[1,"page-body-wrapper","full-page-wrapper","auth-page"],[1,"content-wrapper","d-flex","align-items-center","auth","register-bg-1","theme-one"],[1,"row","w-100"],[1,"col-lg-4","mx-auto"],[1,"text-center","mb-4"],[1,"auto-form-wrapper"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],["class","fa fa-check-circle",4,"ngIf"],["type","email","placeholder","e-mail","formControlName","email",1,"form-control"],["type","password","placeholder","Password: min. 8 characters","formControlName","password",1,"form-control"],["class","btn btn-primary submit-btn btn-block",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary submit-btn btn-block ",3,"disabled",4,"ngIf"],[1,"text-block","text-center","my-3"],[1,"text-small","font-weight-semibold"],["routerLink","/login",1,"text-black","text-small"],[1,"fa","fa-check-circle"],[1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],["type","button",1,"btn","btn-primary","submit-btn","btn-block",3,"disabled"],[1,"fa","fa-spin","fa-sync"]],template:function(ye,ze){1&ye&&(Z.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Z._uU(5,"Register"),Z.qZA(),Z.TgZ(6,"div",5)(7,"form",6),Z.NdJ("ngSubmit",function(){return ze.createUser()}),Z.TgZ(8,"div",7)(9,"div",8),Z._UZ(10,"input",9),Z.TgZ(11,"div",10)(12,"span",11),Z.YNc(13,ai,1,0,"i",12),Z.qZA()()()(),Z.TgZ(14,"div",7)(15,"div",8),Z._UZ(16,"input",13),Z.TgZ(17,"div",10)(18,"span",11),Z.YNc(19,ni,1,0,"i",12),Z.qZA()()()(),Z.TgZ(20,"div",7)(21,"div",8),Z._UZ(22,"input",14),Z.TgZ(23,"div",10)(24,"span",11),Z.YNc(25,Fr,1,0,"i",12),Z.qZA()()()(),Z.TgZ(26,"div",7),Z.YNc(27,Pi,2,1,"button",15),Z.qZA(),Z.TgZ(28,"div",7),Z.YNc(29,Nn,3,1,"button",16),Z.qZA(),Z.TgZ(30,"div",17)(31,"span",18),Z._uU(32,"already have an account?"),Z.qZA(),Z._UZ(33,"br"),Z.TgZ(34,"a",19),Z._uU(35,"Login"),Z.qZA()()()()()()()()),2&ye&&(Z.xp6(7),Z.Q6J("formGroup",ze.registerform),Z.xp6(6),Z.Q6J("ngIf",ze.registerform.controls.name.valid),Z.xp6(6),Z.Q6J("ngIf",ze.registerform.controls.email.valid),Z.xp6(6),Z.Q6J("ngIf",ze.registerform.controls.password.valid),Z.xp6(2),Z.Q6J("ngIf",!ze.loading),Z.xp6(2),Z.Q6J("ngIf",ze.loading))},directives:[bn._Y,bn.JL,bn.sg,bn.Fj,bn.JJ,bn.u,_.O5,vn.yS],styles:[""]}),Pe})();var jn=L(8505),hr=L(5698);const Fi=[{path:"login",component:Ti},{path:"register",component:Vt},{path:"",canLoad:[(()=>{class Pe{constructor(ye,ze){this.authService=ye,this.router=ze}canActivate(){return this.authService.isAuth().pipe((0,jn.b)(ye=>{ye||this.router.navigate(["/login"])}))}canLoad(){return this.authService.isAuth().pipe((0,jn.b)(ye=>{ye||this.router.navigate(["/login"])}),(0,hr.q)(1))}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.LFG(On.e),Z.LFG(vn.F0))},Pe.\u0275prov=Z.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})()],loadChildren:()=>L.e(916).then(L.bind(L,2916)).then(Pe=>Pe.IncomeExpensesModule)},{path:"**",redirectTo:""}];let Hr=(()=>{class Pe{}return Pe.\u0275fac=function(ye){return new(ye||Pe)},Pe.\u0275mod=Z.oAB({type:Pe}),Pe.\u0275inj=Z.cJS({imports:[[vn.Bz.forRoot(Fi)],vn.Bz]}),Pe})();var fi=L(6185),fr=L(1041),Nr=L(2011),qr=L(9565);const Xr=(0,cr.Lq)({isLoading:!1},(0,cr.on)(yr.h,Pe=>Object.assign(Object.assign({},Pe),{isLoading:!0})),(0,cr.on)(yr.V,Pe=>Object.assign(Object.assign({},Pe),{isLoading:!1})));var vi=L(3259);const Zr=(0,cr.Lq)({user:null},(0,cr.on)(vi.a,(Pe,{user:xe})=>Object.assign(Object.assign({},Pe),{user:Object.assign({},xe)})),(0,cr.on)(vi.g,Pe=>Object.assign(Object.assign({},Pe),{user:null}))),Ce={ui:function Vi(Pe,xe){return Xr(Pe,xe)},user:function Sn(Pe,xe){return Zr(Pe,xe)}};let vt=(()=>{class Pe{constructor(ye){this.authService=ye,this.title="income_and_expenses",this.authService.initAuthListener()}}return Pe.\u0275fac=function(ye){return new(ye||Pe)(Z.Y36(On.e))},Pe.\u0275cmp=Z.Xpm({type:Pe,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"container-scroller"]],template:function(ye,ze){1&ye&&(Z.TgZ(0,"div",0),Z._UZ(1,"router-outlet"),Z.qZA())},directives:[vn.lC],styles:[""]}),Pe})();const qe_firebase={apiKey:"AIzaSyAF_qw1T1C7a0BGHt1GTGBLwuGGc82193w",authDomain:"incomeandexpensesapp.firebaseapp.com",databaseURL:"https://incomeandexpensesapp-default-rtdb.firebaseio.com",projectId:"incomeandexpensesapp",storageBucket:"incomeandexpensesapp.appspot.com",messagingSenderId:"550556619001",appId:"1:550556619001:web:fcf802e7ba5b5cc2335228",measurementId:"G-ZPLFXN63R8"};let _t=(()=>{class Pe{}return Pe.\u0275fac=function(ye){return new(ye||Pe)},Pe.\u0275mod=Z.oAB({type:Pe}),Pe.\u0275inj=Z.cJS({imports:[[_.ez,bn.UX,vn.Bz]]}),Pe})();var Ht=L(483);let $t=(()=>{class Pe{}return Pe.\u0275fac=function(ye){return new(ye||Pe)},Pe.\u0275mod=Z.oAB({type:Pe,bootstrap:[vt]}),Pe.\u0275inj=Z.cJS({providers:[],imports:[[zr,_t,Hr,Nr.hO.initializeApp(qe_firebase),cr.Aw.forRoot(Ce),qr.FT.instrument({maxAge:25,logOnly:true}),Ht.vQ,fi.yb,fr.ww]]}),Pe})();(0,Z.G48)(),Tr().bootstrapModule($t).catch(Pe=>console.error(Pe))},5867:(je,ve,L)=>{"use strict";L.d(ve,{C6:()=>_.getApps,Mq:()=>_.getApp});var _=L(9681);(0,_.registerVersion)("firebase","9.7.0","app")},127:(je,ve,L)=>{"use strict";L.d(ve,{Z:()=>_.Z});var _=L(3942);_.Z.registerVersion("firebase","9.7.0","app-compat")},820:(je,ve,L)=>{"use strict";L.r(ve);var _=L(5861),Z=L(3942),ie=L(2090),Se=L(9681),de=L(655),Ne=L(1877),Ae=L(4859);const dt=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new ie.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new Ne.Yd("@firebase/auth");function Dt(D,...m){Le.logLevel<=Ne.in.ERROR&&Le.error(`Auth (${Se.SDK_VERSION}): ${D}`,...m)}function ct(D,...m){throw Ut(D,...m)}function $e(D,...m){return Ut(D,...m)}function bt(D,m,v){const S=Object.assign(Object.assign({},ht()),{[m]:v});return new ie.LL("auth","Firebase",S).create(m,{appName:D.name})}function Rt(D,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&ct(D,"argument-error"),bt(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(D,...m){if("string"!=typeof D){const v=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=D.name),D._errorFactory.create(v,...S)}return yt.create(D,...m)}function ge(D,m,...v){if(!D)throw Ut(m,...v)}function Xt(D){const m="INTERNAL ASSERTION FAILED: "+D;throw Dt(m),new Error(m)}function Xe(D,m){D||Xt(m)}const st=new Map;function et(D){Xe(D instanceof Function,"Expected a class definition");let m=st.get(D);return m?(Xe(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,st.set(D,m),m)}function Mt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Pt(){return"http:"===gn()||"https:"===gn()}function gn(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class jt{constructor(m,v){this.shortDelay=m,this.longDelay=v,Xe(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,ie.uI)()||(0,ie.b$)()}get(){return function Mn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,ie.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cn(D,m){Xe(D.emulator,"Emulator should always be set here");const{url:v}=D.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class dr{static initialize(m,v,S){this.fetchImpl=m,v&&(this.headersImpl=v),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qn=new jt(3e4,6e4);function Gt(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function kn(D,m,v,S){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,_.Z)(function*(D,m,v,S,Q={}){return Un(D,Q,(0,_.Z)(function*(){let pe={},tt={};S&&("GET"===m?tt=S:pe={body:JSON.stringify(S)});const xt=(0,ie.xO)(Object.assign({key:D.config.apiKey},tt)).slice(1),yn=yield D._getAdditionalHeaders();return yn["Content-Type"]="application/json",D.languageCode&&(yn["X-Firebase-Locale"]=D.languageCode),dr.fetch()(br(D,D.config.apiHost,v,xt),Object.assign({method:m,headers:yn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function Un(D,m,v){return pr.apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(D,m,v){D._canInitEmulator=!1;const S=Object.assign(Object.assign({},on),m);try{const Q=new zr(D),pe=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const tt=yield pe.json();if("needConfirmation"in tt)throw Br(D,"account-exists-with-different-credential",tt);if(pe.ok&&!("errorMessage"in tt))return tt;{const xt=pe.ok?tt.errorMessage:tt.error.message,[yn,Vn]=xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yn)throw Br(D,"credential-already-in-use",tt);if("EMAIL_EXISTS"===yn)throw Br(D,"email-already-in-use",tt);const ur=S[yn]||yn.toLowerCase().replace(/[_\s]+/g,"-");if(Vn)throw bt(D,ur,Vn);ct(D,ur)}}catch(Q){if(Q instanceof ie.ZR)throw Q;ct(D,"network-request-failed")}})).apply(this,arguments)}function vr(D,m,v,S){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,_.Z)(function*(D,m,v,S,Q={}){const pe=yield kn(D,m,v,S,Q);return"mfaPendingCredential"in pe&&ct(D,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function br(D,m,v,S){const Q=`${m}${v}?${S}`;return D.config.emulator?cn(D.config,Q):`${D.config.apiScheme}://${Q}`}class zr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,S)=>{this.timer=setTimeout(()=>S($e(this.auth,"network-request-failed")),qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Br(D,m,v){const S={appName:D.name};v.email&&(S.email=v.email),v.phoneNumber&&(S.phoneNumber=v.phoneNumber);const Q=$e(D,m,S);return Q.customData._tokenResponse=v,Q}function $n(){return($n=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function lr(D,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ur(D,m){return Li.apply(this,arguments)}function Li(){return(Li=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Mr(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function er(){return(er=(0,_.Z)(function*(D,m=!1){const v=(0,ie.m9)(D),S=yield v.getIdToken(m),Q=tn(S);ge(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const pe="object"==typeof Q.firebase?Q.firebase:void 0,tt=null==pe?void 0:pe.sign_in_provider;return{claims:Q,token:S,authTime:Mr(qt(Q.auth_time)),issuedAtTime:Mr(qt(Q.iat)),expirationTime:Mr(qt(Q.exp)),signInProvider:tt||null,signInSecondFactor:(null==pe?void 0:pe.sign_in_second_factor)||null}})).apply(this,arguments)}function qt(D){return 1e3*Number(D)}function tn(D){const[m,v,S]=D.split(".");if(void 0===m||void 0===v||void 0===S)return Dt("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,ie.tV)(v);return Q?JSON.parse(Q):(Dt("Failed to decode base64 JWT payload"),null)}catch(Q){return Dt("Caught error parsing JWT payload as JSON",Q),null}}function Or(D,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,_.Z)(function*(D,m,v=!1){if(v)return m;try{return yield m}catch(S){throw S instanceof ie.ZR&&Pn(S)&&D.auth.currentUser===D&&(yield D.auth.signOut()),S}})).apply(this,arguments)}function Pn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Wr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,_.Z)(function*(){yield v.iteration()}),S)}iteration(){var m=this;return(0,_.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class Qr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mr(this.lastLoginAt),this.creationTime=Mr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kr(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,_.Z)(function*(D){var m;const v=D.auth,S=yield D.getIdToken(),Q=yield Or(D,Ur(v,{idToken:S}));ge(null==Q?void 0:Q.users.length,v,"internal-error");const pe=Q.users[0];D._notifyReloadListener(pe);const tt=(null===(m=pe.providerUserInfo)||void 0===m?void 0:m.length)?we(pe.providerUserInfo):[],xt=dn(D.providerData,tt),ur=!!D.isAnonymous&&!(D.email&&pe.passwordHash||(null==xt?void 0:xt.length)),sr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:xt,metadata:new Qr(pe.createdAt,pe.lastLoginAt),isAnonymous:ur};Object.assign(D,sr)})).apply(this,arguments)}function Jn(){return(Jn=(0,_.Z)(function*(D){const m=(0,ie.m9)(D);yield kr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function dn(D,m){return[...D.filter(S=>!m.some(Q=>Q.providerId===S.providerId)),...m]}function we(D){return D.map(m=>{var{providerId:v}=m,S=(0,de._T)(m,["providerId"]);return{providerId:v,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function _e(){return(_e=(0,_.Z)(function*(D,m){const v=yield Un(D,{},(0,_.Z)(function*(){const S=(0,ie.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Q,apiKey:pe}=D.config,tt=br(D,Q,"/v1/token",`key=${pe}`),xt=yield D._getAdditionalHeaders();return xt["Content-Type"]="application/x-www-form-urlencoded",dr.fetch()(tt,{method:"POST",headers:xt,body:S})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class it{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ge(m.idToken,"internal-error"),ge(void 0!==m.idToken,"internal-error"),ge(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function an(D){const m=tn(D);return ge(m,"internal-error"),ge(void 0!==m.exp,"internal-error"),ge(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var S=this;return(0,_.Z)(function*(){return ge(!S.accessToken||S.refreshToken,m,"user-token-expired"),v||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var S=this;return(0,_.Z)(function*(){const{accessToken:Q,refreshToken:pe,expiresIn:tt}=yield function te(D,m){return _e.apply(this,arguments)}(m,v);S.updateTokensAndExpiration(Q,pe,Number(tt))})()}updateTokensAndExpiration(m,v,S){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,v){const{refreshToken:S,accessToken:Q,expirationTime:pe}=v,tt=new it;return S&&(ge("string"==typeof S,"internal-error",{appName:m}),tt.refreshToken=S),Q&&(ge("string"==typeof Q,"internal-error",{appName:m}),tt.accessToken=Q),pe&&(ge("number"==typeof pe,"internal-error",{appName:m}),tt.expirationTime=pe),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new it,this.toJSON())}_performRefresh(){return Xt("not implemented")}}function St(D,m){ge("string"==typeof D||void 0===D,"internal-error",{appName:m})}class Te{constructor(m){var{uid:v,auth:S,stsTokenManager:Q}=m,pe=(0,de._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=S,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new Qr(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,_.Z)(function*(){const S=yield Or(v,v.stsTokenManager.getToken(v.auth,m));return ge(S,v.auth,"internal-error"),v.accessToken!==S&&(v.accessToken=S,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),S})()}getIdTokenResult(m){return function xr(D){return er.apply(this,arguments)}(this,m)}reload(){return function Gr(D){return Jn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ge(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Te(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var S=this;return(0,_.Z)(function*(){let Q=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),Q=!0),v&&(yield kr(S)),yield S.auth._persistUserIfCurrent(S),Q&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,_.Z)(function*(){const v=yield m.getIdToken();return yield Or(m,function Ft(D,m){return $n.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var S,Q,pe,tt,xt,yn,Vn,ur;const sr=null!==(S=v.displayName)&&void 0!==S?S:void 0,ms=null!==(Q=v.email)&&void 0!==Q?Q:void 0,Vo=null!==(pe=v.phoneNumber)&&void 0!==pe?pe:void 0,ac=null!==(tt=v.photoURL)&&void 0!==tt?tt:void 0,Du=null!==(xt=v.tenantId)&&void 0!==xt?xt:void 0,Vc=null!==(yn=v._redirectEventId)&&void 0!==yn?yn:void 0,id=null!==(Vn=v.createdAt)&&void 0!==Vn?Vn:void 0,zh=null!==(ur=v.lastLoginAt)&&void 0!==ur?ur:void 0,{uid:At,emailVerified:lc,isAnonymous:pa,providerData:Wd,stsTokenManager:Fl}=v;ge(At&&Fl,m,"internal-error");const Vl=it.fromJSON(this.name,Fl);ge("string"==typeof At,m,"internal-error"),St(sr,m.name),St(ms,m.name),ge("boolean"==typeof lc,m,"internal-error"),ge("boolean"==typeof pa,m,"internal-error"),St(Vo,m.name),St(ac,m.name),St(Du,m.name),St(Vc,m.name),St(id,m.name),St(zh,m.name);const Gd=new Te({uid:At,auth:m,email:ms,emailVerified:lc,displayName:sr,isAnonymous:pa,photoURL:ac,phoneNumber:Vo,tenantId:Du,stsTokenManager:Vl,createdAt:id,lastLoginAt:zh});return Wd&&Array.isArray(Wd)&&(Gd.providerData=Wd.map(cc=>Object.assign({},cc))),Vc&&(Gd._redirectEventId=Vc),Gd}static _fromIdTokenResponse(m,v,S=!1){return(0,_.Z)(function*(){const Q=new it;Q.updateFromServerResponse(v);const pe=new Te({uid:v.localId,auth:m,stsTokenManager:Q,isAnonymous:S});return yield kr(pe),pe})()}}const Fe=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(v,S){var Q=this;return(0,_.Z)(function*(){Q.storage[v]=S})()}_get(v){var S=this;return(0,_.Z)(function*(){const Q=S.storage[v];return void 0===Q?null:Q})()}_remove(v){var S=this;return(0,_.Z)(function*(){delete S.storage[v]})()}_addListener(v,S){}_removeListener(v,S){}}return D.type="NONE",D})();function ft(D,m,v){return`firebase:${D}:${m}:${v}`}class rt{constructor(m,v,S){this.persistence=m,this.auth=v,this.userKey=S;const{config:Q,name:pe}=this.auth;this.fullUserKey=ft(this.userKey,Q.apiKey,pe),this.fullPersistenceKey=ft("persistence",Q.apiKey,pe),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,_.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?Te._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,_.Z)(function*(){if(v.persistence===m)return;const S=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,S?v.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,S="authUser"){return(0,_.Z)(function*(){if(!v.length)return new rt(et(Fe),m,S);const Q=(yield Promise.all(v.map(function(){var Vn=(0,_.Z)(function*(ur){if(yield ur._isAvailable())return ur});return function(ur){return Vn.apply(this,arguments)}}()))).filter(Vn=>Vn);let pe=Q[0]||et(Fe);const tt=ft(S,m.config.apiKey,m.name);let xt=null;for(const Vn of v)try{const ur=yield Vn._get(tt);if(ur){const sr=Te._fromJSON(m,ur);Vn!==pe&&(xt=sr),pe=Vn;break}}catch(ur){}const yn=Q.filter(Vn=>Vn._shouldAllowMigration);return pe._shouldAllowMigration&&yn.length?(pe=yn[0],xt&&(yield pe._set(tt,xt.toJSON())),yield Promise.all(v.map(function(){var Vn=(0,_.Z)(function*(ur){if(ur!==pe)try{yield ur._remove(tt)}catch(sr){}});return function(ur){return Vn.apply(this,arguments)}}())),new rt(pe,m,S)):new rt(pe,m,S)})()}}function Zt(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(tr(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(vn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(On(m))return"Blackberry";if(cr(m))return"Webos";if(bn(m))return"Safari";if((m.includes("chrome/")||Rn(m))&&!m.includes("edge/"))return"Chrome";if(yr(m))return"Android";{const S=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function vn(D=(0,ie.z$)()){return/firefox\//i.test(D)}function bn(D=(0,ie.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Rn(D=(0,ie.z$)()){return/crios\//i.test(D)}function tr(D=(0,ie.z$)()){return/iemobile/i.test(D)}function yr(D=(0,ie.z$)()){return/android/i.test(D)}function On(D=(0,ie.z$)()){return/blackberry/i.test(D)}function cr(D=(0,ie.z$)()){return/webos/i.test(D)}function si(D=(0,ie.z$)()){return/iphone|ipad|ipod/i.test(D)}function ni(D=(0,ie.z$)()){return si(D)||yr(D)||cr(D)||On(D)||/windows phone/i.test(D)||tr(D)}function Pi(D,m=[]){let v;switch(D){case"Browser":v=Zt((0,ie.z$)());break;case"Worker":v=`${Zt((0,ie.z$)())}-${D}`;break;default:v=D}const S=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${Se.SDK_VERSION}/${S}`}class Nn{constructor(m,v,S){this.app=m,this.heartbeatServiceProvider=v,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jn(this),this.idTokenSubscription=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(m,v){var S=this;return v&&(this._popupRedirectResolver=et(v)),this._initializationPromise=this.queue((0,_.Z)(function*(){var Q,pe;if(!S._deleted&&(S.persistenceManager=yield rt.create(S,m),!S._deleted)){if(null===(Q=S._popupRedirectResolver)||void 0===Q?void 0:Q._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(tt){}yield S.initializeCurrentUser(v),S.lastNotifiedUid=(null===(pe=S.currentUser)||void 0===pe?void 0:pe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,_.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,_.Z)(function*(){var S;let Q=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const pe=null===(S=v.redirectUser)||void 0===S?void 0:S._redirectEventId,tt=null==Q?void 0:Q._redirectEventId,xt=yield v.tryRedirectSignIn(m);(!pe||pe===tt)&&(null==xt?void 0:xt.user)&&(Q=xt.user)}return Q?Q._redirectEventId?(ge(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===Q._redirectEventId?v.directlySetCurrentUser(Q):v.reloadAndSetCurrentUserOrClear(Q)):v.reloadAndSetCurrentUserOrClear(Q):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,_.Z)(function*(){let S=null;try{S=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch(Q){yield v._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,_.Z)(function*(){try{yield kr(m)}catch(S){if("auth/network-request-failed"!==S.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Bt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,_.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,_.Z)(function*(){const S=m?(0,ie.m9)(m):null;return S&&ge(S.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(S&&S._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,_.Z)(function*(){if(!v._deleted)return m&&ge(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,_.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,_.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,_.Z)(function*(){yield v.assertedPersistence.setPersistence(et(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new ie.LL("auth","Firebase",m())}onAuthStateChanged(m,v,S){return this.registerStateListener(this.authStateSubscription,m,v,S)}onIdTokenChanged(m,v,S){return this.registerStateListener(this.idTokenSubscription,m,v,S)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var S=this;return(0,_.Z)(function*(){const Q=yield S.getOrInitRedirectPersistenceManager(v);return null===m?Q.removeCurrentUser():Q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,_.Z)(function*(){if(!v.redirectPersistenceManager){const S=m&&et(m)||v._popupRedirectResolver;ge(S,v,"argument-error"),v.redirectPersistenceManager=yield rt.create(v,[et(S._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,_.Z)(function*(){var S,Q;return v._isInitialized&&(yield v.queue((0,_.Z)(function*(){}))),(null===(S=v._currentUser)||void 0===S?void 0:S._redirectEventId)===m?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,_.Z)(function*(){if(m===v.currentUser)return v.queue((0,_.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,S,Q){if(this._deleted)return()=>{};const pe="function"==typeof v?v:v.next.bind(v),tt=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(tt,this,"internal-error"),tt.then(()=>pe(this.currentUser)),"function"==typeof v?m.addObserver(v,S,Q):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,_.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,_.Z)(function*(){var v;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const Q=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return Q&&(S["X-Firebase-Client"]=Q),S})()}}function Vt(D){return(0,ie.m9)(D)}class jn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,ie.ne)(v=>this.observer=v)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function Hr(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class fr{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Xt("not implemented")}_getIdTokenResponse(m){return Xt("not implemented")}_linkToIdToken(m,v){return Xt("not implemented")}_getReauthenticationResolver(m){return Xt("not implemented")}}function Nr(D,m){return qr.apply(this,arguments)}function qr(){return(qr=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:resetPassword",Gt(D,m))})).apply(this,arguments)}function Zn(D,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Vi(D,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:update",Gt(D,m))})).apply(this,arguments)}function Zr(){return(Zr=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithPassword",Gt(D,m))})).apply(this,arguments)}function Sn(D,m){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:sendOobCode",Gt(D,m))})).apply(this,arguments)}function vt(D,m){return qe.apply(this,arguments)}function qe(){return(qe=(0,_.Z)(function*(D,m){return Sn(D,m)})).apply(this,arguments)}function _t(D,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,_.Z)(function*(D,m){return Sn(D,m)})).apply(this,arguments)}function $t(D,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,_.Z)(function*(D,m){return Sn(D,m)})).apply(this,arguments)}function Pe(D,m){return xe.apply(this,arguments)}function xe(){return(xe=(0,_.Z)(function*(D,m){return Sn(D,m)})).apply(this,arguments)}function ze(){return(ze=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithEmailLink",Gt(D,m))})).apply(this,arguments)}function In(){return(In=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithEmailLink",Gt(D,m))})).apply(this,arguments)}class nr extends fr{constructor(m,v,S,Q=null){super("password",S),this._email=m,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(m,v){return new nr(m,v,"password")}static _fromEmailAndCode(m,v,S=null){return new nr(m,v,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,_.Z)(function*(){switch(v.signInMethod){case"password":return function bi(D,m){return Zr.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ye(D,m){return ze.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:ct(m,"internal-error")}})()}_linkToIdToken(m,v){var S=this;return(0,_.Z)(function*(){switch(S.signInMethod){case"password":return Zn(m,{idToken:v,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function It(D,m){return In.apply(this,arguments)}(m,{idToken:v,email:S._email,oobCode:S._password});default:ct(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function ar(D,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithIdp",Gt(D,m))})).apply(this,arguments)}class Qe extends fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Qe(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):ct("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:Q}=v,pe=(0,de._T)(v,["providerId","signInMethod"]);if(!S||!Q)return null;const tt=new Qe(S,Q);return tt.idToken=pe.idToken||void 0,tt.accessToken=pe.accessToken||void 0,tt.secret=pe.secret,tt.nonce=pe.nonce,tt.pendingToken=pe.pendingToken||null,tt}_getIdTokenResponse(m){return ar(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,ar(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,ar(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,ie.xO)(v)}return m}}function We(D,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:sendVerificationCode",Gt(D,m))})).apply(this,arguments)}function Kt(){return(Kt=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithPhoneNumber",Gt(D,m))})).apply(this,arguments)}function Yn(){return(Yn=(0,_.Z)(function*(D,m){const v=yield vr(D,"POST","/v1/accounts:signInWithPhoneNumber",Gt(D,m));if(v.temporaryProof)throw Br(D,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const li={USER_NOT_FOUND:"user-not-found"};function pi(){return(pi=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithPhoneNumber",Gt(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),li)})).apply(this,arguments)}class Ui extends fr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Ui({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Ui({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function kt(D,m){return Kt.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function pn(D,m){return Yn.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function wr(D,m){return pi.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:S,verificationCode:Q}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:S,code:Q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:pe}=m;return S||v||Q||pe?new Ui({verificationId:v,verificationCode:S,phoneNumber:Q,temporaryProof:pe}):null}}class ys{constructor(m){var v,S,Q,pe,tt,xt;const yn=(0,ie.zd)((0,ie.pd)(m)),Vn=null!==(v=yn.apiKey)&&void 0!==v?v:null,ur=null!==(S=yn.oobCode)&&void 0!==S?S:null,sr=function Ri(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=yn.mode)&&void 0!==Q?Q:null);ge(Vn&&ur&&sr,"argument-error"),this.apiKey=Vn,this.operation=sr,this.code=ur,this.continueUrl=null!==(pe=yn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(tt=yn.languageCode)&&void 0!==tt?tt:null,this.tenantId=null!==(xt=yn.tenantId)&&void 0!==xt?xt:null}static parseLink(m){const v=function so(D){const m=(0,ie.zd)((0,ie.pd)(D)).link,v=m?(0,ie.zd)((0,ie.pd)(m)).deep_link_id:null,S=(0,ie.zd)((0,ie.pd)(D)).deep_link_id;return(S?(0,ie.zd)((0,ie.pd)(S)).link:null)||S||v||m||D}(m);try{return new ys(v)}catch(S){return null}}}let oo=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(v,S){return nr._fromEmailAndPassword(v,S)}static credentialWithLink(v,S){const Q=ys.parseLink(S);return ge(Q,"argument-error"),nr._fromEmailAndCode(v,Q.code,Q.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Gi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ki extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Os extends ki{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return ge("providerId"in v&&"signInMethod"in v,"argument-error"),Qe._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ge(m.idToken||m.accessToken,"argument-error"),Qe._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Os.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Os.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:S,oauthTokenSecret:Q,pendingToken:pe,nonce:tt,providerId:xt}=m;if(!S&&!Q&&!v&&!pe||!xt)return null;try{return new Os(xt)._credential({idToken:v,accessToken:S,nonce:tt,pendingToken:pe})}catch(yn){return null}}}let Ni=(()=>{class D extends ki{constructor(){super("facebook.com")}static credential(v){return Qe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch(S){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Ki=(()=>{class D extends ki{constructor(){super("google.com"),this.addScope("profile")}static credential(v,S){return Qe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:S})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:S,oauthAccessToken:Q}=v;if(!S&&!Q)return null;try{return D.credential(S,Q)}catch(pe){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ao=(()=>{class D extends ki{constructor(){super("github.com")}static credential(v){return Qe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch(S){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Es extends fr{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return ar(m,this.buildRequest())}_linkToIdToken(m,v){const S=this.buildRequest();return S.idToken=v,ar(m,S)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,ar(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:Q,pendingToken:pe}=v;return S&&Q&&pe&&S===Q?new Es(S,pe):null}static _create(m,v){return new Es(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends Gi{constructor(m){ge(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ar.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ar.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Es.fromJSON(m);return ge(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:S}=m;if(!v||!S)return null;try{return Es._create(S,v)}catch(Q){return null}}}let lo=(()=>{class D extends ki{constructor(){super("twitter.com")}static credential(v,S){return Qe._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:S})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:S,oauthTokenSecret:Q}=v;if(!S||!Q)return null;try{return D.credential(S,Q)}catch(pe){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function wo(D,m){return ds.apply(this,arguments)}function ds(){return(ds=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signUp",Gt(D,m))})).apply(this,arguments)}class ri{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,S,Q=!1){return(0,_.Z)(function*(){const pe=yield Te._fromIdTokenResponse(m,S,Q),tt=hs(S);return new ri({user:pe,providerId:tt,_tokenResponse:S,operationType:v})})()}static _forOperation(m,v,S){return(0,_.Z)(function*(){yield m._updateTokensIfNecessary(S,!0);const Q=hs(S);return new ri({user:m,providerId:Q,_tokenResponse:S,operationType:v})})()}}function hs(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Ys(){return(Ys=(0,_.Z)(function*(D){var m;const v=Vt(D);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new ri({user:v.currentUser,providerId:null,operationType:"signIn"});const S=yield wo(v,{returnSecureToken:!0}),Q=yield ri._fromIdTokenResponse(v,"signIn",S,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Eo extends ie.ZR{constructor(m,v,S,Q){var pe;super(v.code,v.message),this.operationType=S,this.user=Q,Object.setPrototypeOf(this,Eo.prototype),this.customData={appName:m.name,tenantId:null!==(pe=m.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:v.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,v,S,Q){return new Eo(m,v,S,Q)}}function Do(D,m,v,S){return("reauthenticate"===m?v._getReauthenticationResolver(D):v._getIdTokenResponse(D)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?Eo._fromErrorAndOperation(D,pe,m,S):pe})}function Hi(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function Qs(){return(Qs=(0,_.Z)(function*(D,m){const v=(0,ie.m9)(D);yield se(!0,v,m);const{providerUserInfo:S}=yield lr(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),Q=Hi(S||[]);return v.providerData=v.providerData.filter(pe=>Q.has(pe.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Ir(D,m){return $.apply(this,arguments)}function $(){return($=(0,_.Z)(function*(D,m,v=!1){const S=yield Or(D,m._linkToIdToken(D.auth,yield D.getIdToken()),v);return ri._forOperation(D,"link",S)})).apply(this,arguments)}function se(D,m,v){return H.apply(this,arguments)}function H(){return(H=(0,_.Z)(function*(D,m,v){yield kr(m);const Q=!1===D?"provider-already-linked":"no-such-provider";ge(Hi(m.providerData).has(v)===D,m.auth,Q)})).apply(this,arguments)}function ue(D,m){return Be.apply(this,arguments)}function Be(){return(Be=(0,_.Z)(function*(D,m,v=!1){const{auth:S}=D,Q="reauthenticate";try{const pe=yield Or(D,Do(S,Q,m,D),v);ge(pe.idToken,S,"internal-error");const tt=tn(pe.idToken);ge(tt,S,"internal-error");const{sub:xt}=tt;return ge(D.uid===xt,S,"user-mismatch"),ri._forOperation(D,Q,pe)}catch(pe){throw"auth/user-not-found"===(null==pe?void 0:pe.code)&&ct(S,"user-mismatch"),pe}})).apply(this,arguments)}function wt(D,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,_.Z)(function*(D,m,v=!1){const S="signIn",Q=yield Do(D,S,m),pe=yield ri._fromIdTokenResponse(D,S,Q);return v||(yield D._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function un(D,m){return $r.apply(this,arguments)}function $r(){return($r=(0,_.Z)(function*(D,m){return wt(Vt(D),m)})).apply(this,arguments)}function Pr(D,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,_.Z)(function*(D,m){const v=(0,ie.m9)(D);return yield se(!1,v,m.providerId),Ir(v,m)})).apply(this,arguments)}function gr(D,m){return oi.apply(this,arguments)}function oi(){return(oi=(0,_.Z)(function*(D,m){return ue((0,ie.m9)(D),m)})).apply(this,arguments)}function Jr(D,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,_.Z)(function*(D,m){return vr(D,"POST","/v1/accounts:signInWithCustomToken",Gt(D,m))})).apply(this,arguments)}function is(){return(is=(0,_.Z)(function*(D,m){const v=Vt(D),S=yield Jr(v,{token:m,returnSecureToken:!0}),Q=yield ri._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class zn{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?Cs._fromServerResponse(m,v):ct(m,"internal-error")}}class Cs extends zn{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new Cs(v)}}function Is(D,m,v){var S;ge((null===(S=v.url)||void 0===S?void 0:S.length)>0,D,"invalid-continue-uri"),ge(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ge(v.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(ge(v.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function co(){return(co=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D),Q={requestType:"PASSWORD_RESET",email:m};v&&Is(S,Q,v),yield _t(S,Q)})).apply(this,arguments)}function U(){return(U=(0,_.Z)(function*(D,m,v){yield Nr((0,ie.m9)(D),{oobCode:m,newPassword:v})})).apply(this,arguments)}function Y(){return(Y=(0,_.Z)(function*(D,m){yield Vi((0,ie.m9)(D),{oobCode:m})})).apply(this,arguments)}function Je(D,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,_.Z)(function*(D,m){const v=(0,ie.m9)(D),S=yield Nr(v,{oobCode:m}),Q=S.requestType;switch(ge(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(S.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(S.mfaInfo,v,"internal-error");default:ge(S.email,v,"internal-error")}let pe=null;return S.mfaInfo&&(pe=zn._fromServerResponse(Vt(v),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:pe},operation:Q}})).apply(this,arguments)}function xi(){return(xi=(0,_.Z)(function*(D,m){const{data:v}=yield Je((0,ie.m9)(D),m);return v.email})).apply(this,arguments)}function qi(){return(qi=(0,_.Z)(function*(D,m,v){const S=Vt(D),Q=yield wo(S,{returnSecureToken:!0,email:m,password:v}),pe=yield ri._fromIdTokenResponse(S,"signIn",Q);return yield S._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function _a(){return(_a=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D),Q={requestType:"EMAIL_SIGNIN",email:m};ge(v.handleCodeInApp,S,"argument-error"),v&&Is(S,Q,v),yield $t(S,Q)})).apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D),Q=oo.credentialWithLink(m,v||Mt());return ge(Q._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),un(S,Q)})).apply(this,arguments)}function fs(D,m){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:createAuthUri",Gt(D,m))})).apply(this,arguments)}function Xs(){return(Xs=(0,_.Z)(function*(D,m){const S={identifier:m,continueUri:Pt()?Mt():"http://localhost"},{signinMethods:Q}=yield fs((0,ie.m9)(D),S);return Q||[]})).apply(this,arguments)}function ta(){return(ta=(0,_.Z)(function*(D,m){const v=(0,ie.m9)(D),Q={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&Is(v.auth,Q,m);const{email:pe}=yield vt(v.auth,Q);pe!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ho(){return(Ho=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};v&&Is(S.auth,pe,v);const{email:tt}=yield Pe(S.auth,pe);tt!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ea(D,m){return $o.apply(this,arguments)}function $o(){return($o=(0,_.Z)(function*(D,m){return kn(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function na(){return(na=(0,_.Z)(function*(D,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const S=(0,ie.m9)(D),pe={idToken:yield S.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},tt=yield Or(S,Ea(S.auth,pe));S.displayName=tt.displayName||null,S.photoURL=tt.photoUrl||null;const xt=S.providerData.find(({providerId:yn})=>"password"===yn);xt&&(xt.displayName=S.displayName,xt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(tt)})).apply(this,arguments)}function zo(D,m,v){return uo.apply(this,arguments)}function uo(){return(uo=(0,_.Z)(function*(D,m,v){const{auth:S}=D,pe={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(pe.email=m),v&&(pe.password=v);const tt=yield Or(D,Zn(S,pe));yield D._updateTokensIfNecessary(tt,!0)})).apply(this,arguments)}class ho{constructor(m,v,S={}){this.isNewUser=m,this.providerId=v,this.profile=S}}class Ca extends ho{constructor(m,v,S,Q){super(m,v,S),this.username=Q}}class qa extends ho{constructor(m,v){super(m,"facebook.com",v)}}class Wo extends Ca{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class fo extends ho{constructor(m,v){super(m,"google.com",v)}}class Za extends Ca{constructor(m,v,S){super(m,"twitter.com",v,S)}}function es(D){const{user:m,_tokenResponse:v}=D;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Da(D){var m,v;if(!D)return null;const{providerId:S}=D,Q=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},pe=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!S&&(null==D?void 0:D.idToken)){const tt=null===(v=null===(m=tn(D.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(tt)return new ho(pe,"anonymous"!==tt&&"custom"!==tt?tt:null)}if(!S)return null;switch(S){case"facebook.com":return new qa(pe,Q);case"github.com":return new Wo(pe,Q);case"google.com":return new fo(pe,Q);case"twitter.com":return new Za(pe,Q,D.screenName||null);case"custom":case"anonymous":return new ho(pe,null);default:return new ho(pe,S,Q)}}(v)}class Hs{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new Hs("enroll",m)}static _fromMfaPendingCredential(m){return new Hs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,S;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Hs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(S=m.multiFactorSession)||void 0===S?void 0:S.idToken)return Hs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class No{constructor(m,v,S){this.session=m,this.hints=v,this.signInResolver=S}static _fromError(m,v){const S=Vt(m),Q=v.customData._serverResponse,pe=(Q.mfaInfo||[]).map(xt=>zn._fromServerResponse(S,xt));ge(Q.mfaPendingCredential,S,"internal-error");const tt=Hs._fromMfaPendingCredential(Q.mfaPendingCredential);return new No(tt,pe,function(){var xt=(0,_.Z)(function*(yn){const Vn=yield yn._process(S,tt);delete Q.mfaInfo,delete Q.mfaPendingCredential;const ur=Object.assign(Object.assign({},Q),{idToken:Vn.idToken,refreshToken:Vn.refreshToken});switch(v.operationType){case"signIn":const sr=yield ri._fromIdTokenResponse(S,v.operationType,ur);return yield S._updateCurrentUser(sr.user),sr;case"reauthenticate":return ge(v.user,S,"internal-error"),ri._forOperation(v.user,v.operationType,ur);default:ct(S,"internal-error")}});return function(yn){return xt.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,_.Z)(function*(){return v.signInResolver(m)})()}}function Ai(D,m){return kn(D,"POST","/v2/accounts/mfaEnrollment:start",Gt(D,m))}class Ps{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(S=>zn._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new Ps(m)}getSession(){var m=this;return(0,_.Z)(function*(){return Hs._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var S=this;return(0,_.Z)(function*(){const Q=m,pe=yield S.getSession(),tt=yield Or(S.user,Q._process(S.user.auth,pe,v));return yield S.user._updateTokensIfNecessary(tt),S.user.reload()})()}unenroll(m){var v=this;return(0,_.Z)(function*(){const S="string"==typeof m?m:m.uid,Q=yield v.user.getIdToken(),pe=yield Or(v.user,function Qa(D,m){return kn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(D,m))}(v.user.auth,{idToken:Q,mfaEnrollmentId:S}));v.enrolledFactors=v.enrolledFactors.filter(({uid:tt})=>tt!==S),yield v.user._updateTokensIfNecessary(pe);try{yield v.user.reload()}catch(tt){if("auth/user-token-expired"!==tt.code)throw tt}})()}}const ps=new WeakMap,gi="__sak";class ss{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(gi,"1"),this.storage.removeItem(gi),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vr=(()=>{class D extends ss{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,S)=>this.onStorageEvent(v,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Io(){const D=(0,ie.z$)();return bn(D)||si(D)}()&&function Fr(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=ni(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const S of Object.keys(this.listeners)){const Q=this.storage.getItem(S),pe=this.localCache[S];Q!==pe&&v(S,pe,Q)}}onStorageEvent(v,S=!1){if(!v.key)return void this.forAllChangedKeys((xt,yn,Vn)=>{this.notifyListeners(xt,Vn)});const Q=v.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xt=this.storage.getItem(Q);if(v.newValue!==xt)null!==v.newValue?this.storage.setItem(Q,v.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===v.newValue&&!S)return}const pe=()=>{const xt=this.storage.getItem(Q);!S&&this.localCache[Q]===xt||this.notifyListeners(Q,xt)},tt=this.storage.getItem(Q);!function ai(){return(0,ie.w1)()&&10===document.documentMode}()||tt===v.newValue||v.newValue===v.oldValue?pe():setTimeout(pe,10)}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const pe of Array.from(Q))pe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,S,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:S,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,S){var Q=()=>super._set,pe=this;return(0,_.Z)(function*(){yield Q().call(pe,v,S),pe.localCache[v]=JSON.stringify(S)})()}_get(v){var S=()=>super._get,Q=this;return(0,_.Z)(function*(){const pe=yield S().call(Q,v);return Q.localCache[v]=JSON.stringify(pe),pe})()}_remove(v){var S=()=>super._remove,Q=this;return(0,_.Z)(function*(){yield S().call(Q,v),delete Q.localCache[v]})()}}return D.type="LOCAL",D})(),To=(()=>{class D extends ss{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,S){}_removeListener(v,S){}}return D.type="SESSION",D})();let M=(()=>{class D{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const S=this.receivers.find(pe=>pe.isListeningto(v));if(S)return S;const Q=new D(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var S=this;return(0,_.Z)(function*(){const Q=v,{eventId:pe,eventType:tt,data:xt}=Q.data,yn=S.handlersMap[tt];if(!(null==yn?void 0:yn.size))return;Q.ports[0].postMessage({status:"ack",eventId:pe,eventType:tt});const Vn=Array.from(yn).map(function(){var sr=(0,_.Z)(function*(ms){return ms(Q.origin,xt)});return function(ms){return sr.apply(this,arguments)}}()),ur=yield function _n(D){return Promise.all(D.map(function(){var m=(0,_.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(S){return{fulfilled:!1,reason:S}}});return function(v){return m.apply(this,arguments)}}()))}(Vn);Q.ports[0].postMessage({status:"done",eventId:pe,eventType:tt,response:ur})})()}_subscribe(v,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(S)}_unsubscribe(v,S){this.handlersMap[v]&&S&&this.handlersMap[v].delete(S),(!S||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function k(D="",m=10){let v="";for(let S=0;S<m;S++)v+=Math.floor(10*Math.random());return D+v}class q{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,S=50){var Q=this;return(0,_.Z)(function*(){const pe="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let tt,xt;return new Promise((yn,Vn)=>{const ur=k("",20);pe.port1.start();const sr=setTimeout(()=>{Vn(new Error("unsupported_event"))},S);xt={messageChannel:pe,onMessage(ms){const Vo=ms;if(Vo.data.eventId===ur)switch(Vo.data.status){case"ack":clearTimeout(sr),tt=setTimeout(()=>{Vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),yn(Vo.data.response);break;default:clearTimeout(sr),clearTimeout(tt),Vn(new Error("invalid_response"))}}},Q.handlers.add(xt),pe.port1.addEventListener("message",xt.onMessage),Q.target.postMessage({eventType:m,eventId:ur,data:v},[pe.port2])}).finally(()=>{xt&&Q.removeMessageHandler(xt)})})()}}function re(){return window}function ln(){return void 0!==re().WorkerGlobalScope&&"function"==typeof re().importScripts}function Si(){return(Si=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const La="firebaseLocalStorageDb",Ta="firebaseLocalStorage",Fa="fbase_key";class Ko{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function bs(D,m){return D.transaction([Ta],m?"readwrite":"readonly").objectStore(Ta)}function R(){const D=indexedDB.open(La,1);return new Promise((m,v)=>{D.addEventListener("error",()=>{v(D.error)}),D.addEventListener("upgradeneeded",()=>{const S=D.result;try{S.createObjectStore(Ta,{keyPath:Fa})}catch(Q){v(Q)}}),D.addEventListener("success",(0,_.Z)(function*(){const S=D.result;S.objectStoreNames.contains(Ta)?m(S):(S.close(),yield function xs(){const D=indexedDB.deleteDatabase(La);return new Ko(D).toPromise()}(),m(yield R()))}))})}function A(D,m,v){return x.apply(this,arguments)}function x(){return(x=(0,_.Z)(function*(D,m,v){const S=bs(D,!0).put({[Fa]:m,value:v});return new Ko(S).toPromise()})).apply(this,arguments)}function K(){return(K=(0,_.Z)(function*(D,m){const v=bs(D,!1).get(m),S=yield new Ko(v).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function ne(D,m){const v=bs(D,!0).delete(m);return new Ko(v).toPromise()}const hn=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,_.Z)(function*(){return v.db||(v.db=yield R()),v.db})()}_withRetries(v){var S=this;return(0,_.Z)(function*(){let Q=0;for(;;)try{const pe=yield S._openDb();return yield v(pe)}catch(pe){if(Q++>3)throw pe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,_.Z)(function*(){return ln()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,_.Z)(function*(){v.receiver=M._getInstance(function oa(){return ln()?self:null}()),v.receiver._subscribe("keyChanged",function(){var S=(0,_.Z)(function*(Q,pe){return{keyProcessed:(yield v._poll()).includes(pe.key)}});return function(Q,pe){return S.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var S=(0,_.Z)(function*(Q,pe){return["keyChanged"]});return function(Q,pe){return S.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,_.Z)(function*(){var S,Q;if(v.activeServiceWorker=yield function wi(){return Si.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new q(v.activeServiceWorker);const pe=yield v.sender._send("ping",{},800);!pe||(null===(S=pe[0])||void 0===S?void 0:S.fulfilled)&&(null===(Q=pe[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var S=this;return(0,_.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function vs(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:v},S.serviceWorkerReceiverAvailable?800:50)}catch(Q){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const v=yield R();return yield A(v,gi,"1"),yield ne(v,gi),!0}catch(v){}return!1})()}_withPendingWrite(v){var S=this;return(0,_.Z)(function*(){S.pendingWrites++;try{yield v()}finally{S.pendingWrites--}})()}_set(v,S){var Q=this;return(0,_.Z)(function*(){return Q._withPendingWrite((0,_.Z)(function*(){return yield Q._withRetries(pe=>A(pe,v,S)),Q.localCache[v]=S,Q.notifyServiceWorker(v)}))})()}_get(v){var S=this;return(0,_.Z)(function*(){const Q=yield S._withRetries(pe=>function j(D,m){return K.apply(this,arguments)}(pe,v));return S.localCache[v]=Q,Q})()}_remove(v){var S=this;return(0,_.Z)(function*(){return S._withPendingWrite((0,_.Z)(function*(){return yield S._withRetries(Q=>ne(Q,v)),delete S.localCache[v],S.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,_.Z)(function*(){const S=yield v._withRetries(tt=>{const xt=bs(tt,!1).getAll();return new Ko(xt).toPromise()});if(!S)return[];if(0!==v.pendingWrites)return[];const Q=[],pe=new Set;for(const{fbase_key:tt,value:xt}of S)pe.add(tt),JSON.stringify(v.localCache[tt])!==JSON.stringify(xt)&&(v.notifyListeners(tt,xt),Q.push(tt));for(const tt of Object.keys(v.localCache))v.localCache[tt]&&!pe.has(tt)&&(v.notifyListeners(tt,null),Q.push(tt));return Q})()}notifyListeners(v,S){this.localCache[v]=S;const Q=this.listeners[v];if(Q)for(const pe of Array.from(Q))pe(S)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(S)}_removeListener(v,S){this.listeners[v]&&(this.listeners[v].delete(S),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Cn(D,m){return kn(D,"POST","/v2/accounts/mfaSignIn:start",Gt(D,m))}function Er(){return(Er=(0,_.Z)(function*(D){return(yield kn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ci(D){return new Promise((m,v)=>{const S=document.createElement("script");S.setAttribute("src",D),S.onload=m,S.onerror=Q=>{const pe=$e("internal-error");pe.customData=Q,v(pe)},S.type="text/javascript",S.charset="UTF-8",function $s(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(S)})}function qo(D){return`__${D}${Math.floor(1e6*Math.random())}`}const As=1e12;class su{constructor(m){this.auth=m,this.counter=As,this._widgets=new Map}render(m,v){const S=this.counter;return this._widgets.set(S,new Kl(m,this.auth.name,v||{})),this.counter++,S}reset(m){var v;const S=m||As;null===(v=this._widgets.get(S))||void 0===v||v.delete(),this._widgets.delete(S)}getResponse(m){var v;return(null===(v=this._widgets.get(m||As))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,_.Z)(function*(){var S;return null===(S=v._widgets.get(m||As))||void 0===S||S.execute(),""})()}}class Kl{constructor(m,v,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof m?document.getElementById(m):m;ge(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function aa(D){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<D;S++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Tc=qo("rcb"),Ja=new jt(3e4,6e4);class el{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!re().grecaptcha}load(m,v=""){return ge(function ou(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(v),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(re().grecaptcha):new Promise((S,Q)=>{const pe=re().setTimeout(()=>{Q($e(m,"network-request-failed"))},Ja.get());re()[Tc]=()=>{re().clearTimeout(pe),delete re()[Tc];const xt=re().grecaptcha;if(!xt)return void Q($e(m,"internal-error"));const yn=xt.render;xt.render=(Vn,ur)=>{const sr=yn(Vn,ur);return this.counter++,sr},this.hostLanguage=v,S(xt)},ci(`https://www.google.com/recaptcha/api.js??${(0,ie.xO)({onload:Tc,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(pe),Q($e(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!re().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mn{load(m){return(0,_.Z)(function*(){return new su(m)})()}clearedOneInstance(){}}const ks="recaptcha",au={theme:"light",type:"image"};class Al{constructor(m,v=Object.assign({},au),S){this.parameters=v,this.type=ks,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(S),this.isInvisible="invisible"===this.parameters.size,ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof m?document.getElementById(m):m;ge(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mn:new el,this.validateStartingState()}verify(){var m=this;return(0,_.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(v)||new Promise(pe=>{const tt=xt=>{!xt||(m.tokenChangeListeners.delete(tt),pe(xt))};m.tokenChangeListeners.add(tt),m.isInvisible&&S.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(S=>S(v)),"function"==typeof m)m(v);else if("string"==typeof m){const S=re()[m];"function"==typeof S&&S(v)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,_.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const S=document.createElement("div");v.appendChild(S),v=S}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,_.Z)(function*(){ge(Pt()&&!ln(),m.auth,"internal-error"),yield function Zo(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function _r(D){return Er.apply(this,arguments)}(m.auth);ge(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class la{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Ui._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function os(){return(os=(0,_.Z)(function*(D,m,v){const S=Vt(D),Q=yield Yi(S,m,(0,ie.m9)(v));return new la(Q,pe=>un(S,pe))})).apply(this,arguments)}function Ba(){return(Ba=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D);yield se(!1,S,"phone");const Q=yield Yi(S.auth,m,(0,ie.m9)(v));return new la(Q,pe=>Pr(S,pe))})).apply(this,arguments)}function gl(){return(gl=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D),Q=yield Yi(S.auth,m,(0,ie.m9)(v));return new la(Q,pe=>gr(S,pe))})).apply(this,arguments)}function Yi(D,m,v){return po.apply(this,arguments)}function po(){return(po=(0,_.Z)(function*(D,m,v){var S;const Q=yield v.verify();try{let pe;if(ge("string"==typeof Q,D,"argument-error"),ge(v.type===ks,D,"argument-error"),pe="string"==typeof m?{phoneNumber:m}:m,"session"in pe){const tt=pe.session;if("phoneNumber"in pe)return ge("enroll"===tt.type,D,"internal-error"),(yield Ai(D,{idToken:tt.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{ge("signin"===tt.type,D,"internal-error");const xt=(null===(S=pe.multiFactorHint)||void 0===S?void 0:S.uid)||pe.multiFactorUid;return ge(xt,D,"missing-multi-factor-info"),(yield Cn(D,{mfaPendingCredential:tt.credential,mfaEnrollmentId:xt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:tt}=yield We(D,{phoneNumber:pe.phoneNumber,recaptchaToken:Q});return tt}}finally{v._reset()}})).apply(this,arguments)}function go(){return(go=(0,_.Z)(function*(D,m){yield Ir((0,ie.m9)(D),m)})).apply(this,arguments)}let eo=(()=>{class D{constructor(v){this.providerId=D.PROVIDER_ID,this.auth=Vt(v)}verifyPhoneNumber(v,S){return Yi(this.auth,v,(0,ie.m9)(S))}static credential(v,S){return Ui._fromVerification(v,S)}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:S,temporaryProof:Q}=v;return S&&Q?Ui._fromTokenResponse(S,Q):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Ua(D,m){return m?et(m):(ge(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class zu extends fr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return ar(m,this._buildIdpRequest())}_linkToIdToken(m,v){return ar(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return ar(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function Th(D){return wt(D.auth,new zu(D),D.bypassAuthState)}function Rd(D){const{auth:m,user:v}=D;return ge(v,m,"internal-error"),ue(v,new zu(D),D.bypassAuthState)}function lu(D){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,_.Z)(function*(D){const{auth:m,user:v}=D;return ge(v,m,"internal-error"),Ir(v,new zu(D),D.bypassAuthState)})).apply(this,arguments)}class to{constructor(m,v,S,Q,pe=!1){this.auth=m,this.resolver=S,this.user=Q,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,_.Z)(function*(S,Q){m.pendingPromise={resolve:S,reject:Q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(pe){m.reject(pe)}});return function(S,Q){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,_.Z)(function*(){const{urlResponse:S,sessionId:Q,postBody:pe,tenantId:tt,error:xt,type:yn}=m;if(xt)return void v.reject(xt);const Vn={auth:v.auth,requestUri:S,sessionId:Q,tenantId:tt||void 0,postBody:pe||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(yn)(Vn))}catch(ur){v.reject(ur)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Th;case"linkViaPopup":case"linkViaRedirect":return lu;case"reauthViaPopup":case"reauthViaRedirect":return Rd;default:ct(this.auth,"internal-error")}}resolve(m){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Oi=new jt(2e3,1e4);function ca(){return(ca=(0,_.Z)(function*(D,m,v){const S=Vt(D);Rt(D,m,Gi);const Q=Ua(S,v);return new Ac(S,"signInViaPopup",m,Q).executeNotNull()})).apply(this,arguments)}function mo(){return(mo=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D);Rt(S.auth,m,Gi);const Q=Ua(S.auth,v);return new Ac(S.auth,"reauthViaPopup",m,Q,S).executeNotNull()})).apply(this,arguments)}function cu(){return(cu=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D);Rt(S.auth,m,Gi);const Q=Ua(S.auth,v);return new Ac(S.auth,"linkViaPopup",m,Q,S).executeNotNull()})).apply(this,arguments)}let Ac=(()=>{class D extends to{constructor(v,S,Q,pe,tt){super(v,S,pe,tt),this.provider=Q,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var v=this;return(0,_.Z)(function*(){const S=yield v.execute();return ge(S,v.auth,"internal-error"),S})()}onExecution(){var v=this;return(0,_.Z)(function*(){Xe(1===v.filter.length,"Popup operations only handle one event");const S=k();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],S),v.authWindow.associatedEvent=S,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject($e(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const v=()=>{var S,Q;this.pollId=(null===(Q=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===Q?void 0:Q.closed)?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Oi.get())};v()}}return D.currentPopupAction=null,D})();const Zl=new Map;class Yl extends to{constructor(m,v,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,_.Z)(function*(){let S=Zl.get(v.auth._key());if(!S){try{const pe=(yield function B(D,m){return W.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;S=()=>Promise.resolve(pe)}catch(Q){S=()=>Promise.reject(Q)}Zl.set(v.auth._key(),S)}return v.bypassAuthState||Zl.set(v.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,S=this;return(0,_.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(S,m);if("unknown"!==m.type){if(m.eventId){const Q=yield S.auth._redirectUserForId(m.eventId);if(Q)return S.user=Q,v().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function W(){return(W=(0,_.Z)(function*(D,m){const v=Jt(m),S=Ct(D);if(!(yield S._isAvailable()))return!1;const Q="true"===(yield S._get(v));return yield S._remove(v),Q})).apply(this,arguments)}function le(D,m){return Re.apply(this,arguments)}function Re(){return(Re=(0,_.Z)(function*(D,m){return Ct(D)._set(Jt(m),"true")})).apply(this,arguments)}function Ct(D){return et(D._redirectPersistence)}function Jt(D){return ft("pendingRedirect",D.config.apiKey,D.name)}function Dr(){return(Dr=(0,_.Z)(function*(D,m,v){const S=Vt(D);Rt(D,m,Gi);const Q=Ua(S,v);return yield le(Q,S),Q._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function gs(){return(gs=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D);Rt(S.auth,m,Gi);const Q=Ua(S.auth,v);yield le(Q,S.auth);const pe=yield kd(S);return Q._openRedirect(S.auth,m,"reauthViaRedirect",pe)})).apply(this,arguments)}function Xl(){return(Xl=(0,_.Z)(function*(D,m,v){const S=(0,ie.m9)(D);Rt(S.auth,m,Gi);const Q=Ua(S.auth,v);yield se(!1,S,m.providerId),yield le(Q,S.auth);const pe=yield kd(S);return Q._openRedirect(S.auth,m,"linkViaRedirect",pe)})).apply(this,arguments)}function ws(){return(ws=(0,_.Z)(function*(D,m){return yield Vt(D)._initializationPromise,as(D,m,!1)})).apply(this,arguments)}function as(D,m){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,_.Z)(function*(D,m,v=!1){const S=Vt(D),Q=Ua(S,m),tt=yield new Yl(S,Q,v).execute();return tt&&!v&&(delete tt.user._redirectEventId,yield S._persistUserIfCurrent(tt.user),yield S._setRedirectUser(null,m)),tt})).apply(this,arguments)}function kd(D){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,_.Z)(function*(D){const m=k(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class Wu{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(v=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function du(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uu(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var S;if(m.error&&!uu(m)){const Q=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";v.onError($e(this.auth,Q))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const S=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(m))}saveEventToCache(m){this.cachedEventUids.add(da(m)),this.lastProcessedEventTime=Date.now()}}function da(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function uu({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Mc(D){return il.apply(this,arguments)}function il(){return(il=(0,_.Z)(function*(D,m={}){return kn(D,"GET","/v1/projects",m)})).apply(this,arguments)}const Gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ec=/^https?/;function yl(){return(yl=(0,_.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield Mc(D);for(const v of m)try{if(sl(v))return}catch(S){}ct(D,"unauthorized-domain")})).apply(this,arguments)}function sl(D){const m=Mt(),{protocol:v,hostname:S}=new URL(m);if(D.startsWith("chrome-extension://")){const tt=new URL(D);return""===tt.hostname&&""===S?"chrome-extension:"===v&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&tt.hostname===S}if(!ec.test(v))return!1;if(Gu.test(D))return S===D;const Q=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(S)}const Nd=new jt(3e4,6e4);function Oc(){const D=re().___jsl;if(null==D?void 0:D.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let v=0;v<D.CP.length;v++)D.CP[v]=null}let hu=null;function xh(D){return hu=hu||function Sl(D){return new Promise((m,v)=>{var S,Q,pe;function tt(){Oc(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Oc(),v($e(D,"network-request-failed"))},timeout:Nd.get()})}if(null===(Q=null===(S=re().gapi)||void 0===S?void 0:S.iframes)||void 0===Q?void 0:Q.Iframe)m(gapi.iframes.getContext());else{if(!(null===(pe=re().gapi)||void 0===pe?void 0:pe.load)){const xt=qo("iframefcb");return re()[xt]=()=>{gapi.load?tt():v($e(D,"network-request-failed"))},ci(`https://apis.google.com/js/api.js?onload=${xt}`).catch(yn=>v(yn))}tt()}}).catch(m=>{throw hu=null,m})}(D),hu}const Uf=new jt(5e3,15e3),fu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nc(D){const m=D.config;ge(m.authDomain,D,"auth-domain-config-required");const v=m.emulator?cn(m,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,S={apiKey:m.apiKey,appName:D.name,v:Se.SDK_VERSION},Q=tc.get(D.config.apiHost);Q&&(S.eid=Q);const pe=D._getFrameworks();return pe.length&&(S.fw=pe.join(",")),`${v}?${(0,ie.xO)(S).slice(1)}`}function Ku(){return Ku=(0,_.Z)(function*(D){const m=yield xh(D),v=re().gapi;return ge(v,D,"internal-error"),m.open({where:document.body,url:nc(D),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fu,dontclear:!0},S=>new Promise(function(){var Q=(0,_.Z)(function*(pe,tt){yield S.restyle({setHideOnLeave:!1});const xt=$e(D,"network-request-failed"),yn=re().setTimeout(()=>{tt(xt)},Uf.get());function Vn(){re().clearTimeout(yn),pe(S)}S.ping(Vn).then(Vn,()=>{tt(xt)})});return function(pe,tt){return Q.apply(this,arguments)}}()))}),Ku.apply(this,arguments)}const Pc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xa{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Fd(D,m,v,S,Q,pe){ge(D.config.authDomain,D,"auth-domain-config-required"),ge(D.config.apiKey,D,"invalid-api-key");const tt={apiKey:D.config.apiKey,appName:D.name,authType:v,redirectUrl:S,v:Se.SDK_VERSION,eventId:Q};if(m instanceof Gi){m.setDefaultLanguage(D.languageCode),tt.providerId=m.providerId||"",(0,ie.xb)(m.getCustomParameters())||(tt.customParameters=JSON.stringify(m.getCustomParameters()));for(const[yn,Vn]of Object.entries(pe||{}))tt[yn]=Vn}if(m instanceof ki){const yn=m.getScopes().filter(Vn=>""!==Vn);yn.length>0&&(tt.scopes=yn.join(","))}D.tenantId&&(tt.tid=D.tenantId);const xt=tt;for(const yn of Object.keys(xt))void 0===xt[yn]&&delete xt[yn];return`${function ts({config:D}){return D.emulator?cn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,ie.xO)(xt).slice(1)}`}const Fo="webStorageSupport";class kc extends class Ph{constructor(m){this.factorId=m}_process(m,v,S){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,S);case"signin":return this._finalizeSignIn(m,v.credential);default:return Xt("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new kc(m)}_finalizeEnroll(m,v,S){return function Zi(D,m){return kn(D,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(D,m))}(m,{idToken:v,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function Bn(D,m){return kn(D,"POST","/v2/accounts/mfaSignIn:finalize",Gt(D,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rh=(()=>{class D{constructor(){}static assertion(v){return kc._fromCredential(v)}}return D.FACTOR_ID="phone",D})();var kh="@firebase/auth",gu="0.19.12";class vl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,_.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(S=>{var Q;m((null===(Q=S)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ha(){return window}function ns(){return(ns=(0,_.Z)(function*(D,m,v){var S;const{BuildInfo:Q}=Ha();Xe(m.sessionId,"AuthEvent did not contain a session ID");const pe=yield xo(m.sessionId),tt={};return si()?tt.ibi=Q.packageName:yr()?tt.apn=Q.packageName:ct(D,"operation-not-supported-in-this-environment"),Q.displayName&&(tt.appDisplayName=Q.displayName),tt.sessionId=pe,Fd(D,v,m.type,void 0,null!==(S=m.eventId)&&void 0!==S?S:void 0,tt)})).apply(this,arguments)}function yo(){return(yo=(0,_.Z)(function*(D){const{BuildInfo:m}=Ha(),v={};si()?v.iosBundleId=m.packageName:yr()?v.androidPackageName=m.packageName:ct(D,"operation-not-supported-in-this-environment"),yield Mc(D,v)})).apply(this,arguments)}function rs(){return(rs=(0,_.Z)(function*(D,m,v){const{cordova:S}=Ha();let Q=()=>{};try{yield new Promise((pe,tt)=>{let xt=null;function yn(){var sr;pe();const ms=null===(sr=S.plugins.browsertab)||void 0===sr?void 0:sr.close;"function"==typeof ms&&ms(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function Vn(){xt||(xt=window.setTimeout(()=>{tt($e(D,"redirect-cancelled-by-user"))},2e3))}function ur(){"visible"===(null==document?void 0:document.visibilityState)&&Vn()}m.addPassiveListener(yn),document.addEventListener("resume",Vn,!1),yr()&&document.addEventListener("visibilitychange",ur,!1),Q=()=>{m.removePassiveListener(yn),document.removeEventListener("resume",Vn,!1),document.removeEventListener("visibilitychange",ur,!1),xt&&window.clearTimeout(xt)}})}finally{Q()}})).apply(this,arguments)}function xo(D){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,_.Z)(function*(D){const m=$f(D),v=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(v)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $f(D){if(Xe(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const m=new ArrayBuffer(D.length),v=new Uint8Array(m);for(let S=0;S<D.length;S++)v[S]=D.charCodeAt(S);return v}!function Lh(D){(0,Se._registerComponent)(new Ae.wA("auth",(m,{options:v})=>{const S=m.getProvider("app").getImmediate(),Q=m.getProvider("heartbeat"),{apiKey:pe,authDomain:tt}=S.options;return((xt,yn)=>{ge(pe&&!pe.includes(":"),"invalid-api-key",{appName:xt.name}),ge(!(null==tt?void 0:tt.includes(":")),"argument-error",{appName:xt.name});const Vn={apiKey:pe,authDomain:tt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pi(D)},ur=new Nn(xt,yn,Vn);return function ot(D,m){const v=(null==m?void 0:m.persistence)||[],S=(Array.isArray(v)?v:[v]).map(et);(null==m?void 0:m.errorMap)&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(S,null==m?void 0:m.popupRedirectResolver)}(ur,v),ur})(S,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,S)=>{m.getProvider("auth-internal").initialize()})),(0,Se._registerComponent)(new Ae.wA("auth-internal",m=>{const v=Vt(m.getProvider("auth").getImmediate());return new vl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)(kh,gu,function Nh(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,Se.registerVersion)(kh,gu,"esm2017")}("Browser");class Bd extends Wu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(m)),super.onEvent(m)}initialized(){var m=this;return(0,_.Z)(function*(){yield m.initPromise})()}}function ic(D){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,_.Z)(function*(D){const m=yield mi()._get(Zu(D));return m&&(yield mi()._remove(Zu(D))),m})).apply(this,arguments)}function Wf(){const D=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const S=Math.floor(Math.random()*m.length);D.push(m.charAt(S))}return D.join("")}function mi(){return et(Vr)}function Zu(D){return ft("authEvent",D.config.apiKey,D.name)}function kl(D){if(!(null==D?void 0:D.includes("?")))return{};const[m,...v]=D.split("?");return(0,ie.zd)(v.join("?"))}function Yu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$e("no-auth-event")}}function Xu(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function Lc(D=(0,ie.z$)()){return!("file:"!==Xu()&&"ionic:"!==Xu()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function ro(){try{const D=self.localStorage,m=k();if(D)return D.setItem(m,"1"),D.removeItem(m),!function sc(D=(0,ie.z$)()){return function Kp(){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function no(D=(0,ie.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,ie.hl)()}catch(D){return $a()&&(0,ie.hl)()}return!1}function $a(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qo(){return(function qf(){return"http:"===Xu()||"https:"===Xu()}()||(0,ie.ru)()||Lc())&&!function Uh(){return(0,ie.b$)()||(0,ie.UG)()}()&&ro()&&!$a()}function _u(){return Lc()&&"undefined"!=typeof document}function Sa(){return(Sa=(0,_.Z)(function*(){return!!_u()&&new Promise(D=>{const m=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),D(!0)})})})).apply(this,arguments)}const Xo={LOCAL:"local",NONE:"none",SESSION:"session"},Nl=ge,Ju="persistence";function Ll(D){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,_.Z)(function*(D){yield D._initializationPromise;const m=ed(),v=ft(Ju,D.config.apiKey,D.name);m&&m.setItem(v,D._getPersistence())})).apply(this,arguments)}function ed(){var D;try{return(null===(D=function vu(){return"undefined"!=typeof window?window:null}())||void 0===D?void 0:D.sessionStorage)||null}catch(m){return null}}const td=ge;class za{constructor(){this.browserResolver=et(class Ol{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=To,this._completeRedirectFn=as}_openPopup(m,v,S,Q){var pe=this;return(0,_.Z)(function*(){var tt;Xe(null===(tt=pe.eventManagers[m._key()])||void 0===tt?void 0:tt.manager,"_initialize() not called before _openPopup()");const xt=Fd(m,v,S,Mt(),Q);return function qu(D,m,v,S=500,Q=600){const pe=Math.max((window.screen.availHeight-Q)/2,0).toString(),tt=Math.max((window.screen.availWidth-S)/2,0).toString();let xt="";const yn=Object.assign(Object.assign({},Pc),{width:S.toString(),height:Q.toString(),top:pe,left:tt}),Vn=(0,ie.z$)().toLowerCase();v&&(xt=Rn(Vn)?"_blank":v),vn(Vn)&&(m=m||"http://localhost",yn.scrollbars="yes");const ur=Object.entries(yn).reduce((ms,[Vo,ac])=>`${ms}${Vo}=${ac},`,"");if(function Ti(D=(0,ie.z$)()){var m;return si(D)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Vn)&&"_self"!==xt)return function _l(D,m){const v=document.createElement("a");v.href=D,v.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(S)}(m||"",xt),new xa(null);const sr=window.open(m||"",xt,ur);ge(sr,D,"popup-blocked");try{sr.focus()}catch(ms){}return new xa(sr)}(m,xt,k())})()}_openRedirect(m,v,S,Q){var pe=this;return(0,_.Z)(function*(){return yield pe._originValidation(m),function Ge(D){re().location.href=D}(Fd(m,v,S,Mt(),Q)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:Q,promise:pe}=this.eventManagers[v];return Q?Promise.resolve(Q):(Xe(pe,"If manager is not set, promise should be"),pe)}const S=this.initAndGetManager(m);return this.eventManagers[v]={promise:S},S.catch(()=>{delete this.eventManagers[v]}),S}initAndGetManager(m){var v=this;return(0,_.Z)(function*(){const S=yield function Mh(D){return Ku.apply(this,arguments)}(m),Q=new Wu(m);return S.register("authEvent",pe=>(ge(null==pe?void 0:pe.authEvent,m,"invalid-auth-event"),{status:Q.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:Q},v.iframes[m._key()]=S,Q})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Fo,{type:Fo},Q=>{var pe;const tt=null===(pe=null==Q?void 0:Q[0])||void 0===pe?void 0:pe[Fo];void 0!==tt&&v(!!tt),ct(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ha(D){return yl.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return ni()||bn()||si()}}),this.cordovaResolver=et(class Bh{constructor(){this._redirectPersistence=To,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=as}_initialize(m){var v=this;return(0,_.Z)(function*(){const S=m._key();let Q=v.eventManagers.get(S);return Q||(Q=new Bd(m),v.eventManagers.set(S,Q),v.attachCallbackListeners(m,Q)),Q})()}_openPopup(m){ct(m,"operation-not-supported-in-this-environment")}_openRedirect(m,v,S,Q){var pe=this;return(0,_.Z)(function*(){!function Aa(D){var m,v,S,Q,pe,tt,xt,yn,Vn,ur;const sr=Ha();ge("function"==typeof(null===(m=null==sr?void 0:sr.universalLinks)||void 0===m?void 0:m.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(void 0!==(null===(v=null==sr?void 0:sr.BuildInfo)||void 0===v?void 0:v.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge("function"==typeof(null===(pe=null===(Q=null===(S=null==sr?void 0:sr.cordova)||void 0===S?void 0:S.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===pe?void 0:pe.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(yn=null===(xt=null===(tt=null==sr?void 0:sr.cordova)||void 0===tt?void 0:tt.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===yn?void 0:yn.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge("function"==typeof(null===(ur=null===(Vn=null==sr?void 0:sr.cordova)||void 0===Vn?void 0:Vn.InAppBrowser)||void 0===ur?void 0:ur.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const tt=yield pe._initialize(m);yield tt.initialized(),tt.resetRedirect(),function at(){Zl.clear()}(),yield pe._originValidation(m);const xt=function Yo(D,m,v=null){return{type:m,eventId:v,urlResponse:null,sessionId:Wf(),postBody:null,tenantId:D.tenantId,error:$e(D,"no-auth-event")}}(m,S,Q);yield function Vh(D,m){return mi()._set(Zu(D),m)}(m,xt);const yn=yield function Hf(D,m,v){return ns.apply(this,arguments)}(m,xt,v),Vn=yield function rc(D){const{cordova:m}=Ha();return new Promise(v=>{m.plugins.browsertab.isAvailable(S=>{let Q=null;S?m.plugins.browsertab.openUrl(D):Q=m.InAppBrowser.open(D,function hi(D=(0,ie.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),v(Q)})})}(yn);return function ol(D,m,v){return rs.apply(this,arguments)}(m,tt,Vn)})()}_isIframeWebStorageSupported(m,v){throw new Error("Method not implemented.")}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function di(D){return yo.apply(this,arguments)}(m)),this.originValidationPromises[v]}attachCallbackListeners(m,v){const{universalLinks:S,handleOpenURL:Q,BuildInfo:pe}=Ha(),tt=setTimeout((0,_.Z)(function*(){yield ic(m),v.onEvent(Yu())}),500),xt=function(){var ur=(0,_.Z)(function*(sr){clearTimeout(tt);const ms=yield ic(m);let Vo=null;ms&&(null==sr?void 0:sr.url)&&(Vo=function zf(D,m){var v,S;const Q=function Rl(D){const m=kl(D),v=m.link?decodeURIComponent(m.link):void 0,S=kl(v).link,Q=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return kl(Q).link||Q||S||v||D}(m);if(Q.includes("/__/auth/callback")){const pe=kl(Q),tt=pe.firebaseError?function mu(D){try{return JSON.parse(D)}catch(m){return null}}(decodeURIComponent(pe.firebaseError)):null,xt=null===(S=null===(v=null==tt?void 0:tt.code)||void 0===v?void 0:v.split("auth/"))||void 0===S?void 0:S[1],yn=xt?$e(xt):null;return yn?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:yn,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:Q,postBody:null}}return null}(ms,sr.url)),v.onEvent(Vo||Yu())});return function(ms){return ur.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,xt);const yn=Q,Vn=`${pe.packageName.toLowerCase()}://`;Ha().handleOpenURL=function(){var ur=(0,_.Z)(function*(sr){if(sr.toLowerCase().startsWith(Vn)&&xt({url:sr}),"function"==typeof yn)try{yn(sr)}catch(ms){console.error(ms)}});return function(sr){return ur.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=To,this._completeRedirectFn=as}_initialize(m){var v=this;return(0,_.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,v,S,Q){var pe=this;return(0,_.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._openPopup(m,v,S,Q)})()}_openRedirect(m,v,S,Q){var pe=this;return(0,_.Z)(function*(){return yield pe.selectUnderlyingResolver(),pe.assertedUnderlyingResolver._openRedirect(m,v,S,Q)})()}_isIframeWebStorageSupported(m,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,v)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return _u()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return td(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,_.Z)(function*(){if(m.underlyingResolver)return;const v=yield function _o(){return Sa.apply(this,arguments)}();m.underlyingResolver=v?m.cordovaResolver:m.browserResolver})()}}function Ud(D){return D.unwrap()}function jd(D){return Ao(D)}function Ao(D){const{_tokenResponse:m}=D instanceof ie.ZR?D.customData:D;if(!m)return null;if(!(D instanceof ie.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return eo.credentialFromResult(D);const v=m.providerId;if(!v||"password"===v)return null;let S;switch(v){case"google.com":S=Ki;break;case"facebook.com":S=Ni;break;case"github.com":S=ao;break;case"twitter.com":S=lo;break;default:const{oauthIdToken:Q,oauthAccessToken:pe,oauthTokenSecret:tt,pendingToken:xt,nonce:yn}=m;return pe||tt||Q||xt?xt?v.startsWith("saml.")?Es._create(v,xt):Qe._fromParams({providerId:v,signInMethod:v,pendingToken:xt,idToken:Q,accessToken:pe}):new Os(v).credential({idToken:Q,accessToken:pe,rawNonce:yn}):null}return D instanceof ie.ZR?S.credentialFromError(D):S.credentialFromResult(D)}function Ii(D,m){return m.catch(v=>{throw v instanceof ie.ZR&&function wu(D,m){var v;const S=null===(v=m.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new Zf(D,function Na(D,m){var v;const S=(0,ie.m9)(D),Q=m;return ge(m.customData.operationType,S,"argument-error"),ge(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,S,"argument-error"),No._fromError(S,Q)}(D,m));else if(S){const Q=Ao(m),pe=m;Q&&(pe.credential=Q,pe.tenantId=S.tenantId||void 0,pe.email=S.email||void 0,pe.phoneNumber=S.phoneNumber||void 0)}}(D,v),v}).then(v=>{const Q=v.user;return{operationType:v.operationType,credential:jd(v),additionalUserInfo:es(v),user:ll.getOrCreate(Q)}})}function Hd(D,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,_.Z)(function*(D,m){const v=yield m;return{verificationId:v.verificationId,confirm:S=>Ii(D,v.confirm(S))}})).apply(this,arguments)}class Zf{constructor(m,v){this.resolver=v,this.auth=function bu(D){return D.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Ii(Ud(this.auth),this.resolver.resolveSignIn(m))}}class ll{constructor(m){this._delegate=m,this.multiFactor=function sa(D){const m=(0,ie.m9)(D);return ps.has(m)||ps.set(m,Ps._fromUser(m)),ps.get(m)}(m)}static getOrCreate(m){return ll.USER_MAP.has(m)||ll.USER_MAP.set(m,new ll(m)),ll.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var v=this;return(0,_.Z)(function*(){return Ii(v.auth,Pr(v._delegate,m))})()}linkWithPhoneNumber(m,v){var S=this;return(0,_.Z)(function*(){return Hd(S.auth,function Va(D,m,v){return Ba.apply(this,arguments)}(S._delegate,m,v))})()}linkWithPopup(m){var v=this;return(0,_.Z)(function*(){return Ii(v.auth,function xc(D,m,v){return cu.apply(this,arguments)}(v._delegate,m,za))})()}linkWithRedirect(m){var v=this;return(0,_.Z)(function*(){return yield Ll(Vt(v.auth)),function ti(D,m,v){return function Ql(D,m,v){return Xl.apply(this,arguments)}(D,m,v)}(v._delegate,m,za)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var v=this;return(0,_.Z)(function*(){return Ii(v.auth,gr(v._delegate,m))})()}reauthenticateWithPhoneNumber(m,v){return Hd(this.auth,function nl(D,m,v){return gl.apply(this,arguments)}(this._delegate,m,v))}reauthenticateWithPopup(m){return Ii(this.auth,function rl(D,m,v){return mo.apply(this,arguments)}(this._delegate,m,za))}reauthenticateWithRedirect(m){var v=this;return(0,_.Z)(function*(){return yield Ll(Vt(v.auth)),function ei(D,m,v){return function Rr(D,m,v){return gs.apply(this,arguments)}(D,m,v)}(v._delegate,m,za)})()}sendEmailVerification(m){return function Js(D,m){return ta.apply(this,arguments)}(this._delegate,m)}unlink(m){var v=this;return(0,_.Z)(function*(){return yield function Co(D,m){return Qs.apply(this,arguments)}(v._delegate,m),v})()}updateEmail(m){return function ra(D,m){return zo((0,ie.m9)(D),m,null)}(this._delegate,m)}updatePassword(m){return function Ra(D,m){return zo((0,ie.m9)(D),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function ql(D,m){return go.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Us(D,m){return na.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,v){return function jo(D,m,v){return Ho.apply(this,arguments)}(this._delegate,m,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ll.USER_MAP=new WeakMap;const zs=ge;let rd=(()=>{class D{constructor(v,S){if(this.app=v,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=v.options;zs(Q,"invalid-api-key",{appName:v.name}),zs(Q,"invalid-api-key",{appName:v.name});const pe="undefined"!=typeof window?za:void 0;this._delegate=S.initialize({options:{persistence:cl(Q,v.name),popupRedirectResolver:pe}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ll.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,S){!function hr(D,m,v){const S=Vt(D);ge(S._canInitEmulator,S,"emulator-config-failed"),ge(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const Q=!!(null==v?void 0:v.disableWarnings),pe=Kr(m),{host:tt,port:xt}=function Fi(D){const m=Kr(D),v=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!v)return{host:"",port:null};const S=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(S);if(Q){const pe=Q[1];return{host:pe,port:Hr(S.substr(pe.length+1))}}{const[pe,tt]=S.split(":");return{host:pe,port:Hr(tt)}}}(m);S.config.emulator={url:`${pe}//${tt}${null===xt?"":`:${xt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:tt,port:xt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function fi(){function D(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,v,S)}applyActionCode(v){return function V(D,m){return Y.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Je(this._delegate,v)}confirmPasswordReset(v,S){return function z(D,m,v){return U.apply(this,arguments)}(this._delegate,v,S)}createUserWithEmailAndPassword(v,S){var Q=this;return(0,_.Z)(function*(){return Ii(Q._delegate,function Ji(D,m,v){return qi.apply(this,arguments)}(Q._delegate,v,S))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function wa(D,m){return Xs.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function va(D,m){const v=ys.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,_.Z)(function*(){zs(Qo(),v._delegate,"operation-not-supported-in-this-environment");const S=yield function ml(D,m){return ws.apply(this,arguments)}(v._delegate,za);return S?Ii(v._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function Gf(D,m){Vt(D)._logFramework(m)}(this._delegate,v)}onAuthStateChanged(v,S,Q){const{next:pe,error:tt,complete:xt}=$d(v,S,Q);return this._delegate.onAuthStateChanged(pe,tt,xt)}onIdTokenChanged(v,S,Q){const{next:pe,error:tt,complete:xt}=$d(v,S,Q);return this._delegate.onIdTokenChanged(pe,tt,xt)}sendSignInLinkToEmail(v,S){return function Vs(D,m,v){return _a.apply(this,arguments)}(this._delegate,v,S)}sendPasswordResetEmail(v,S){return function Fs(D,m,v){return co.apply(this,arguments)}(this._delegate,v,S||void 0)}setPersistence(v){var S=this;return(0,_.Z)(function*(){let Q;switch(function jh(D,m){Nl(Object.values(Xo).includes(m),D,"invalid-persistence-type"),(0,ie.b$)()?Nl(m!==Xo.SESSION,D,"unsupported-persistence-type"):(0,ie.UG)()?Nl(m===Xo.NONE,D,"unsupported-persistence-type"):$a()?Nl(m===Xo.NONE||m===Xo.LOCAL&&(0,ie.hl)(),D,"unsupported-persistence-type"):Nl(m===Xo.NONE||ro(),D,"unsupported-persistence-type")}(S._delegate,v),v){case Xo.SESSION:Q=To;break;case Xo.LOCAL:Q=(yield et(hn)._isAvailable())?hn:Vr;break;case Xo.NONE:Q=Fe;break;default:return ct("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Ii(this._delegate,function ko(D){return Ys.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Ii(this._delegate,un(this._delegate,v))}signInWithCustomToken(v){return Ii(this._delegate,function Ds(D,m){return is.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,S){return Ii(this._delegate,function Ts(D,m,v){return un((0,ie.m9)(D),oo.credential(m,v))}(this._delegate,v,S))}signInWithEmailLink(v,S){return Ii(this._delegate,function ba(D,m,v){return _s.apply(this,arguments)}(this._delegate,v,S))}signInWithPhoneNumber(v,S){return Hd(this._delegate,function tl(D,m,v){return os.apply(this,arguments)}(this._delegate,v,S))}signInWithPopup(v){var S=this;return(0,_.Z)(function*(){return zs(Qo(),S._delegate,"operation-not-supported-in-this-environment"),Ii(S._delegate,function Ss(D,m,v){return ca.apply(this,arguments)}(S._delegate,v,za))})()}signInWithRedirect(v){var S=this;return(0,_.Z)(function*(){return zs(Qo(),S._delegate,"operation-not-supported-in-this-environment"),yield Ll(S._delegate),function Fn(D,m,v){return function Wn(D,m,v){return Dr.apply(this,arguments)}(D,m,v)}(S._delegate,v,za)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function ir(D,m){return xi.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Xo,D})();function $d(D,m,v){let S=D;"function"!=typeof D&&({next:S,error:m,complete:v}=D);const Q=S;return{next:tt=>Q(tt&&ll.getOrCreate(tt)),error:m,complete:v}}function cl(D,m){const v=function Hh(D,m){const v=ed();if(!v)return[];const S=ft(Ju,D,m);switch(v.getItem(S)){case Xo.NONE:return[Fe];case Xo.LOCAL:return[hn,To];case Xo.SESSION:return[To];default:return[]}}(D,m);if("undefined"!=typeof self&&!v.includes(hn)&&v.push(hn),"undefined"!=typeof window)for(const S of[Vr,To])v.includes(S)||v.push(S);return v.includes(Fe)||v.push(Fe),v}class Eu{constructor(){this.providerId="phone",this._delegate=new eo(Ud(Z.Z.auth()))}static credential(m,v){return eo.credential(m,v)}verifyPhoneNumber(m,v){return this._delegate.verifyPhoneNumber(m,v)}unwrap(){return this._delegate}}Eu.PHONE_SIGN_IN_METHOD=eo.PHONE_SIGN_IN_METHOD,Eu.PROVIDER_ID=eo.PROVIDER_ID;const oc=ge;class zd{constructor(m,v,S=Z.Z.app()){var Q;oc(null===(Q=S.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new Al(m,v,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $h(D){D.INTERNAL.registerComponent(new Ae.wA("auth-compat",m=>{const v=m.getProvider("app-compat").getImmediate(),S=m.getProvider("auth");return new rd(v,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:oo,FacebookAuthProvider:Ni,GithubAuthProvider:ao,GoogleAuthProvider:Ki,OAuthProvider:Os,SAMLAuthProvider:Ar,PhoneAuthProvider:Eu,PhoneMultiFactorGenerator:Rh,RecaptchaVerifier:zd,TwitterAuthProvider:lo,Auth:rd,AuthCredential:fr,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.2.12")}(Z.Z)},1135:(je,ve,L)=>{"use strict";L.d(ve,{X:()=>Z});var _=L(7579);class Z extends _.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const de=super._subscribe(Se);return!de.closed&&Se.next(this._value),de}getValue(){const{hasError:Se,thrownError:de,_value:Ne}=this;if(Se)throw de;return this._throwIfClosed(),Ne}next(Se){super.next(this._value=Se)}}},8306:(je,ve,L)=>{"use strict";L.d(ve,{y:()=>ce});var _=L(930),Z=L(727),ie=L(8822),Se=L(4671);var Ae=L(2416),me=L(576),De=L(2806);let ce=(()=>{class nt{constructor(ht){ht&&(this._subscribe=ht)}lift(ht){const yt=new nt;return yt.source=this,yt.operator=ht,yt}subscribe(ht,yt,lt){const Le=function Ye(nt){return nt&&nt instanceof _.Lv||function be(nt){return nt&&(0,me.m)(nt.next)&&(0,me.m)(nt.error)&&(0,me.m)(nt.complete)}(nt)&&(0,Z.Nn)(nt)}(ht)?ht:new _.Hp(ht,yt,lt);return(0,De.x)(()=>{const{operator:Dt,source:ct}=this;Le.add(Dt?Dt.call(Le,ct):ct?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(ht){try{return this._subscribe(ht)}catch(yt){ht.error(yt)}}forEach(ht,yt){return new(yt=he(yt))((lt,Le)=>{const Dt=new _.Hp({next:ct=>{try{ht(ct)}catch($e){Le($e),Dt.unsubscribe()}},error:Le,complete:lt});this.subscribe(Dt)})}_subscribe(ht){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(ht)}[ie.L](){return this}pipe(...ht){return function Ne(nt){return 0===nt.length?Se.y:1===nt.length?nt[0]:function(ht){return nt.reduce((yt,lt)=>lt(yt),ht)}}(ht)(this)}toPromise(ht){return new(ht=he(ht))((yt,lt)=>{let Le;this.subscribe(Dt=>Le=Dt,Dt=>lt(Dt),()=>yt(Le))})}}return nt.create=dt=>new nt(dt),nt})();function he(nt){var dt;return null!==(dt=null!=nt?nt:Ae.v.Promise)&&void 0!==dt?dt:Promise}},4707:(je,ve,L)=>{"use strict";L.d(ve,{t:()=>ie});var _=L(7579),Z=L(6063);class ie extends _.x{constructor(de=1/0,Ne=1/0,Ae=Z.l){super(),this._bufferSize=de,this._windowTime=Ne,this._timestampProvider=Ae,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ne===1/0,this._bufferSize=Math.max(1,de),this._windowTime=Math.max(1,Ne)}next(de){const{isStopped:Ne,_buffer:Ae,_infiniteTimeWindow:me,_timestampProvider:De,_windowTime:ce}=this;Ne||(Ae.push(de),!me&&Ae.push(De.now()+ce)),this._trimBuffer(),super.next(de)}_subscribe(de){this._throwIfClosed(),this._trimBuffer();const Ne=this._innerSubscribe(de),{_infiniteTimeWindow:Ae,_buffer:me}=this,De=me.slice();for(let ce=0;ce<De.length&&!de.closed;ce+=Ae?1:2)de.next(De[ce]);return this._checkFinalizedStatuses(de),Ne}_trimBuffer(){const{_bufferSize:de,_timestampProvider:Ne,_buffer:Ae,_infiniteTimeWindow:me}=this,De=(me?1:2)*de;if(de<1/0&&De<Ae.length&&Ae.splice(0,Ae.length-De),!me){const ce=Ne.now();let he=0;for(let be=1;be<Ae.length&&Ae[be]<=ce;be+=2)he=be;he&&Ae.splice(0,he+1)}}}},7579:(je,ve,L)=>{"use strict";L.d(ve,{x:()=>Ae});var _=L(8306),Z=L(727);const Se=(0,L(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=L(8737),Ne=L(2806);let Ae=(()=>{class De extends _.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const be=new me(this,this);return be.operator=he,be}_throwIfClosed(){if(this.closed)throw new Se}next(he){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(he)}})}error(he){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:be}=this;for(;be.length;)be.shift().error(he)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:be,isStopped:Ye,observers:nt}=this;return be||Ye?Z.Lc:(this.currentObservers=null,nt.push(he),new Z.w0(()=>{this.currentObservers=null,(0,de.P)(nt,he)}))}_checkFinalizedStatuses(he){const{hasError:be,thrownError:Ye,isStopped:nt}=this;be?he.error(Ye):nt&&he.complete()}asObservable(){const he=new _.y;return he.source=this,he}}return De.create=(ce,he)=>new me(ce,he),De})();class me extends Ae{constructor(ce,he){super(),this.destination=ce,this.source=he}next(ce){var he,be;null===(be=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===be||be.call(he,ce)}error(ce){var he,be;null===(be=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===be||be.call(he,ce)}complete(){var ce,he;null===(he=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===he||he.call(ce)}_subscribe(ce){var he,be;return null!==(be=null===(he=this.source)||void 0===he?void 0:he.subscribe(ce))&&void 0!==be?be:Z.Lc}}},930:(je,ve,L)=>{"use strict";L.d(ve,{Hp:()=>ht,Lv:()=>be});var _=L(576),Z=L(727),ie=L(2416),Se=L(7849),de=L(5032);const Ne=De("C",void 0,void 0);function De(ct,$e,bt){return{kind:ct,value:$e,error:bt}}var ce=L(3410),he=L(2806);class be extends Z.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,Z.Nn)($e)&&$e.add(this)):this.destination=Dt}static create($e,bt,Rt){return new ht($e,bt,Rt)}next($e){this.isStopped?Le(function me(ct){return De("N",ct,void 0)}($e),this):this._next($e)}error($e){this.isStopped?Le(function Ae(ct){return De("E",void 0,ct)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?Le(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function nt(ct,$e){return Ye.call(ct,$e)}class dt{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:bt}=this;if(bt.next)try{bt.next($e)}catch(Rt){yt(Rt)}}error($e){const{partialObserver:bt}=this;if(bt.error)try{bt.error($e)}catch(Rt){yt(Rt)}else yt($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(bt){yt(bt)}}}class ht extends be{constructor($e,bt,Rt){let Ut;if(super(),(0,_.m)($e)||!$e)Ut={next:null!=$e?$e:void 0,error:null!=bt?bt:void 0,complete:null!=Rt?Rt:void 0};else{let ge;this&&ie.v.useDeprecatedNextContext?(ge=Object.create($e),ge.unsubscribe=()=>this.unsubscribe(),Ut={next:$e.next&&nt($e.next,ge),error:$e.error&&nt($e.error,ge),complete:$e.complete&&nt($e.complete,ge)}):Ut=$e}this.destination=new dt(Ut)}}function yt(ct){ie.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(ct):(0,Se.h)(ct)}function Le(ct,$e){const{onStoppedNotification:bt}=ie.v;bt&&ce.z.setTimeout(()=>bt(ct,$e))}const Dt={closed:!0,next:de.Z,error:function lt(ct){throw ct},complete:de.Z}},727:(je,ve,L)=>{"use strict";L.d(ve,{Lc:()=>Ne,w0:()=>de,Nn:()=>Ae});var _=L(576);const ie=(0,L(3888).d)(De=>function(he){De(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((be,Ye)=>`${Ye+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Se=L(8737);class de{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const nt of he)nt.remove(this);else he.remove(this);const{initialTeardown:be}=this;if((0,_.m)(be))try{be()}catch(nt){ce=nt instanceof ie?nt.errors:[nt]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const nt of Ye)try{me(nt)}catch(dt){ce=null!=ce?ce:[],dt instanceof ie?ce=[...ce,...dt.errors]:ce.push(dt)}}if(ce)throw new ie(ce)}}add(ce){var he;if(ce&&ce!==this)if(this.closed)me(ce);else{if(ce instanceof de){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ce)}}_hasParent(ce){const{_parentage:he}=this;return he===ce||Array.isArray(he)&&he.includes(ce)}_addParent(ce){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ce),he):he?[he,ce]:ce}_removeParent(ce){const{_parentage:he}=this;he===ce?this._parentage=null:Array.isArray(he)&&(0,Se.P)(he,ce)}remove(ce){const{_finalizers:he}=this;he&&(0,Se.P)(he,ce),ce instanceof de&&ce._removeParent(this)}}de.EMPTY=(()=>{const De=new de;return De.closed=!0,De})();const Ne=de.EMPTY;function Ae(De){return De instanceof de||De&&"closed"in De&&(0,_.m)(De.remove)&&(0,_.m)(De.add)&&(0,_.m)(De.unsubscribe)}function me(De){(0,_.m)(De)?De():De.unsubscribe()}},2416:(je,ve,L)=>{"use strict";L.d(ve,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(je,ve,L)=>{"use strict";L.d(ve,{z:()=>de});var _=L(8189),ie=L(7669),Se=L(8996);function de(...Ne){return function Z(){return(0,_.J)(1)}()((0,Se.D)(Ne,(0,ie.yG)(Ne)))}},515:(je,ve,L)=>{"use strict";L.d(ve,{E:()=>Z});const Z=new(L(8306).y)(de=>de.complete())},8996:(je,ve,L)=>{"use strict";L.d(ve,{D:()=>$e});var _=L(8421),Z=L(5363),ie=L(9468),Ne=L(8306),me=L(2202),De=L(576),ce=L(9672);function be(bt,Rt){if(!bt)throw new Error("Iterable cannot be null");return new Ne.y(Ut=>{(0,ce.f)(Ut,Rt,()=>{const ge=bt[Symbol.asyncIterator]();(0,ce.f)(Ut,Rt,()=>{ge.next().then(Xt=>{Xt.done?Ut.complete():Ut.next(Xt.value)})},0,!0)})})}var Ye=L(3670),nt=L(8239),dt=L(1144),ht=L(6495),yt=L(2206),lt=L(4532),Le=L(3260);function $e(bt,Rt){return Rt?function ct(bt,Rt){if(null!=bt){if((0,Ye.c)(bt))return function Se(bt,Rt){return(0,_.Xf)(bt).pipe((0,ie.R)(Rt),(0,Z.Q)(Rt))}(bt,Rt);if((0,dt.z)(bt))return function Ae(bt,Rt){return new Ne.y(Ut=>{let ge=0;return Rt.schedule(function(){ge===bt.length?Ut.complete():(Ut.next(bt[ge++]),Ut.closed||this.schedule())})})}(bt,Rt);if((0,nt.t)(bt))return function de(bt,Rt){return(0,_.Xf)(bt).pipe((0,ie.R)(Rt),(0,Z.Q)(Rt))}(bt,Rt);if((0,yt.D)(bt))return be(bt,Rt);if((0,ht.T)(bt))return function he(bt,Rt){return new Ne.y(Ut=>{let ge;return(0,ce.f)(Ut,Rt,()=>{ge=bt[me.h](),(0,ce.f)(Ut,Rt,()=>{let Xt,Xe;try{({value:Xt,done:Xe}=ge.next())}catch(st){return void Ut.error(st)}Xe?Ut.complete():Ut.next(Xt)},0,!0)}),()=>(0,De.m)(null==ge?void 0:ge.return)&&ge.return()})}(bt,Rt);if((0,Le.L)(bt))return function Dt(bt,Rt){return be((0,Le.Q)(bt),Rt)}(bt,Rt)}throw(0,lt.z)(bt)}(bt,Rt):(0,_.Xf)(bt)}},8421:(je,ve,L)=>{"use strict";L.d(ve,{Xf:()=>Ye});var _=L(655),Z=L(1144),ie=L(8239),Se=L(8306),de=L(3670),Ne=L(2206),Ae=L(4532),me=L(6495),De=L(3260),ce=L(576),he=L(7849),be=L(8822);function Ye(ct){if(ct instanceof Se.y)return ct;if(null!=ct){if((0,de.c)(ct))return function nt(ct){return new Se.y($e=>{const bt=ct[be.L]();if((0,ce.m)(bt.subscribe))return bt.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,Z.z)(ct))return function dt(ct){return new Se.y($e=>{for(let bt=0;bt<ct.length&&!$e.closed;bt++)$e.next(ct[bt]);$e.complete()})}(ct);if((0,ie.t)(ct))return function ht(ct){return new Se.y($e=>{ct.then(bt=>{$e.closed||($e.next(bt),$e.complete())},bt=>$e.error(bt)).then(null,he.h)})}(ct);if((0,Ne.D)(ct))return lt(ct);if((0,me.T)(ct))return function yt(ct){return new Se.y($e=>{for(const bt of ct)if($e.next(bt),$e.closed)return;$e.complete()})}(ct);if((0,De.L)(ct))return function Le(ct){return lt((0,De.Q)(ct))}(ct)}throw(0,Ae.z)(ct)}function lt(ct){return new Se.y($e=>{(function Dt(ct,$e){var bt,Rt,Ut,ge;return(0,_.mG)(this,void 0,void 0,function*(){try{for(bt=(0,_.KL)(ct);!(Rt=yield bt.next()).done;)if($e.next(Rt.value),$e.closed)return}catch(Xt){Ut={error:Xt}}finally{try{Rt&&!Rt.done&&(ge=bt.return)&&(yield ge.call(bt))}finally{if(Ut)throw Ut.error}}$e.complete()})})(ct,$e).catch(bt=>$e.error(bt))})}},6451:(je,ve,L)=>{"use strict";L.d(ve,{T:()=>Ne});var _=L(8189),Z=L(8421),ie=L(515),Se=L(7669),de=L(8996);function Ne(...Ae){const me=(0,Se.yG)(Ae),De=(0,Se._6)(Ae,1/0),ce=Ae;return ce.length?1===ce.length?(0,Z.Xf)(ce[0]):(0,_.J)(De)((0,de.D)(ce,me)):ie.E}},9646:(je,ve,L)=>{"use strict";L.d(ve,{of:()=>ie});var _=L(7669),Z=L(8996);function ie(...Se){const de=(0,_.yG)(Se);return(0,Z.D)(Se,de)}},5403:(je,ve,L)=>{"use strict";L.d(ve,{x:()=>Z});var _=L(930);function Z(Se,de,Ne,Ae,me){return new ie(Se,de,Ne,Ae,me)}class ie extends _.Lv{constructor(de,Ne,Ae,me,De,ce){super(de),this.onFinalize=De,this.shouldUnsubscribe=ce,this._next=Ne?function(he){try{Ne(he)}catch(be){de.error(be)}}:super._next,this._error=me?function(he){try{me(he)}catch(be){de.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(he){de.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},262:(je,ve,L)=>{"use strict";L.d(ve,{K:()=>Se});var _=L(8421),Z=L(5403),ie=L(4482);function Se(de){return(0,ie.e)((Ne,Ae)=>{let ce,me=null,De=!1;me=Ne.subscribe((0,Z.x)(Ae,void 0,void 0,he=>{ce=(0,_.Xf)(de(he,Se(de)(Ne))),me?(me.unsubscribe(),me=null,ce.subscribe(Ae)):De=!0})),De&&(me.unsubscribe(),me=null,ce.subscribe(Ae))})}},4351:(je,ve,L)=>{"use strict";L.d(ve,{b:()=>ie});var _=L(5577),Z=L(576);function ie(Se,de){return(0,Z.m)(de)?(0,_.z)(Se,de,1):(0,_.z)(Se,1)}},8372:(je,ve,L)=>{"use strict";L.d(ve,{b:()=>Se});var _=L(4986),Z=L(4482),ie=L(5403);function Se(de,Ne=_.z){return(0,Z.e)((Ae,me)=>{let De=null,ce=null,he=null;const be=()=>{if(De){De.unsubscribe(),De=null;const nt=ce;ce=null,me.next(nt)}};function Ye(){const nt=he+de,dt=Ne.now();if(dt<nt)return De=this.schedule(void 0,nt-dt),void me.add(De);be()}Ae.subscribe((0,ie.x)(me,nt=>{ce=nt,he=Ne.now(),De||(De=Ne.schedule(Ye,de),me.add(De))},()=>{be(),me.complete()},void 0,()=>{ce=De=null}))})}},6590:(je,ve,L)=>{"use strict";L.d(ve,{d:()=>ie});var _=L(4482),Z=L(5403);function ie(Se){return(0,_.e)((de,Ne)=>{let Ae=!1;de.subscribe((0,Z.x)(Ne,me=>{Ae=!0,Ne.next(me)},()=>{Ae||Ne.next(Se),Ne.complete()}))})}},1884:(je,ve,L)=>{"use strict";L.d(ve,{x:()=>Se});var _=L(4671),Z=L(4482),ie=L(5403);function Se(Ne,Ae=_.y){return Ne=null!=Ne?Ne:de,(0,Z.e)((me,De)=>{let ce,he=!0;me.subscribe((0,ie.x)(De,be=>{const Ye=Ae(be);(he||!Ne(ce,Ye))&&(he=!1,ce=Ye,De.next(be))}))})}function de(Ne,Ae){return Ne===Ae}},9300:(je,ve,L)=>{"use strict";L.d(ve,{h:()=>ie});var _=L(4482),Z=L(5403);function ie(Se,de){return(0,_.e)((Ne,Ae)=>{let me=0;Ne.subscribe((0,Z.x)(Ae,De=>Se.call(de,De,me++)&&Ae.next(De)))})}},590:(je,ve,L)=>{"use strict";L.d(ve,{P:()=>Ae});var _=L(6805),Z=L(9300),ie=L(5698),Se=L(6590),de=L(8068),Ne=L(4671);function Ae(me,De){const ce=arguments.length>=2;return he=>he.pipe(me?(0,Z.h)((be,Ye)=>me(be,Ye,he)):Ne.y,(0,ie.q)(1),ce?(0,Se.d)(De):(0,de.T)(()=>new _.K))}},4004:(je,ve,L)=>{"use strict";L.d(ve,{U:()=>ie});var _=L(4482),Z=L(5403);function ie(Se,de){return(0,_.e)((Ne,Ae)=>{let me=0;Ne.subscribe((0,Z.x)(Ae,De=>{Ae.next(Se.call(de,De,me++))}))})}},8189:(je,ve,L)=>{"use strict";L.d(ve,{J:()=>ie});var _=L(5577),Z=L(4671);function ie(Se=1/0){return(0,_.z)(Z.y,Se)}},5577:(je,ve,L)=>{"use strict";L.d(ve,{z:()=>me});var _=L(4004),Z=L(8421),ie=L(4482),Se=L(9672),de=L(5403),Ae=L(576);function me(De,ce,he=1/0){return(0,Ae.m)(ce)?me((be,Ye)=>(0,_.U)((nt,dt)=>ce(be,nt,Ye,dt))((0,Z.Xf)(De(be,Ye))),he):("number"==typeof ce&&(he=ce),(0,ie.e)((be,Ye)=>function Ne(De,ce,he,be,Ye,nt,dt,ht){const yt=[];let lt=0,Le=0,Dt=!1;const ct=()=>{Dt&&!yt.length&&!lt&&ce.complete()},$e=Rt=>lt<be?bt(Rt):yt.push(Rt),bt=Rt=>{nt&&ce.next(Rt),lt++;let Ut=!1;(0,Z.Xf)(he(Rt,Le++)).subscribe((0,de.x)(ce,ge=>{null==Ye||Ye(ge),nt?$e(ge):ce.next(ge)},()=>{Ut=!0},void 0,()=>{if(Ut)try{for(lt--;yt.length&&lt<be;){const ge=yt.shift();dt?(0,Se.f)(ce,dt,()=>bt(ge)):bt(ge)}ct()}catch(ge){ce.error(ge)}}))};return De.subscribe((0,de.x)(ce,$e,()=>{Dt=!0,ct()})),()=>{null==ht||ht()}}(be,Ye,De,he)))}},5363:(je,ve,L)=>{"use strict";L.d(ve,{Q:()=>Se});var _=L(9672),Z=L(4482),ie=L(5403);function Se(de,Ne=0){return(0,Z.e)((Ae,me)=>{Ae.subscribe((0,ie.x)(me,De=>(0,_.f)(me,de,()=>me.next(De),Ne),()=>(0,_.f)(me,de,()=>me.complete(),Ne),De=>(0,_.f)(me,de,()=>me.error(De),Ne)))})}},5026:(je,ve,L)=>{"use strict";L.d(ve,{R:()=>Se});var _=L(4482),Z=L(5403);function ie(de,Ne,Ae,me,De){return(ce,he)=>{let be=Ae,Ye=Ne,nt=0;ce.subscribe((0,Z.x)(he,dt=>{const ht=nt++;Ye=be?de(Ye,dt,ht):(be=!0,dt),me&&he.next(Ye)},De&&(()=>{be&&he.next(Ye),he.complete()})))}}function Se(de,Ne){return(0,_.e)(ie(de,Ne,arguments.length>=2,!0))}},3099:(je,ve,L)=>{"use strict";L.d(ve,{B:()=>Ne});var _=L(8996),Z=L(5698),ie=L(7579),Se=L(930),de=L(4482);function Ne(me={}){const{connector:De=(()=>new ie.x),resetOnError:ce=!0,resetOnComplete:he=!0,resetOnRefCountZero:be=!0}=me;return Ye=>{let nt=null,dt=null,ht=null,yt=0,lt=!1,Le=!1;const Dt=()=>{null==dt||dt.unsubscribe(),dt=null},ct=()=>{Dt(),nt=ht=null,lt=Le=!1},$e=()=>{const bt=nt;ct(),null==bt||bt.unsubscribe()};return(0,de.e)((bt,Rt)=>{yt++,!Le&&!lt&&Dt();const Ut=ht=null!=ht?ht:De();Rt.add(()=>{yt--,0===yt&&!Le&&!lt&&(dt=Ae($e,be))}),Ut.subscribe(Rt),nt||(nt=new Se.Hp({next:ge=>Ut.next(ge),error:ge=>{Le=!0,Dt(),dt=Ae(ct,ce,ge),Ut.error(ge)},complete:()=>{lt=!0,Dt(),dt=Ae(ct,he),Ut.complete()}}),(0,_.D)(bt).subscribe(nt))})(Ye)}}function Ae(me,De,...ce){return!0===De?(me(),null):!1===De?null:De(...ce).pipe((0,Z.q)(1)).subscribe(()=>me())}},5684:(je,ve,L)=>{"use strict";L.d(ve,{T:()=>Z});var _=L(9300);function Z(ie){return(0,_.h)((Se,de)=>ie<=de)}},8675:(je,ve,L)=>{"use strict";L.d(ve,{O:()=>Se});var _=L(7272),Z=L(7669),ie=L(4482);function Se(...de){const Ne=(0,Z.yG)(de);return(0,ie.e)((Ae,me)=>{(Ne?(0,_.z)(de,Ae,Ne):(0,_.z)(de,Ae)).subscribe(me)})}},9468:(je,ve,L)=>{"use strict";L.d(ve,{R:()=>Z});var _=L(4482);function Z(ie,Se=0){return(0,_.e)((de,Ne)=>{Ne.add(ie.schedule(()=>de.subscribe(Ne),Se))})}},3900:(je,ve,L)=>{"use strict";L.d(ve,{w:()=>Se});var _=L(8421),Z=L(4482),ie=L(5403);function Se(de,Ne){return(0,Z.e)((Ae,me)=>{let De=null,ce=0,he=!1;const be=()=>he&&!De&&me.complete();Ae.subscribe((0,ie.x)(me,Ye=>{null==De||De.unsubscribe();let nt=0;const dt=ce++;(0,_.Xf)(de(Ye,dt)).subscribe(De=(0,ie.x)(me,ht=>me.next(Ne?Ne(Ye,ht,dt,nt++):ht),()=>{De=null,be()}))},()=>{he=!0,be()}))})}},5698:(je,ve,L)=>{"use strict";L.d(ve,{q:()=>Se});var _=L(515),Z=L(4482),ie=L(5403);function Se(de){return de<=0?()=>_.E:(0,Z.e)((Ne,Ae)=>{let me=0;Ne.subscribe((0,ie.x)(Ae,De=>{++me<=de&&(Ae.next(De),de<=me&&Ae.complete())}))})}},2722:(je,ve,L)=>{"use strict";L.d(ve,{R:()=>de});var _=L(4482),Z=L(5403),ie=L(8421),Se=L(5032);function de(Ne){return(0,_.e)((Ae,me)=>{(0,ie.Xf)(Ne).subscribe((0,Z.x)(me,()=>me.complete(),Se.Z)),!me.closed&&Ae.subscribe(me)})}},8505:(je,ve,L)=>{"use strict";L.d(ve,{b:()=>de});var _=L(576),Z=L(4482),ie=L(5403),Se=L(4671);function de(Ne,Ae,me){const De=(0,_.m)(Ne)||Ae||me?{next:Ne,error:Ae,complete:me}:Ne;return De?(0,Z.e)((ce,he)=>{var be;null===(be=De.subscribe)||void 0===be||be.call(De);let Ye=!0;ce.subscribe((0,ie.x)(he,nt=>{var dt;null===(dt=De.next)||void 0===dt||dt.call(De,nt),he.next(nt)},()=>{var nt;Ye=!1,null===(nt=De.complete)||void 0===nt||nt.call(De),he.complete()},nt=>{var dt;Ye=!1,null===(dt=De.error)||void 0===dt||dt.call(De,nt),he.error(nt)},()=>{var nt,dt;Ye&&(null===(nt=De.unsubscribe)||void 0===nt||nt.call(De)),null===(dt=De.finalize)||void 0===dt||dt.call(De)}))}):Se.y}},8068:(je,ve,L)=>{"use strict";L.d(ve,{T:()=>Se});var _=L(6805),Z=L(4482),ie=L(5403);function Se(Ne=de){return(0,Z.e)((Ae,me)=>{let De=!1;Ae.subscribe((0,ie.x)(me,ce=>{De=!0,me.next(ce)},()=>De?me.complete():me.error(Ne())))})}function de(){return new _.K}},1749:(je,ve,L)=>{"use strict";L.d(ve,{V:()=>De});var _=L(4986),ie=L(4482),Se=L(8421),de=L(3888),Ne=L(5403),Ae=L(9672);const me=(0,de.d)(he=>function(Ye=null){he(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ye});function De(he,be){const{first:Ye,each:nt,with:dt=ce,scheduler:ht=(null!=be?be:_.z),meta:yt=null}=function Z(he){return he instanceof Date&&!isNaN(he)}(he)?{first:he}:"number"==typeof he?{each:he}:he;if(null==Ye&&null==nt)throw new TypeError("No timeout provided.");return(0,ie.e)((lt,Le)=>{let Dt,ct,$e=null,bt=0;const Rt=Ut=>{ct=(0,Ae.f)(Le,ht,()=>{try{Dt.unsubscribe(),(0,Se.Xf)(dt({meta:yt,lastValue:$e,seen:bt})).subscribe(Le)}catch(ge){Le.error(ge)}},Ut)};Dt=lt.subscribe((0,Ne.x)(Le,Ut=>{null==ct||ct.unsubscribe(),bt++,Le.next($e=Ut),nt>0&&Rt(nt)},void 0,void 0,()=>{(null==ct?void 0:ct.closed)||null==ct||ct.unsubscribe(),$e=null})),!bt&&Rt(null!=Ye?"number"==typeof Ye?Ye:+Ye-ht.now():nt)})}function ce(he){throw new me(he)}},1365:(je,ve,L)=>{"use strict";L.d(ve,{M:()=>Ae});var _=L(4482),Z=L(5403),ie=L(8421),Se=L(4671),de=L(5032),Ne=L(7669);function Ae(...me){const De=(0,Ne.jO)(me);return(0,_.e)((ce,he)=>{const be=me.length,Ye=new Array(be);let nt=me.map(()=>!1),dt=!1;for(let ht=0;ht<be;ht++)(0,ie.Xf)(me[ht]).subscribe((0,Z.x)(he,yt=>{Ye[ht]=yt,!dt&&!nt[ht]&&(nt[ht]=!0,(dt=nt.every(Se.y))&&(nt=null))},de.Z));ce.subscribe((0,Z.x)(he,ht=>{if(dt){const yt=[ht,...Ye];he.next(De?De(...yt):yt)}}))})}},4408:(je,ve,L)=>{"use strict";L.d(ve,{o:()=>de});var _=L(727);class Z extends _.w0{constructor(Ae,me){super()}schedule(Ae,me=0){return this}}const ie={setInterval(Ne,Ae,...me){const{delegate:De}=ie;return(null==De?void 0:De.setInterval)?De.setInterval(Ne,Ae,...me):setInterval(Ne,Ae,...me)},clearInterval(Ne){const{delegate:Ae}=ie;return((null==Ae?void 0:Ae.clearInterval)||clearInterval)(Ne)},delegate:void 0};var Se=L(8737);class de extends Z{constructor(Ae,me){super(Ae,me),this.scheduler=Ae,this.work=me,this.pending=!1}schedule(Ae,me=0){if(this.closed)return this;this.state=Ae;const De=this.id,ce=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ce,De,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(ce,this.id,me),this}requestAsyncId(Ae,me,De=0){return ie.setInterval(Ae.flush.bind(Ae,this),De)}recycleAsyncId(Ae,me,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return me;ie.clearInterval(me)}execute(Ae,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(Ae,me);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,me){let ce,De=!1;try{this.work(Ae)}catch(he){De=!0,ce=he||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:me}=this,{actions:De}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(De,this),null!=Ae&&(this.id=this.recycleAsyncId(me,Ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(je,ve,L)=>{"use strict";L.d(ve,{v:()=>ie});var _=L(6063);class Z{constructor(de,Ne=Z.now){this.schedulerActionCtor=de,this.now=Ne}schedule(de,Ne=0,Ae){return new this.schedulerActionCtor(this,de).schedule(Ae,Ne)}}Z.now=_.l.now;class ie extends Z{constructor(de,Ne=Z.now){super(de,Ne),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:Ne}=this;if(this._active)return void Ne.push(de);let Ae;this._active=!0;do{if(Ae=de.execute(de.state,de.delay))break}while(de=Ne.shift());if(this._active=!1,Ae){for(;de=Ne.shift();)de.unsubscribe();throw Ae}}}},4986:(je,ve,L)=>{"use strict";L.d(ve,{z:()=>ie});var _=L(4408);const ie=new(L(7565).v)(_.o)},6063:(je,ve,L)=>{"use strict";L.d(ve,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},233:(je,ve,L)=>{"use strict";L.d(ve,{N:()=>de});var _=L(4408),ie=L(7565);const de=new class Se extends ie.v{}(class Z extends _.o{constructor(me,De){super(me,De),this.scheduler=me,this.work=De}schedule(me,De=0){return De>0?super.schedule(me,De):(this.delay=De,this.state=me,this.scheduler.flush(this),this)}execute(me,De){return De>0||this.closed?super.execute(me,De):this._execute(me,De)}requestAsyncId(me,De,ce=0){return null!=ce&&ce>0||null==ce&&this.delay>0?super.requestAsyncId(me,De,ce):me.flush(this)}})},3410:(je,ve,L)=>{"use strict";L.d(ve,{z:()=>_});const _={setTimeout(Z,ie,...Se){const{delegate:de}=_;return(null==de?void 0:de.setTimeout)?de.setTimeout(Z,ie,...Se):setTimeout(Z,ie,...Se)},clearTimeout(Z){const{delegate:ie}=_;return((null==ie?void 0:ie.clearTimeout)||clearTimeout)(Z)},delegate:void 0}},2202:(je,ve,L)=>{"use strict";L.d(ve,{h:()=>Z});const Z=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(je,ve,L)=>{"use strict";L.d(ve,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(je,ve,L)=>{"use strict";L.d(ve,{K:()=>Z});const Z=(0,L(3888).d)(ie=>function(){ie(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(je,ve,L)=>{"use strict";L.d(ve,{_6:()=>Ne,jO:()=>Se,yG:()=>de});var _=L(576);function ie(Ae){return Ae[Ae.length-1]}function Se(Ae){return(0,_.m)(ie(Ae))?Ae.pop():void 0}function de(Ae){return function Z(Ae){return Ae&&(0,_.m)(Ae.schedule)}(ie(Ae))?Ae.pop():void 0}function Ne(Ae,me){return"number"==typeof ie(Ae)?Ae.pop():me}},4742:(je,ve,L)=>{"use strict";L.d(ve,{D:()=>de});const{isArray:_}=Array,{getPrototypeOf:Z,prototype:ie,keys:Se}=Object;function de(Ae){if(1===Ae.length){const me=Ae[0];if(_(me))return{args:me,keys:null};if(function Ne(Ae){return Ae&&"object"==typeof Ae&&Z(Ae)===ie}(me)){const De=Se(me);return{args:De.map(ce=>me[ce]),keys:De}}}return{args:Ae,keys:null}}},8737:(je,ve,L)=>{"use strict";function _(Z,ie){if(Z){const Se=Z.indexOf(ie);0<=Se&&Z.splice(Se,1)}}L.d(ve,{P:()=>_})},3888:(je,ve,L)=>{"use strict";function _(Z){const Se=Z(de=>{Error.call(de),de.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}L.d(ve,{d:()=>_})},1810:(je,ve,L)=>{"use strict";function _(Z,ie){return Z.reduce((Se,de,Ne)=>(Se[de]=ie[Ne],Se),{})}L.d(ve,{n:()=>_})},2806:(je,ve,L)=>{"use strict";L.d(ve,{O:()=>Se,x:()=>ie});var _=L(2416);let Z=null;function ie(de){if(_.v.useDeprecatedSynchronousErrorHandling){const Ne=!Z;if(Ne&&(Z={errorThrown:!1,error:null}),de(),Ne){const{errorThrown:Ae,error:me}=Z;if(Z=null,Ae)throw me}}else de()}function Se(de){_.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=de)}},9672:(je,ve,L)=>{"use strict";function _(Z,ie,Se,de=0,Ne=!1){const Ae=ie.schedule(function(){Se(),Ne?Z.add(this.schedule(null,de)):this.unsubscribe()},de);if(Z.add(Ae),!Ne)return Ae}L.d(ve,{f:()=>_})},4671:(je,ve,L)=>{"use strict";function _(Z){return Z}L.d(ve,{y:()=>_})},1144:(je,ve,L)=>{"use strict";L.d(ve,{z:()=>_});const _=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(je,ve,L)=>{"use strict";L.d(ve,{D:()=>Z});var _=L(576);function Z(ie){return Symbol.asyncIterator&&(0,_.m)(null==ie?void 0:ie[Symbol.asyncIterator])}},576:(je,ve,L)=>{"use strict";function _(Z){return"function"==typeof Z}L.d(ve,{m:()=>_})},3670:(je,ve,L)=>{"use strict";L.d(ve,{c:()=>ie});var _=L(8822),Z=L(576);function ie(Se){return(0,Z.m)(Se[_.L])}},6495:(je,ve,L)=>{"use strict";L.d(ve,{T:()=>ie});var _=L(2202),Z=L(576);function ie(Se){return(0,Z.m)(null==Se?void 0:Se[_.h])}},8239:(je,ve,L)=>{"use strict";L.d(ve,{t:()=>Z});var _=L(576);function Z(ie){return(0,_.m)(null==ie?void 0:ie.then)}},3260:(je,ve,L)=>{"use strict";L.d(ve,{L:()=>Se,Q:()=>ie});var _=L(655),Z=L(576);function ie(de){return(0,_.FC)(this,arguments,function*(){const Ae=de.getReader();try{for(;;){const{value:me,done:De}=yield(0,_.qq)(Ae.read());if(De)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(me)}}finally{Ae.releaseLock()}})}function Se(de){return(0,Z.m)(null==de?void 0:de.getReader)}},4482:(je,ve,L)=>{"use strict";L.d(ve,{A:()=>Z,e:()=>ie});var _=L(576);function Z(Se){return(0,_.m)(null==Se?void 0:Se.lift)}function ie(Se){return de=>{if(Z(de))return de.lift(function(Ne){try{return Se(Ne,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(je,ve,L)=>{"use strict";L.d(ve,{Z:()=>Se});var _=L(4004);const{isArray:Z}=Array;function Se(de){return(0,_.U)(Ne=>function ie(de,Ne){return Z(Ne)?de(...Ne):de(Ne)}(de,Ne))}},5032:(je,ve,L)=>{"use strict";function _(){}L.d(ve,{Z:()=>_})},7849:(je,ve,L)=>{"use strict";L.d(ve,{h:()=>ie});var _=L(2416),Z=L(3410);function ie(Se){Z.z.setTimeout(()=>{const{onUnhandledError:de}=_.v;if(!de)throw Se;de(Se)})}},4532:(je,ve,L)=>{"use strict";function _(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ve,{z:()=>_})},5226:function(je){je.exports=function(){"use strict";const ve="SweetAlert2:",_=M=>M.charAt(0).toUpperCase()+M.slice(1),Z=M=>Array.prototype.slice.call(M),ie=M=>{console.warn("".concat(ve," ").concat("object"==typeof M?M.join(" "):M))},Se=M=>{console.error("".concat(ve," ").concat(M))},de=[],Ae=(M,k)=>{(M=>{de.includes(M)||(de.push(M),ie(M))})('"'.concat(M,'" is deprecated and will be removed in the next major release. Please use "').concat(k,'" instead.'))},me=M=>"function"==typeof M?M():M,De=M=>M&&"function"==typeof M.toPromise,ce=M=>De(M)?M.toPromise():Promise.resolve(M),he=M=>M&&Promise.resolve(M)===M,Ye={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},nt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],dt={},ht=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yt=M=>Object.prototype.hasOwnProperty.call(Ye,M),lt=M=>-1!==nt.indexOf(M),Le=M=>dt[M],Dt=M=>{yt(M)||ie('Unknown parameter "'.concat(M,'"'))},ct=M=>{ht.includes(M)&&ie('The parameter "'.concat(M,'" is incompatible with toasts'))},$e=M=>{Le(M)&&Ae(M,Le(M))},Ut=M=>{const k={};for(const q in M)k[M[q]]="swal2-"+M[q];return k},ge=Ut(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Xt=Ut(["success","warning","info","question","error"]),Xe=()=>document.body.querySelector(".".concat(ge.container)),st=M=>{const k=Xe();return k?k.querySelector(M):null},et=M=>st(".".concat(M)),ut=()=>et(ge.popup),ot=()=>et(ge.icon),Mt=()=>et(ge.title),Pt=()=>et(ge["html-container"]),gn=()=>et(ge.image),Mn=()=>et(ge["progress-steps"]),Bt=()=>et(ge["validation-message"]),jt=()=>st(".".concat(ge.actions," .").concat(ge.confirm)),cn=()=>st(".".concat(ge.actions," .").concat(ge.deny)),on=()=>st(".".concat(ge.loader)),qn=()=>st(".".concat(ge.actions," .").concat(ge.cancel)),Gt=()=>et(ge.actions),kn=()=>et(ge.footer),Xn=()=>et(ge["timer-progress-bar"]),Un=()=>et(ge.close),vr=()=>{const M=Z(ut().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((q,re)=>{const Ge=parseInt(q.getAttribute("tabindex")),ln=parseInt(re.getAttribute("tabindex"));return Ge>ln?1:Ge<ln?-1:0}),k=Z(ut().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(q=>"-1"!==q.getAttribute("tabindex"));return(M=>{const k=[];for(let q=0;q<M.length;q++)-1===k.indexOf(M[q])&&k.push(M[q]);return k})(M.concat(k)).filter(q=>Pn(q))},Tr=()=>$n(document.body,ge.shown)&&!$n(document.body,ge["toast-shown"])&&!$n(document.body,ge["no-backdrop"]),br=()=>ut()&&$n(ut(),ge.toast),Br={previousBodyPadding:null},Ft=(M,k)=>{if(M.textContent="",k){const re=(new DOMParser).parseFromString(k,"text/html");Z(re.querySelector("head").childNodes).forEach(Ge=>{M.appendChild(Ge)}),Z(re.querySelector("body").childNodes).forEach(Ge=>{M.appendChild(Ge)})}},$n=(M,k)=>{if(!k)return!1;const q=k.split(/\s+/);for(let re=0;re<q.length;re++)if(!M.classList.contains(q[re]))return!1;return!0},Ln=(M,k,q)=>{if(((M,k)=>{Z(M.classList).forEach(q=>{!Object.values(ge).includes(q)&&!Object.values(Xt).includes(q)&&!Object.values(k.showClass).includes(q)&&M.classList.remove(q)})})(M,k),k.customClass&&k.customClass[q]){if("string"!=typeof k.customClass[q]&&!k.customClass[q].forEach)return ie("Invalid type of customClass.".concat(q,'! Expected string or iterable object, got "').concat(typeof k.customClass[q],'"'));rn(M,k.customClass[q])}},Ur=(M,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return M.querySelector(".".concat(ge.popup," > .").concat(ge[k]));case"checkbox":return M.querySelector(".".concat(ge.popup," > .").concat(ge.checkbox," input"));case"radio":return M.querySelector(".".concat(ge.popup," > .").concat(ge.radio," input:checked"))||M.querySelector(".".concat(ge.popup," > .").concat(ge.radio," input:first-child"));case"range":return M.querySelector(".".concat(ge.popup," > .").concat(ge.range," input"));default:return M.querySelector(".".concat(ge.popup," > .").concat(ge.input))}},Li=M=>{if(M.focus(),"file"!==M.type){const k=M.value;M.value="",M.value=k}},Mr=(M,k,q)=>{!M||!k||("string"==typeof k&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(re=>{Array.isArray(M)?M.forEach(Ge=>{q?Ge.classList.add(re):Ge.classList.remove(re)}):q?M.classList.add(re):M.classList.remove(re)}))},rn=(M,k)=>{Mr(M,k,!0)},xr=(M,k)=>{Mr(M,k,!1)},er=(M,k)=>{const q=Z(M.childNodes);for(let re=0;re<q.length;re++)if($n(q[re],k))return q[re]},qt=(M,k,q)=>{q==="".concat(parseInt(q))&&(q=parseInt(q)),q||0===parseInt(q)?M.style[k]="number"==typeof q?"".concat(q,"px"):q:M.style.removeProperty(k)},tn=function(M){M.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},an=M=>{M.style.display="none"},Or=(M,k,q,re)=>{const Ge=M.querySelector(k);Ge&&(Ge.style[q]=re)},jr=(M,k,q)=>{k?tn(M,q):an(M)},Pn=M=>!(!M||!(M.offsetWidth||M.offsetHeight||M.getClientRects().length)),Qr=M=>M.scrollHeight>M.clientHeight,kr=M=>{const k=window.getComputedStyle(M),q=parseFloat(k.getPropertyValue("animation-duration")||"0"),re=parseFloat(k.getPropertyValue("transition-duration")||"0");return q>0||re>0},Tn=function(M){let k=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const q=Xn();Pn(q)&&(k&&(q.style.transition="none",q.style.width="100%"),setTimeout(()=>{q.style.transition="width ".concat(M/1e3,"s linear"),q.style.width="0%"},10))},Jn=()=>"undefined"==typeof window||"undefined"==typeof document,we={},_e=M=>new Promise(k=>{if(!M)return k();const q=window.scrollX,re=window.scrollY;we.restoreFocusTimeout=setTimeout(()=>{we.previousActiveElement&&we.previousActiveElement.focus?(we.previousActiveElement.focus(),we.previousActiveElement=null):document.body&&document.body.focus(),k()},100),window.scrollTo(q,re)}),it='\n <div aria-labelledby="'.concat(ge.title,'" aria-describedby="').concat(ge["html-container"],'" class="').concat(ge.popup,'" tabindex="-1">\n   <button type="button" class="').concat(ge.close,'"></button>\n   <ul class="').concat(ge["progress-steps"],'"></ul>\n   <div class="').concat(ge.icon,'"></div>\n   <img class="').concat(ge.image,'" />\n   <h2 class="').concat(ge.title,'" id="').concat(ge.title,'"></h2>\n   <div class="').concat(ge["html-container"],'" id="').concat(ge["html-container"],'"></div>\n   <input class="').concat(ge.input,'" />\n   <input type="file" class="').concat(ge.file,'" />\n   <div class="').concat(ge.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(ge.select,'"></select>\n   <div class="').concat(ge.radio,'"></div>\n   <label for="').concat(ge.checkbox,'" class="').concat(ge.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(ge.label,'"></span>\n   </label>\n   <textarea class="').concat(ge.textarea,'"></textarea>\n   <div class="').concat(ge["validation-message"],'" id="').concat(ge["validation-message"],'"></div>\n   <div class="').concat(ge.actions,'">\n     <div class="').concat(ge.loader,'"></div>\n     <button type="button" class="').concat(ge.confirm,'"></button>\n     <button type="button" class="').concat(ge.deny,'"></button>\n     <button type="button" class="').concat(ge.cancel,'"></button>\n   </div>\n   <div class="').concat(ge.footer,'"></div>\n   <div class="').concat(ge["timer-progress-bar-container"],'">\n     <div class="').concat(ge["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Te=()=>{we.currentInstance.resetValidationMessage()},Zt=M=>{const k=(()=>{const M=Xe();return!!M&&(M.remove(),xr([document.documentElement,document.body],[ge["no-backdrop"],ge["toast-shown"],ge["has-column"]]),!0)})();if(Jn())return void Se("SweetAlert2 requires document to initialize");const q=document.createElement("div");q.className=ge.container,k&&rn(q,ge["no-transition"]),Ft(q,it);const re=(M=>"string"==typeof M?document.querySelector(M):M)(M.target);re.appendChild(q),(M=>{const k=ut();k.setAttribute("role",M.toast?"alert":"dialog"),k.setAttribute("aria-live",M.toast?"polite":"assertive"),M.toast||k.setAttribute("aria-modal","true")})(M),(M=>{"rtl"===window.getComputedStyle(M).direction&&rn(Xe(),ge.rtl)})(re),(()=>{const M=ut(),k=er(M,ge.input),q=er(M,ge.file),re=M.querySelector(".".concat(ge.range," input")),Ge=M.querySelector(".".concat(ge.range," output")),ln=er(M,ge.select),wi=M.querySelector(".".concat(ge.checkbox," input")),Si=er(M,ge.textarea);k.oninput=Te,q.onchange=Te,ln.onchange=Te,wi.onchange=Te,Si.oninput=Te,re.oninput=()=>{Te(),Ge.value=re.value},re.onchange=()=>{Te(),re.nextSibling.value=re.value}})(),vn(q,M)},vn=(M,k)=>{if(k.toast)return;const q=(M=>M[Math.floor(Math.random()*M.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const re=document.createElement("div");re.className=ge["no-war"],Ft(re,'<a href="https://www.youtube.com/watch?v='.concat(q.youtubeId,'" target="_blank">').concat(q.text,"</a>")),M.appendChild(re),M.style.paddingTop="4em"}},bn=(M,k)=>{M instanceof HTMLElement?k.appendChild(M):"object"==typeof M?Rn(M,k):M&&Ft(k,M)},Rn=(M,k)=>{M.jquery?tr(k,M):Ft(k,M.toString())},tr=(M,k)=>{if(M.textContent="",0 in k)for(let q=0;q in k;q++)M.appendChild(k[q].cloneNode(!0));else M.appendChild(k.cloneNode(!0))},yr=(()=>{if(Jn())return!1;const M=document.createElement("div"),k={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const q in k)if(Object.prototype.hasOwnProperty.call(k,q)&&void 0!==M.style[q])return k[q];return!1})(),cr=(M,k)=>{const q=Gt(),re=on();k.showConfirmButton||k.showDenyButton||k.showCancelButton?tn(q):an(q),Ln(q,k,"actions"),function si(M,k,q){const re=jt(),Ge=cn(),ln=qn();Ti(re,"confirm",q),Ti(Ge,"deny",q),Ti(ln,"cancel",q),function hi(M,k,q,re){if(!re.buttonsStyling)return xr([M,k,q],ge.styled);rn([M,k,q],ge.styled),re.confirmButtonColor&&(M.style.backgroundColor=re.confirmButtonColor,rn(M,ge["default-outline"])),re.denyButtonColor&&(k.style.backgroundColor=re.denyButtonColor,rn(k,ge["default-outline"])),re.cancelButtonColor&&(q.style.backgroundColor=re.cancelButtonColor,rn(q,ge["default-outline"]))}(re,Ge,ln,q),q.reverseButtons&&(q.toast?(M.insertBefore(ln,re),M.insertBefore(Ge,re)):(M.insertBefore(ln,k),M.insertBefore(Ge,k),M.insertBefore(re,k)))}(q,re,k),Ft(re,k.loaderHtml),Ln(re,k,"loader")};function Ti(M,k,q){jr(M,q["show".concat(_(k),"Button")],"inline-block"),Ft(M,q["".concat(k,"ButtonText")]),M.setAttribute("aria-label",q["".concat(k,"ButtonAriaLabel")]),M.className=ge[k],Ln(M,q,"".concat(k,"Button")),rn(M,q["".concat(k,"ButtonClass")])}const Pi=(M,k)=>{const q=Xe();!q||(function ai(M,k){"string"==typeof k?M.style.background=k:k||rn([document.documentElement,document.body],ge["no-backdrop"])}(q,k.backdrop),function ni(M,k){k in ge?rn(M,ge[k]):(ie('The "position" parameter is not valid, defaulting to "center"'),rn(M,ge.center))}(q,k.position),function Fr(M,k){if(k&&"string"==typeof k){const q="grow-".concat(k);q in ge&&rn(M,ge[q])}}(q,k.grow),Ln(q,k,"container"))};var Nn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Vt=["input","file","range","select","radio","checkbox","textarea"],hr=M=>{if(!qr[M.input])return Se('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(M.input,'"'));const k=Nr(M.input),q=qr[M.input](k,M);tn(q),setTimeout(()=>{Li(q)})},Fi=(M,k)=>{const q=Ur(ut(),M);if(q){(M=>{for(let k=0;k<M.attributes.length;k++){const q=M.attributes[k].name;["type","value","style"].includes(q)||M.removeAttribute(q)}})(q);for(const re in k)q.setAttribute(re,k[re])}},Hr=M=>{const k=Nr(M.input);M.customClass&&rn(k,M.customClass.input)},fi=(M,k)=>{(!M.placeholder||k.inputPlaceholder)&&(M.placeholder=k.inputPlaceholder)},fr=(M,k,q)=>{if(q.inputLabel){M.id=ge.input;const re=document.createElement("label"),Ge=ge["input-label"];re.setAttribute("for",M.id),re.className=Ge,rn(re,q.customClass.inputLabel),re.innerText=q.inputLabel,k.insertAdjacentElement("beforebegin",re)}},Nr=M=>{const k=ge[M]?ge[M]:ge.input;return er(ut(),k)},qr={},Zn=(M,k)=>{["string","number"].includes(typeof k.inputValue)?M.value="".concat(k.inputValue):he(k.inputValue)||ie('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof k.inputValue,'"'))};qr.text=qr.email=qr.password=qr.number=qr.tel=qr.url=(M,k)=>(Zn(M,k),fr(M,M,k),fi(M,k),M.type=k.input,M),qr.file=(M,k)=>(fr(M,M,k),fi(M,k),M),qr.range=(M,k)=>{const q=M.querySelector("input"),re=M.querySelector("output");return q.value=k.inputValue,q.type=k.input,re.value=k.inputValue,fr(q,M,k),M},qr.select=(M,k)=>{if(M.textContent="",k.inputPlaceholder){const q=document.createElement("option");Ft(q,k.inputPlaceholder),q.value="",q.disabled=!0,q.selected=!0,M.appendChild(q)}return fr(M,M,k),M},qr.radio=M=>(M.textContent="",M),qr.checkbox=(M,k)=>{const q=Ur(ut(),"checkbox");q.value="1",q.id=ge.checkbox,q.checked=Boolean(k.inputValue);const re=M.querySelector("span");return Ft(re,k.inputPlaceholder),M},qr.textarea=(M,k)=>{Zn(M,k),fi(M,k),fr(M,M,k);return setTimeout(()=>{if("MutationObserver"in window){const re=parseInt(window.getComputedStyle(ut()).width);new MutationObserver(()=>{const ln=M.offsetWidth+(re=>parseInt(window.getComputedStyle(re).marginLeft)+parseInt(window.getComputedStyle(re).marginRight))(M);ut().style.width=ln>re?"".concat(ln,"px"):null}).observe(M,{attributes:!0,attributeFilter:["style"]})}}),M};const Xr=(M,k)=>{const q=Pt();Ln(q,k,"htmlContainer"),k.html?(bn(k.html,q),tn(q,"block")):k.text?(q.textContent=k.text,tn(q,"block")):an(q),((M,k)=>{const q=ut(),re=Nn.innerParams.get(M),Ge=!re||k.input!==re.input;Vt.forEach(ln=>{const wi=ge[ln],Si=er(q,wi);Fi(ln,k.inputAttributes),Si.className=wi,Ge&&an(Si)}),k.input&&(Ge&&hr(k),Hr(k))})(M,k)},Zr=(M,k)=>{for(const q in Xt)k.icon!==q&&xr(M,Xt[q]);rn(M,Xt[k.icon]),_t(M,k),Sn(),Ln(M,k,"icon")},Sn=()=>{const M=ut(),k=window.getComputedStyle(M).getPropertyValue("background-color"),q=M.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let re=0;re<q.length;re++)q[re].style.backgroundColor=k},qe=(M,k)=>{M.textContent="",Ft(M,k.iconHtml?Ht(k.iconHtml):"success"===k.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===k.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ht({question:"?",warning:"!",info:"i"}[k.icon]))},_t=(M,k)=>{if(k.iconColor){M.style.color=k.iconColor,M.style.borderColor=k.iconColor;for(const q of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Or(M,q,"backgroundColor",k.iconColor);Or(M,".swal2-success-ring","borderColor",k.iconColor)}},Ht=M=>'<div class="'.concat(ge["icon-content"],'">').concat(M,"</div>"),xe=(M,k)=>{const q=Mn();if(!k.progressSteps||0===k.progressSteps.length)return an(q);tn(q),q.textContent="",k.currentProgressStep>=k.progressSteps.length&&ie("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.progressSteps.forEach((re,Ge)=>{const ln=(M=>{const k=document.createElement("li");return rn(k,ge["progress-step"]),Ft(k,M),k})(re);if(q.appendChild(ln),Ge===k.currentProgressStep&&rn(ln,ge["active-progress-step"]),Ge!==k.progressSteps.length-1){const wi=(M=>{const k=document.createElement("li");return rn(k,ge["progress-step-line"]),M.progressStepsDistance&&(k.style.width=M.progressStepsDistance),k})(k);q.appendChild(wi)}})},It=(M,k)=>{M.className="".concat(ge.popup," ").concat(Pn(M)?k.showClass.popup:""),k.toast?(rn([document.documentElement,document.body],ge["toast-shown"]),rn(M,ge.toast)):rn(M,ge.modal),Ln(M,k,"popup"),"string"==typeof k.customClass&&rn(M,k.customClass),k.icon&&rn(M,ge["icon-".concat(k.icon)])},In=(M,k)=>{((M,k)=>{const q=Xe(),re=ut();k.toast?(qt(q,"width",k.width),re.style.width="100%",re.insertBefore(on(),ot())):qt(re,"width",k.width),qt(re,"padding",k.padding),k.color&&(re.style.color=k.color),k.background&&(re.style.background=k.background),an(Bt()),It(re,k)})(0,k),Pi(0,k),xe(0,k),((M,k)=>{const q=Nn.innerParams.get(M),re=ot();q&&k.icon===q.icon?(qe(re,k),Zr(re,k)):k.icon||k.iconHtml?k.icon&&-1===Object.keys(Xt).indexOf(k.icon)?(Se('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(k.icon,'"')),an(re)):(tn(re),qe(re,k),Zr(re,k),rn(re,k.showClass.icon)):an(re)})(M,k),((M,k)=>{const q=gn();if(!k.imageUrl)return an(q);tn(q,""),q.setAttribute("src",k.imageUrl),q.setAttribute("alt",k.imageAlt),qt(q,"width",k.imageWidth),qt(q,"height",k.imageHeight),q.className=ge.image,Ln(q,k,"image")})(0,k),((M,k)=>{const q=Mt();jr(q,k.title||k.titleText,"block"),k.title&&bn(k.title,q),k.titleText&&(q.innerText=k.titleText),Ln(q,k,"title")})(0,k),((M,k)=>{const q=Un();Ft(q,k.closeButtonHtml),Ln(q,k,"closeButton"),jr(q,k.showCloseButton),q.setAttribute("aria-label",k.closeButtonAriaLabel)})(0,k),Xr(M,k),cr(0,k),((M,k)=>{const q=kn();jr(q,k.footer),k.footer&&bn(k.footer,q),Ln(q,k,"footer")})(0,k),"function"==typeof k.didRender&&k.didRender(ut())},nr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Bi=()=>{Z(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},Zs=["swal-title","swal-html","swal-footer"],We=M=>{const k={};return Z(M.querySelectorAll("swal-param")).forEach(q=>{wr(q,["name","value"]);const re=q.getAttribute("name"),Ge=q.getAttribute("value");"boolean"==typeof Ye[re]&&"false"===Ge&&(k[re]=!1),"object"==typeof Ye[re]&&(k[re]=JSON.parse(Ge))}),k},pt=M=>{const k={};return Z(M.querySelectorAll("swal-button")).forEach(q=>{wr(q,["type","color","aria-label"]);const re=q.getAttribute("type");k["".concat(re,"ButtonText")]=q.innerHTML,k["show".concat(_(re),"Button")]=!0,q.hasAttribute("color")&&(k["".concat(re,"ButtonColor")]=q.getAttribute("color")),q.hasAttribute("aria-label")&&(k["".concat(re,"ButtonAriaLabel")]=q.getAttribute("aria-label"))}),k},kt=M=>{const k={},q=M.querySelector("swal-image");return q&&(wr(q,["src","width","height","alt"]),q.hasAttribute("src")&&(k.imageUrl=q.getAttribute("src")),q.hasAttribute("width")&&(k.imageWidth=q.getAttribute("width")),q.hasAttribute("height")&&(k.imageHeight=q.getAttribute("height")),q.hasAttribute("alt")&&(k.imageAlt=q.getAttribute("alt"))),k},Kt=M=>{const k={},q=M.querySelector("swal-icon");return q&&(wr(q,["type","color"]),q.hasAttribute("type")&&(k.icon=q.getAttribute("type")),q.hasAttribute("color")&&(k.iconColor=q.getAttribute("color")),k.iconHtml=q.innerHTML),k},pn=M=>{const k={},q=M.querySelector("swal-input");q&&(wr(q,["type","label","placeholder","value"]),k.input=q.getAttribute("type")||"text",q.hasAttribute("label")&&(k.inputLabel=q.getAttribute("label")),q.hasAttribute("placeholder")&&(k.inputPlaceholder=q.getAttribute("placeholder")),q.hasAttribute("value")&&(k.inputValue=q.getAttribute("value")));const re=M.querySelectorAll("swal-input-option");return re.length&&(k.inputOptions={},Z(re).forEach(Ge=>{wr(Ge,["value"]);const ln=Ge.getAttribute("value");k.inputOptions[ln]=Ge.innerHTML})),k},Yn=(M,k)=>{const q={};for(const re in k){const Ge=k[re],ln=M.querySelector(Ge);ln&&(wr(ln,[]),q[Ge.replace(/^swal-/,"")]=ln.innerHTML.trim())}return q},li=M=>{const k=Zs.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Z(M.children).forEach(q=>{const re=q.tagName.toLowerCase();-1===k.indexOf(re)&&ie("Unrecognized element <".concat(re,">"))})},wr=(M,k)=>{Z(M.attributes).forEach(q=>{-1===k.indexOf(q.name)&&ie(['Unrecognized attribute "'.concat(q.name,'" on <').concat(M.tagName.toLowerCase(),">."),"".concat(k.length?"Allowed attributes are: ".concat(k.join(", ")):"To set the value, use HTML within the element.")])})};var pi={email:(M,k)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(M)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(M,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(M)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function so(M){(function Ui(M){M.inputValidator||Object.keys(pi).forEach(k=>{M.input===k&&(M.inputValidator=pi[k])})})(M),M.showLoaderOnConfirm&&!M.preConfirm&&ie("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ri(M){(!M.target||"string"==typeof M.target&&!document.querySelector(M.target)||"string"!=typeof M.target&&!M.target.appendChild)&&(ie('Target parameter is not valid, defaulting to "body"'),M.target="body")}(M),"string"==typeof M.title&&(M.title=M.title.split("\n").join("<br />")),Zt(M)}class ys{constructor(k,q){this.callback=k,this.remaining=q,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(k){const q=this.running;return q&&this.stop(),this.remaining+=k,q&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ls=()=>{null===Br.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Br.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Br.previousBodyPadding+(()=>{const M=document.createElement("div");M.className=ge["scrollbar-measure"],document.body.appendChild(M);const k=M.getBoundingClientRect().width-M.clientWidth;return document.body.removeChild(M),k})(),"px"))},ki=()=>{const M=navigator.userAgent,k=!!M.match(/iPad/i)||!!M.match(/iPhone/i),q=!!M.match(/WebKit/i);k&&q&&!M.match(/CriOS/i)&&ut().scrollHeight>window.innerHeight-44&&(Xe().style.paddingBottom="".concat(44,"px"))},Os=()=>{const M=Xe();let k;M.ontouchstart=q=>{k=Ni(q)},M.ontouchmove=q=>{k&&(q.preventDefault(),q.stopPropagation())}},Ni=M=>{const k=M.target,q=Xe();return!(Ki(M)||ao(M)||k!==q&&(Qr(q)||"INPUT"===k.tagName||"TEXTAREA"===k.tagName||Qr(Pt())&&Pt().contains(k)))},Ki=M=>M.touches&&M.touches.length&&"stylus"===M.touches[0].touchType,ao=M=>M.touches&&M.touches.length>1,ji=M=>{const k=Xe(),q=ut();"function"==typeof M.willOpen&&M.willOpen(q);const Ge=window.getComputedStyle(document.body).overflowY;ds(k,q,M),setTimeout(()=>{lo(k,q)},10),Tr()&&(wo(k,M.scrollbarPadding,Ge),Z(document.body.children).forEach(k=>{k===Xe()||k.contains(Xe())||(k.hasAttribute("aria-hidden")&&k.setAttribute("data-previous-aria-hidden",k.getAttribute("aria-hidden")),k.setAttribute("aria-hidden","true"))})),!br()&&!we.previousActiveElement&&(we.previousActiveElement=document.activeElement),"function"==typeof M.didOpen&&setTimeout(()=>M.didOpen(q)),xr(k,ge["no-transition"])},Ar=M=>{const k=ut();if(M.target!==k)return;const q=Xe();k.removeEventListener(yr,Ar),q.style.overflowY="auto"},lo=(M,k)=>{yr&&kr(k)?(M.style.overflowY="hidden",k.addEventListener(yr,Ar)):M.style.overflowY="auto"},wo=(M,k,q)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!$n(document.body,ge.iosfix)){const k=document.body.scrollTop;document.body.style.top="".concat(-1*k,"px"),rn(document.body,ge.iosfix),Os(),ki()}})(),k&&"hidden"!==q&&Ls(),setTimeout(()=>{M.scrollTop=0})},ds=(M,k,q)=>{rn(M,q.showClass.backdrop),k.style.setProperty("opacity","0","important"),tn(k,"grid"),setTimeout(()=>{rn(k,q.showClass.popup),k.style.removeProperty("opacity")},10),rn([document.documentElement,document.body],ge.shown),q.heightAuto&&q.backdrop&&!q.toast&&rn([document.documentElement,document.body],ge["height-auto"])},ri=M=>{let k=ut();k||new _n,k=ut();const q=on();br()?an(ot()):hs(k,M),tn(q),k.setAttribute("data-loading",!0),k.setAttribute("aria-busy",!0),k.focus()},hs=(M,k)=>{const q=Gt(),re=on();!k&&Pn(jt())&&(k=jt()),tn(q),k&&(an(k),re.setAttribute("data-button-to-replace",k.className)),re.parentNode.insertBefore(re,k),rn([M,q],ge.loading)},Eo=M=>M.checked?1:0,Do=M=>M.checked?M.value:null,Hi=M=>M.files.length?null!==M.getAttribute("multiple")?M.files:M.files[0]:null,Co=(M,k)=>{const q=ut(),re=Ge=>Ir[k.input](q,$(Ge),k);De(k.inputOptions)||he(k.inputOptions)?(ri(jt()),ce(k.inputOptions).then(Ge=>{M.hideLoading(),re(Ge)})):"object"==typeof k.inputOptions?re(k.inputOptions):Se("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof k.inputOptions))},Qs=(M,k)=>{const q=M.getInput();an(q),ce(k.inputValue).then(re=>{q.value="number"===k.input?parseFloat(re)||0:"".concat(re),tn(q),q.focus(),M.hideLoading()}).catch(re=>{Se("Error in inputValue promise: ".concat(re)),q.value="",tn(q),q.focus(),M.hideLoading()})},Ir={select:(M,k,q)=>{const re=er(M,ge.select),Ge=(ln,wi,Si)=>{const vs=document.createElement("option");vs.value=Si,Ft(vs,wi),vs.selected=se(Si,q.inputValue),ln.appendChild(vs)};k.forEach(ln=>{const wi=ln[0],Si=ln[1];if(Array.isArray(Si)){const vs=document.createElement("optgroup");vs.label=wi,vs.disabled=!1,re.appendChild(vs),Si.forEach(oa=>Ge(vs,oa[1],oa[0]))}else Ge(re,Si,wi)}),re.focus()},radio:(M,k,q)=>{const re=er(M,ge.radio);k.forEach(ln=>{const wi=ln[0],Si=ln[1],vs=document.createElement("input"),oa=document.createElement("label");vs.type="radio",vs.name=ge.radio,vs.value=wi,se(wi,q.inputValue)&&(vs.checked=!0);const La=document.createElement("span");Ft(La,Si),La.className=ge.label,oa.appendChild(vs),oa.appendChild(La),re.appendChild(oa)});const Ge=re.querySelectorAll("input");Ge.length&&Ge[0].focus()}},$=M=>{const k=[];return"undefined"!=typeof Map&&M instanceof Map?M.forEach((q,re)=>{let Ge=q;"object"==typeof Ge&&(Ge=$(Ge)),k.push([re,Ge])}):Object.keys(M).forEach(q=>{let re=M[q];"object"==typeof re&&(re=$(re)),k.push([q,re])}),k},se=(M,k)=>k&&k.toString()===M.toString();function H(){const M=Nn.innerParams.get(this);if(!M)return;const k=Nn.domCache.get(this);an(k.loader),br()?M.icon&&tn(ot()):ue(k),xr([k.popup,k.actions],ge.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const ue=M=>{const k=M.popup.getElementsByClassName(M.loader.getAttribute("data-button-to-replace"));k.length?tn(k[0],"inline-block"):!Pn(jt())&&!Pn(cn())&&!Pn(qn())&&an(M.actions)};var wt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const un=()=>jt()&&jt().click(),rr=M=>{M.keydownTarget&&M.keydownHandlerAdded&&(M.keydownTarget.removeEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!1)},oi=(M,k,q)=>{const re=vr();if(re.length)return(k+=q)===re.length?k=0:-1===k&&(k=re.length-1),re[k].focus();ut().focus()},Jr=["ArrowRight","ArrowDown"],Lr=["ArrowLeft","ArrowUp"],Ds=(M,k,q)=>{const re=Nn.innerParams.get(M);!re||k.isComposing||229===k.keyCode||(re.stopKeydownPropagation&&k.stopPropagation(),"Enter"===k.key?is(M,k,re):"Tab"===k.key?zn(k,re):[...Jr,...Lr].includes(k.key)?Cs(k.key):"Escape"===k.key&&Is(k,re,q))},is=(M,k,q)=>{if(me(q.allowEnterKey)&&k.target&&M.getInput()&&k.target.outerHTML===M.getInput().outerHTML){if(["textarea","file"].includes(q.input))return;un(),k.preventDefault()}},zn=(M,k)=>{const q=M.target,re=vr();let Ge=-1;for(let ln=0;ln<re.length;ln++)if(q===re[ln]){Ge=ln;break}oi(0,Ge,M.shiftKey?-1:1),M.stopPropagation(),M.preventDefault()},Cs=M=>{if(![jt(),cn(),qn()].includes(document.activeElement))return;const Ge=Jr.includes(M)?"nextElementSibling":"previousElementSibling";let ln=document.activeElement;for(let wi=0;wi<Gt().children.length;wi++){if(ln=ln[Ge],!ln)return;if(Pn(ln)&&ln instanceof HTMLButtonElement)break}ln instanceof HTMLButtonElement&&ln.focus()},Is=(M,k,q)=>{me(k.allowEscapeKey)&&(M.preventDefault(),q(nr.esc))};function Fs(M,k,q,re){br()?Ji(M,re):(_e(q).then(()=>Ji(M,re)),rr(we)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),Tr()&&(null!==Br.previousBodyPadding&&(document.body.style.paddingRight="".concat(Br.previousBodyPadding,"px"),Br.previousBodyPadding=null),(()=>{if($n(document.body,ge.iosfix)){const M=parseInt(document.body.style.top,10);xr(document.body,ge.iosfix),document.body.style.top="",document.body.scrollTop=-1*M}})(),Bi()),function co(){xr([document.documentElement,document.body],[ge.shown,ge["height-auto"],ge["no-backdrop"],ge["toast-shown"]])}()}function z(M){M=Dn(M);const k=wt.swalPromiseResolve.get(this),q=V(this);this.isAwaitingPromise()?M.isDismissed||(Je(this),k(M)):q&&k(M)}const V=M=>{const k=ut();if(!k)return!1;const q=Nn.innerParams.get(M);if(!q||$n(k,q.hideClass.popup))return!1;xr(k,q.showClass.popup),rn(k,q.hideClass.popup);const re=Xe();return xr(re,q.showClass.backdrop),rn(re,q.hideClass.backdrop),ir(M,k,q),!0};const Je=M=>{M.isAwaitingPromise()&&(Nn.awaitingPromise.delete(M),Nn.innerParams.get(M)||M._destroy())},Dn=M=>void 0===M?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},M),ir=(M,k,q)=>{const re=Xe(),Ge=yr&&kr(k);"function"==typeof q.willClose&&q.willClose(k),Ge?xi(M,k,re,q.returnFocus,q.didClose):Fs(M,re,q.returnFocus,q.didClose)},xi=(M,k,q,re,Ge)=>{we.swalCloseEventFinishedCallback=Fs.bind(null,M,q,re,Ge),k.addEventListener(yr,function(ln){ln.target===k&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback)})},Ji=(M,k)=>{setTimeout(()=>{"function"==typeof k&&k.bind(M.params)(),M._destroy()})};function qi(M,k,q){const re=Nn.domCache.get(M);k.forEach(Ge=>{re[Ge].disabled=q})}function Ts(M,k){if(!M)return!1;if("radio"===M.type){const re=M.parentNode.parentNode.querySelectorAll("input");for(let Ge=0;Ge<re.length;Ge++)re[Ge].disabled=k}else M.disabled=k}const Xs=M=>{const k={};return Object.keys(M).forEach(q=>{lt(q)?k[q]=M[q]:ie("Invalid parameter to update: ".concat(q))}),k};const ta=M=>{jo(M),delete M.params,delete we.keydownHandler,delete we.keydownTarget,delete we.currentInstance},jo=M=>{M.isAwaitingPromise()?(Ho(Nn,M),Nn.awaitingPromise.set(M,!0)):(Ho(wt,M),Ho(Nn,M))},Ho=(M,k)=>{for(const q in M)M[q].delete(k)};var Ea=Object.freeze({hideLoading:H,disableLoading:H,getInput:function Be(M){const k=Nn.innerParams.get(M||this),q=Nn.domCache.get(M||this);return q?Ur(q.popup,k.input):null},close:z,isAwaitingPromise:function U(){return!!Nn.awaitingPromise.get(this)},rejectPromise:function Y(M){const k=wt.swalPromiseReject.get(this);Je(this),k&&k(M)},handleAwaitingPromise:Je,closePopup:z,closeModal:z,closeToast:z,enableButtons:function Vs(){qi(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function _a(){qi(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function va(){return Ts(this.getInput(),!1)},disableInput:function ba(){return Ts(this.getInput(),!0)},showValidationMessage:function _s(M){const k=Nn.domCache.get(this),q=Nn.innerParams.get(this);Ft(k.validationMessage,M),k.validationMessage.className=ge["validation-message"],q.customClass&&q.customClass.validationMessage&&rn(k.validationMessage,q.customClass.validationMessage),tn(k.validationMessage);const re=this.getInput();re&&(re.setAttribute("aria-invalid",!0),re.setAttribute("aria-describedby",ge["validation-message"]),Li(re),rn(re,ge.inputerror))},resetValidationMessage:function fs(){const M=Nn.domCache.get(this);M.validationMessage&&an(M.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),xr(k,ge.inputerror))},getProgressSteps:function Bs(){return Nn.domCache.get(this).progressSteps},update:function wa(M){const k=ut(),q=Nn.innerParams.get(this);if(!k||$n(k,q.hideClass.popup))return ie("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const re=Xs(M),Ge=Object.assign({},q,re);In(this,Ge),Nn.innerParams.set(this,Ge),Object.defineProperties(this,{params:{value:Object.assign({},this.params,M),writable:!1,enumerable:!0}})},_destroy:function Js(){const M=Nn.domCache.get(this),k=Nn.innerParams.get(this);k?(M.popup&&we.swalCloseEventFinishedCallback&&(we.swalCloseEventFinishedCallback(),delete we.swalCloseEventFinishedCallback),we.deferDisposalTimer&&(clearTimeout(we.deferDisposalTimer),delete we.deferDisposalTimer),"function"==typeof k.didDestroy&&k.didDestroy(),ta(this)):jo(this)}});const ra=(M,k)=>{const q=Nn.innerParams.get(M);if(!q.input)return Se('The "input" parameter is needed to be set when using returnInputValueOn'.concat(_(k)));const re=((M,k)=>{const q=M.getInput();if(!q)return null;switch(k.input){case"checkbox":return Eo(q);case"radio":return Do(q);case"file":return Hi(q);default:return k.inputAutoTrim?q.value.trim():q.value}})(M,q);q.inputValidator?Ra(M,re,k):M.getInput().checkValidity()?"deny"===k?zo(M,re):ho(M,re):(M.enableButtons(),M.showValidationMessage(q.validationMessage))},Ra=(M,k,q)=>{const re=Nn.innerParams.get(M);M.disableInput(),Promise.resolve().then(()=>ce(re.inputValidator(k,re.validationMessage))).then(ln=>{M.enableButtons(),M.enableInput(),ln?M.showValidationMessage(ln):"deny"===q?zo(M,k):ho(M,k)})},zo=(M,k)=>{const q=Nn.innerParams.get(M||void 0);q.showLoaderOnDeny&&ri(cn()),q.preDeny?(Nn.awaitingPromise.set(M||void 0,!0),Promise.resolve().then(()=>ce(q.preDeny(k,q.validationMessage))).then(Ge=>{!1===Ge?(M.hideLoading(),Je(M)):M.closePopup({isDenied:!0,value:void 0===Ge?k:Ge})}).catch(Ge=>Da(M||void 0,Ge))):M.closePopup({isDenied:!0,value:k})},uo=(M,k)=>{M.closePopup({isConfirmed:!0,value:k})},Da=(M,k)=>{M.rejectPromise(k)},ho=(M,k)=>{const q=Nn.innerParams.get(M||void 0);q.showLoaderOnConfirm&&ri(),q.preConfirm?(M.resetValidationMessage(),Nn.awaitingPromise.set(M||void 0,!0),Promise.resolve().then(()=>ce(q.preConfirm(k,q.validationMessage))).then(Ge=>{Pn(Bt())||!1===Ge?(M.hideLoading(),Je(M)):uo(M,void 0===Ge?k:Ge)}).catch(Ge=>Da(M||void 0,Ge))):uo(M,k)},qa=(M,k,q)=>{k.popup.onclick=()=>{const re=Nn.innerParams.get(M);re&&(Wo(re)||re.timer||re.input)||q(nr.close)}},Wo=M=>M.showConfirmButton||M.showDenyButton||M.showCancelButton||M.showCloseButton;let fo=!1;const Za=M=>{M.popup.onmousedown=()=>{M.container.onmouseup=function(k){M.container.onmouseup=void 0,k.target===M.container&&(fo=!0)}}},es=M=>{M.container.onmousedown=()=>{M.popup.onmouseup=function(k){M.popup.onmouseup=void 0,(k.target===M.popup||M.popup.contains(k.target))&&(fo=!0)}}},Go=(M,k,q)=>{k.container.onclick=re=>{const Ge=Nn.innerParams.get(M);fo?fo=!1:re.target===k.container&&me(Ge.allowOutsideClick)&&q(nr.backdrop)}},ia=M=>M instanceof Element||(M=>"object"==typeof M&&M.jquery)(M);const ka=()=>{if(we.timeout)return(()=>{const M=Xn(),k=parseInt(window.getComputedStyle(M).width);M.style.removeProperty("transition"),M.style.width="100%";const re=k/parseInt(window.getComputedStyle(M).width)*100;M.style.removeProperty("transition"),M.style.width="".concat(re,"%")})(),we.timeout.stop()},Hs=()=>{if(we.timeout){const M=we.timeout.start();return Tn(M),M}};let Zi=!1;const Qa={};const ps=M=>{for(let k=M.target;k&&k!==document;k=k.parentNode)for(const q in Qa){const re=k.getAttribute(q);if(re)return void Qa[q].fire({template:re})}};var sa=Object.freeze({isValidParameter:yt,isUpdatableParameter:lt,isDeprecatedParameter:Le,argsToParams:M=>{const k={};return"object"!=typeof M[0]||ia(M[0])?["title","html","icon"].forEach((q,re)=>{const Ge=M[re];"string"==typeof Ge||ia(Ge)?k[q]=Ge:void 0!==Ge&&Se("Unexpected type of ".concat(q,'! Expected "string" or "Element", got ').concat(typeof Ge))}):Object.assign(k,M[0]),k},isVisible:()=>Pn(ut()),clickConfirm:un,clickDeny:()=>cn()&&cn().click(),clickCancel:()=>qn()&&qn().click(),getContainer:Xe,getPopup:ut,getTitle:Mt,getHtmlContainer:Pt,getImage:gn,getIcon:ot,getInputLabel:()=>et(ge["input-label"]),getCloseButton:Un,getActions:Gt,getConfirmButton:jt,getDenyButton:cn,getCancelButton:qn,getLoader:on,getFooter:kn,getTimerProgressBar:Xn,getFocusableElements:vr,getValidationMessage:Bt,isLoading:()=>ut().hasAttribute("data-loading"),fire:function Gl(){const M=this;for(var k=arguments.length,q=new Array(k),re=0;re<k;re++)q[re]=arguments[re];return new M(...q)},mixin:function Ya(M){return class k extends(this){_main(re,Ge){return super._main(re,Object.assign({},M,Ge))}}},showLoading:ri,enableLoading:ri,getTimerLeft:()=>we.timeout&&we.timeout.getTimerLeft(),stopTimer:ka,resumeTimer:Hs,toggleTimer:()=>{const M=we.timeout;return M&&(M.running?ka():Hs())},increaseTimer:M=>{if(we.timeout){const k=we.timeout.increase(M);return Tn(k,!0),k}},isTimerRunning:()=>we.timeout&&we.timeout.isRunning(),bindClickHandler:function Ps(){Qa[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Zi||(document.body.addEventListener("click",ps),Zi=!0)}});let gi;class ss{constructor(){if("undefined"==typeof window)return;gi=this;for(var k=arguments.length,q=new Array(k),re=0;re<k;re++)q[re]=arguments[re];const Ge=Object.freeze(this.constructor.argsToParams(q));Object.defineProperties(this,{params:{value:Ge,writable:!1,enumerable:!0,configurable:!0}});const ln=this._main(this.params);Nn.promise.set(this,ln)}_main(k){let q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(M=>{!M.backdrop&&M.allowOutsideClick&&ie('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const k in M)Dt(k),M.toast&&ct(k),$e(k)})(Object.assign({},q,k)),we.currentInstance&&(we.currentInstance._destroy(),Tr()&&Bi()),we.currentInstance=this;const re=Xa(k,q);so(re),Object.freeze(re),we.timeout&&(we.timeout.stop(),delete we.timeout),clearTimeout(we.restoreFocusTimeout);const Ge=Tl(this);return In(this,re),Nn.innerParams.set(this,re),Io(this,Ge,re)}then(k){return Nn.promise.get(this).then(k)}finally(k){return Nn.promise.get(this).finally(k)}}const Io=(M,k,q)=>new Promise((re,Ge)=>{const ln=wi=>{M.closePopup({isDismissed:!0,dismiss:wi})};wt.swalPromiseResolve.set(M,re),wt.swalPromiseReject.set(M,Ge),k.confirmButton.onclick=()=>(M=>{const k=Nn.innerParams.get(M);M.disableButtons(),k.input?ra(M,"confirm"):ho(M,!0)})(M),k.denyButton.onclick=()=>(M=>{const k=Nn.innerParams.get(M);M.disableButtons(),k.returnInputValueOnDeny?ra(M,"deny"):zo(M,!1)})(M),k.cancelButton.onclick=()=>((M,k)=>{M.disableButtons(),k(nr.cancel)})(M,ln),k.closeButton.onclick=()=>ln(nr.close),((M,k,q)=>{Nn.innerParams.get(M).toast?qa(M,k,q):(Za(k),es(k),Go(M,k,q))})(M,k,ln),((M,k,q,re)=>{rr(k),q.toast||(k.keydownHandler=Ge=>Ds(M,Ge,re),k.keydownTarget=q.keydownListenerCapture?window:ut(),k.keydownListenerCapture=q.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)})(M,we,q,ln),((M,k)=>{"select"===k.input||"radio"===k.input?Co(M,k):["text","email","number","tel","textarea"].includes(k.input)&&(De(k.inputValue)||he(k.inputValue))&&(ri(jt()),Qs(M,k))})(M,q),ji(q),sn(we,q,ln),Vr(k,q),setTimeout(()=>{k.container.scrollTop=0})}),Xa=(M,k)=>{const q=(M=>{const k="string"==typeof M.template?document.querySelector(M.template):M.template;if(!k)return{};const q=k.content;return li(q),Object.assign(We(q),pt(q),kt(q),Kt(q),pn(q),Yn(q,Zs))})(M),re=Object.assign({},Ye,k,q,M);return re.showClass=Object.assign({},Ye.showClass,re.showClass),re.hideClass=Object.assign({},Ye.hideClass,re.hideClass),re},Tl=M=>{const k={popup:ut(),container:Xe(),actions:Gt(),confirmButton:jt(),denyButton:cn(),cancelButton:qn(),loader:on(),closeButton:Un(),validationMessage:Bt(),progressSteps:Mn()};return Nn.domCache.set(M,k),k},sn=(M,k,q)=>{const re=Xn();an(re),k.timer&&(M.timeout=new ys(()=>{q("timer"),delete M.timeout},k.timer),k.timerProgressBar&&(tn(re),Ln(re,k,"timerProgressBar"),setTimeout(()=>{M.timeout&&M.timeout.running&&Tn(k.timer)})))},Vr=(M,k)=>{if(!k.toast){if(!me(k.allowEnterKey))return To();Lo(M,k)||oi(0,-1,1)}},Lo=(M,k)=>k.focusDeny&&Pn(M.denyButton)?(M.denyButton.focus(),!0):k.focusCancel&&Pn(M.cancelButton)?(M.cancelButton.focus(),!0):!(!k.focusConfirm||!Pn(M.confirmButton)||(M.confirmButton.focus(),0)),To=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(ss.prototype,Ea),Object.assign(ss,sa),Object.keys(Ea).forEach(M=>{ss[M]=function(){if(gi)return gi[M](...arguments)}}),ss.DismissReason=nr,ss.version="11.4.10";const _n=ss;return _n.default=_n,_n}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ve,L){var _=ve.createElement("style");if(ve.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=L);else try{_.innerHTML=L}catch(Z){_.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(je,ve,L)=>{"use strict";function Se(Xe,st){var et={};for(var ut in Xe)Object.prototype.hasOwnProperty.call(Xe,ut)&&st.indexOf(ut)<0&&(et[ut]=Xe[ut]);if(null!=Xe&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(ut=Object.getOwnPropertySymbols(Xe);ot<ut.length;ot++)st.indexOf(ut[ot])<0&&Object.prototype.propertyIsEnumerable.call(Xe,ut[ot])&&(et[ut[ot]]=Xe[ut[ot]])}return et}function me(Xe,st,et,ut){return new(et||(et=Promise))(function(Mt,Pt){function gn(jt){try{Bt(ut.next(jt))}catch(cn){Pt(cn)}}function Mn(jt){try{Bt(ut.throw(jt))}catch(cn){Pt(cn)}}function Bt(jt){jt.done?Mt(jt.value):function ot(Mt){return Mt instanceof et?Mt:new et(function(Pt){Pt(Mt)})}(jt.value).then(gn,Mn)}Bt((ut=ut.apply(Xe,st||[])).next())})}function yt(Xe){return this instanceof yt?(this.v=Xe,this):new yt(Xe)}function lt(Xe,st,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,ut=et.apply(Xe,st||[]),Mt=[];return ot={},Pt("next"),Pt("throw"),Pt("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function Pt(dr){ut[dr]&&(ot[dr]=function(on){return new Promise(function(qn,Gt){Mt.push([dr,on,qn,Gt])>1||gn(dr,on)})})}function gn(dr,on){try{!function Mn(dr){dr.value instanceof yt?Promise.resolve(dr.value.v).then(Bt,jt):cn(Mt[0][2],dr)}(ut[dr](on))}catch(qn){cn(Mt[0][3],qn)}}function Bt(dr){gn("next",dr)}function jt(dr){gn("throw",dr)}function cn(dr,on){dr(on),Mt.shift(),Mt.length&&gn(Mt[0][0],Mt[0][1])}}function Dt(Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,st=Xe[Symbol.asyncIterator];return st?st.call(Xe):(Xe=function be(Xe){var st="function"==typeof Symbol&&Symbol.iterator,et=st&&Xe[st],ut=0;if(et)return et.call(Xe);if(Xe&&"number"==typeof Xe.length)return{next:function(){return Xe&&ut>=Xe.length&&(Xe=void 0),{value:Xe&&Xe[ut++],done:!Xe}}};throw new TypeError(st?"Object is not iterable.":"Symbol.iterator is not defined.")}(Xe),et={},ut("next"),ut("throw"),ut("return"),et[Symbol.asyncIterator]=function(){return this},et);function ut(Mt){et[Mt]=Xe[Mt]&&function(Pt){return new Promise(function(gn,Mn){!function ot(Mt,Pt,gn,Mn){Promise.resolve(Mn).then(function(Bt){Mt({value:Bt,done:gn})},Pt)}(gn,Mn,(Pt=Xe[Mt](Pt)).done,Pt.value)})}}}L.d(ve,{FC:()=>lt,KL:()=>Dt,_T:()=>Se,mG:()=>me,qq:()=>yt})},9808:(je,ve,L)=>{"use strict";L.d(ve,{Do:()=>ct,EM:()=>Eo,H9:()=>Os,HT:()=>de,JF:()=>Ir,K0:()=>Ae,Mx:()=>Xr,O5:()=>vt,PM:()=>ri,S$:()=>yt,V_:()=>ce,Ye:()=>$e,b0:()=>Dt,bD:()=>ji,ez:()=>Es,lw:()=>me,mr:()=>Le,q:()=>ie,sg:()=>Zr,w_:()=>Ne});var _=L(5e3);let Z=null;function ie(){return Z}function de($){Z||(Z=$)}class Ne{}const Ae=new _.OlP("DocumentToken");let me=(()=>{class ${historyGo(H){throw new Error("Not implemented")}}return $.\u0275fac=function(H){return new(H||$)},$.\u0275prov=_.Yz7({token:$,factory:function(){return function De(){return(0,_.LFG)(he)}()},providedIn:"platform"}),$})();const ce=new _.OlP("Location Initialized");let he=(()=>{class $ extends me{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ie().getBaseHref(this._doc)}onPopState(H){const ue=ie().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",H,!1),()=>ue.removeEventListener("popstate",H)}onHashChange(H){const ue=ie().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",H,!1),()=>ue.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,ue,Be){be()?this._history.pushState(H,ue,Be):this.location.hash=Be}replaceState(H,ue,Be){be()?this._history.replaceState(H,ue,Be):this.location.hash=Be}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return $.\u0275fac=function(H){return new(H||$)(_.LFG(Ae))},$.\u0275prov=_.Yz7({token:$,factory:function(){return function Ye(){return new he((0,_.LFG)(Ae))}()},providedIn:"platform"}),$})();function be(){return!!window.history.pushState}function nt($,se){if(0==$.length)return se;if(0==se.length)return $;let H=0;return $.endsWith("/")&&H++,se.startsWith("/")&&H++,2==H?$+se.substring(1):1==H?$+se:$+"/"+se}function dt($){const se=$.match(/#|\?|$/),H=se&&se.index||$.length;return $.slice(0,H-("/"===$[H-1]?1:0))+$.slice(H)}function ht($){return $&&"?"!==$[0]?"?"+$:$}let yt=(()=>{class ${historyGo(H){throw new Error("Not implemented")}}return $.\u0275fac=function(H){return new(H||$)},$.\u0275prov=_.Yz7({token:$,factory:function(){return function lt($){const se=(0,_.LFG)(Ae).location;return new Dt((0,_.LFG)(me),se&&se.origin||"")}()},providedIn:"root"}),$})();const Le=new _.OlP("appBaseHref");let Dt=(()=>{class $ extends yt{constructor(H,ue){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==ue&&(ue=this._platformLocation.getBaseHrefFromDOM()),null==ue)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ue}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return nt(this._baseHref,H)}path(H=!1){const ue=this._platformLocation.pathname+ht(this._platformLocation.search),Be=this._platformLocation.hash;return Be&&H?`${ue}${Be}`:ue}pushState(H,ue,Be,wt){const Nt=this.prepareExternalUrl(Be+ht(wt));this._platformLocation.pushState(H,ue,Nt)}replaceState(H,ue,Be,wt){const Nt=this.prepareExternalUrl(Be+ht(wt));this._platformLocation.replaceState(H,ue,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ue,Be;null===(Be=(ue=this._platformLocation).historyGo)||void 0===Be||Be.call(ue,H)}}return $.\u0275fac=function(H){return new(H||$)(_.LFG(me),_.LFG(Le,8))},$.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac}),$})(),ct=(()=>{class $ extends yt{constructor(H,ue){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(H){const ue=nt(this._baseHref,H);return ue.length>0?"#"+ue:ue}pushState(H,ue,Be,wt){let Nt=this.prepareExternalUrl(Be+ht(wt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.pushState(H,ue,Nt)}replaceState(H,ue,Be,wt){let Nt=this.prepareExternalUrl(Be+ht(wt));0==Nt.length&&(Nt=this._platformLocation.pathname),this._platformLocation.replaceState(H,ue,Nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ue,Be;null===(Be=(ue=this._platformLocation).historyGo)||void 0===Be||Be.call(ue,H)}}return $.\u0275fac=function(H){return new(H||$)(_.LFG(me),_.LFG(Le,8))},$.\u0275prov=_.Yz7({token:$,factory:$.\u0275fac}),$})(),$e=(()=>{class ${constructor(H,ue){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=H;const Be=this._platformStrategy.getBaseHref();this._platformLocation=ue,this._baseHref=dt(Ut(Be)),this._platformStrategy.onPopState(wt=>{this._subject.emit({url:this.path(!0),pop:!0,state:wt.state,type:wt.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,ue=""){return this.path()==this.normalize(H+ht(ue))}normalize(H){return $.stripTrailingSlash(function Rt($,se){return $&&se.startsWith($)?se.substring($.length):se}(this._baseHref,Ut(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,ue="",Be=null){this._platformStrategy.pushState(Be,"",H,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+ht(ue)),Be)}replaceState(H,ue="",Be=null){this._platformStrategy.replaceState(Be,"",H,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+ht(ue)),Be)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var ue,Be;null===(Be=(ue=this._platformStrategy).historyGo)||void 0===Be||Be.call(ue,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)}))}_notifyUrlChangeListeners(H="",ue){this._urlChangeListeners.forEach(Be=>Be(H,ue))}subscribe(H,ue,Be){return this._subject.subscribe({next:H,error:ue,complete:Be})}}return $.normalizeQueryParams=ht,$.joinWithSlash=nt,$.stripTrailingSlash=dt,$.\u0275fac=function(H){return new(H||$)(_.LFG(yt),_.LFG(me))},$.\u0275prov=_.Yz7({token:$,factory:function(){return function bt(){return new $e((0,_.LFG)(yt),(0,_.LFG)(me))}()},providedIn:"root"}),$})();function Ut($){return $.replace(/\/index.html$/,"")}const ge={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Xt=(()=>((Xt=Xt||{})[Xt.Decimal=0]="Decimal",Xt[Xt.Percent=1]="Percent",Xt[Xt.Currency=2]="Currency",Xt[Xt.Scientific=3]="Scientific",Xt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function kn($,se){const H=(0,_.cg1)($),ue=H[_.wAp.NumberSymbols][se];if(void 0===ue){if(se===ot.CurrencyDecimal)return H[_.wAp.NumberSymbols][ot.Decimal];if(se===ot.CurrencyGroup)return H[_.wAp.NumberSymbols][ot.Group]}return ue}const yr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Nn($,se,H,ue,Be){const Nt=function hr($,se="-"){const H={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ue=$.split(";"),Be=ue[0],wt=ue[1],Nt=-1!==Be.indexOf(".")?Be.split("."):[Be.substring(0,Be.lastIndexOf("0")+1),Be.substring(Be.lastIndexOf("0")+1)],un=Nt[0],$r=Nt[1]||"";H.posPre=un.substr(0,un.indexOf("#"));for(let rr=0;rr<$r.length;rr++){const gr=$r.charAt(rr);"0"===gr?H.minFrac=H.maxFrac=rr+1:"#"===gr?H.maxFrac=rr+1:H.posSuf+=gr}const Pr=un.split(",");if(H.gSize=Pr[1]?Pr[1].length:0,H.lgSize=Pr[2]||Pr[1]?(Pr[2]||Pr[1]).length:0,wt){const rr=Be.length-H.posPre.length-H.posSuf.length,gr=wt.indexOf("#");H.negPre=wt.substr(0,gr).replace(/'/g,""),H.negSuf=wt.substr(gr+rr).replace(/'/g,"")}else H.negPre=se+H.posPre,H.negSuf=H.posSuf;return H}(function Xn($,se){return(0,_.cg1)($)[_.wAp.NumberFormats][se]}(se,Xt.Currency),kn(se,ot.MinusSign));return Nt.minFrac=function Mr($){let se;const H=ge[$];return H&&(se=H[2]),"number"==typeof se?se:2}(ue),Nt.maxFrac=Nt.minFrac,function Pi($,se,H,ue,Be,wt,Nt=!1){let un="",$r=!1;if(isFinite($)){let Pr=function Fi($){let ue,Be,wt,Nt,un,se=Math.abs($)+"",H=0;for((Be=se.indexOf("."))>-1&&(se=se.replace(".","")),(wt=se.search(/e/i))>0?(Be<0&&(Be=wt),Be+=+se.slice(wt+1),se=se.substring(0,wt)):Be<0&&(Be=se.length),wt=0;"0"===se.charAt(wt);wt++);if(wt===(un=se.length))ue=[0],Be=1;else{for(un--;"0"===se.charAt(un);)un--;for(Be-=wt,ue=[],Nt=0;wt<=un;wt++,Nt++)ue[Nt]=Number(se.charAt(wt))}return Be>22&&(ue=ue.splice(0,21),H=Be-1,Be=1),{digits:ue,exponent:H,integerLen:Be}}($);Nt&&(Pr=function Kr($){if(0===$.digits[0])return $;const se=$.digits.length-$.integerLen;return $.exponent?$.exponent+=2:(0===se?$.digits.push(0,0):1===se&&$.digits.push(0),$.integerLen+=2),$}(Pr));let rr=se.minInt,gr=se.minFrac,oi=se.maxFrac;if(wt){const Cs=wt.match(yr);if(null===Cs)throw new Error(`${wt} is not a valid digit info`);const Is=Cs[1],Fs=Cs[3],co=Cs[5];null!=Is&&(rr=fi(Is)),null!=Fs&&(gr=fi(Fs)),null!=co?oi=fi(co):null!=Fs&&gr>oi&&(oi=gr)}!function Hr($,se,H){if(se>H)throw new Error(`The minimum number of digits after fraction (${se}) is higher than the maximum (${H}).`);let ue=$.digits,Be=ue.length-$.integerLen;const wt=Math.min(Math.max(se,Be),H);let Nt=wt+$.integerLen,un=ue[Nt];if(Nt>0){ue.splice(Math.max($.integerLen,Nt));for(let gr=Nt;gr<ue.length;gr++)ue[gr]=0}else{Be=Math.max(0,Be),$.integerLen=1,ue.length=Math.max(1,Nt=wt+1),ue[0]=0;for(let gr=1;gr<Nt;gr++)ue[gr]=0}if(un>=5)if(Nt-1<0){for(let gr=0;gr>Nt;gr--)ue.unshift(0),$.integerLen++;ue.unshift(1),$.integerLen++}else ue[Nt-1]++;for(;Be<Math.max(0,wt);Be++)ue.push(0);let $r=0!==wt;const Pr=se+$.integerLen,rr=ue.reduceRight(function(gr,oi,Jr,Lr){return Lr[Jr]=(oi+=gr)<10?oi:oi-10,$r&&(0===Lr[Jr]&&Jr>=Pr?Lr.pop():$r=!1),oi>=10?1:0},0);rr&&(ue.unshift(rr),$.integerLen++)}(Pr,gr,oi);let Jr=Pr.digits,Lr=Pr.integerLen;const Ds=Pr.exponent;let is=[];for($r=Jr.every(Cs=>!Cs);Lr<rr;Lr++)Jr.unshift(0);for(;Lr<0;Lr++)Jr.unshift(0);Lr>0?is=Jr.splice(Lr,Jr.length):(is=Jr,Jr=[0]);const zn=[];for(Jr.length>=se.lgSize&&zn.unshift(Jr.splice(-se.lgSize,Jr.length).join(""));Jr.length>se.gSize;)zn.unshift(Jr.splice(-se.gSize,Jr.length).join(""));Jr.length&&zn.unshift(Jr.join("")),un=zn.join(kn(H,ue)),is.length&&(un+=kn(H,Be)+is.join("")),Ds&&(un+=kn(H,ot.Exponential)+"+"+Ds)}else un=kn(H,ot.Infinity);return un=$<0&&!$r?se.negPre+un+se.negSuf:se.posPre+un+se.posSuf,un}($,Nt,se,ot.CurrencyGroup,ot.CurrencyDecimal,Be).replace("\xa4",H).replace("\xa4","").trim()}function fi($){const se=parseInt($);if(isNaN(se))throw new Error("Invalid integer literal when parsing "+$);return se}function Xr($,se){se=encodeURIComponent(se);for(const H of $.split(";")){const ue=H.indexOf("="),[Be,wt]=-1==ue?[H,""]:[H.slice(0,ue),H.slice(ue+1)];if(Be.trim()===se)return decodeURIComponent(wt)}return null}class bi{constructor(se,H,ue,Be){this.$implicit=se,this.ngForOf=H,this.index=ue,this.count=Be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zr=(()=>{class ${constructor(H,ue,Be){this._viewContainer=H,this._template=ue,this._differs=Be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ue=this._viewContainer;H.forEachOperation((Be,wt,Nt)=>{if(null==Be.previousIndex)ue.createEmbeddedView(this._template,new bi(Be.item,this._ngForOf,-1,-1),null===Nt?void 0:Nt);else if(null==Nt)ue.remove(null===wt?void 0:wt);else if(null!==wt){const un=ue.get(wt);ue.move(un,Nt),Sn(un,Be)}});for(let Be=0,wt=ue.length;Be<wt;Be++){const un=ue.get(Be).context;un.index=Be,un.count=wt,un.ngForOf=this._ngForOf}H.forEachIdentityChange(Be=>{Sn(ue.get(Be.currentIndex),Be)})}static ngTemplateContextGuard(H,ue){return!0}}return $.\u0275fac=function(H){return new(H||$)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},$.\u0275dir=_.lG2({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),$})();function Sn($,se){$.context.$implicit=se.item}let vt=(()=>{class ${constructor(H,ue){this._viewContainer=H,this._context=new qe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){_t("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){_t("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ue){return!0}}return $.\u0275fac=function(H){return new(H||$)(_.Y36(_.s_b),_.Y36(_.Rgc))},$.\u0275dir=_.lG2({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),$})();class qe{constructor(){this.$implicit=null,this.ngIf=null}}function _t($,se){if(se&&!se.createEmbeddedView)throw new Error(`${$} must be a TemplateRef, but received '${(0,_.AaK)(se)}'.`)}let Os=(()=>{class ${constructor(H,ue="USD"){this._locale=H,this._defaultCurrencyCode=ue}transform(H,ue=this._defaultCurrencyCode,Be="symbol",wt,Nt){if(!function Ni($){return!(null==$||""===$||$!=$)}(H))return null;Nt=Nt||this._locale,"boolean"==typeof Be&&(Be=Be?"symbol":"code");let un=ue||this._defaultCurrencyCode;"code"!==Be&&(un="symbol"===Be||"symbol-narrow"===Be?function Ur($,se,H="en"){const ue=function Tr($){return(0,_.cg1)($)[_.wAp.Currencies]}(H)[$]||ge[$]||[],Be=ue[1];return"narrow"===se&&"string"==typeof Be?Be:ue[0]||$}(un,"symbol"===Be?"wide":"narrow",Nt):Be);try{return Nn(function Ki($){if("string"==typeof $&&!isNaN(Number($)-parseFloat($)))return Number($);if("number"!=typeof $)throw new Error(`${$} is not a number`);return $}(H),Nt,un,ue,wt)}catch($r){throw function ar($,se){return new _.vHH(2100,"")}()}}}return $.\u0275fac=function(H){return new(H||$)(_.Y36(_.soG,16),_.Y36(_.EJc,16))},$.\u0275pipe=_.Yjl({name:"currency",type:$,pure:!0}),$})();let Es=(()=>{class ${}return $.\u0275fac=function(H){return new(H||$)},$.\u0275mod=_.oAB({type:$}),$.\u0275inj=_.cJS({}),$})();const ji="browser";function ri($){return"server"===$}let Eo=(()=>{class ${}return $.\u0275prov=(0,_.Yz7)({token:$,providedIn:"root",factory:()=>new Do((0,_.LFG)(Ae),window)}),$})();class Do{constructor(se,H){this.document=se,this.window=H,this.offset=()=>[0,0]}setOffset(se){this.offset=Array.isArray(se)?()=>se:se}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(se){this.supportsScrolling()&&this.window.scrollTo(se[0],se[1])}scrollToAnchor(se){if(!this.supportsScrolling())return;const H=function Co($,se){const H=$.getElementById(se)||$.getElementsByName(se)[0];if(H)return H;if("function"==typeof $.createTreeWalker&&$.body&&($.body.createShadowRoot||$.body.attachShadow)){const ue=$.createTreeWalker($.body,NodeFilter.SHOW_ELEMENT);let Be=ue.currentNode;for(;Be;){const wt=Be.shadowRoot;if(wt){const Nt=wt.getElementById(se)||wt.querySelector(`[name="${se}"]`);if(Nt)return Nt}Be=ue.nextNode()}}return null}(this.document,se);H&&(this.scrollToElement(H),H.focus())}setHistoryScrollRestoration(se){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=se)}}scrollToElement(se){const H=se.getBoundingClientRect(),ue=H.left+this.window.pageXOffset,Be=H.top+this.window.pageYOffset,wt=this.offset();this.window.scrollTo(ue-wt[0],Be-wt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const se=Hi(this.window.history)||Hi(Object.getPrototypeOf(this.window.history));return!(!se||!se.writable&&!se.set)}catch(se){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(se){return!1}}}function Hi($){return Object.getOwnPropertyDescriptor($,"scrollRestoration")}class Ir{}},5e3:(je,ve,L)=>{"use strict";L.d(ve,{$8M:()=>qo,$Z:()=>Me,AFp:()=>A0,ALo:()=>Qv,AaK:()=>me,CHM:()=>Dn,CRH:()=>a0,CZH:()=>T_,CqO:()=>_i,EJc:()=>pE,EpF:()=>or,F4k:()=>yi,FYo:()=>Fv,FiY:()=>ua,G48:()=>FE,GfV:()=>Vv,Gpc:()=>he,JOm:()=>xt,LFG:()=>ti,LSH:()=>Qu,Lbi:()=>dE,NdJ:()=>Ns,OlP:()=>Mi,Oqu:()=>Hm,PXZ:()=>SE,Q6J:()=>Ve,QGY:()=>Di,Qsj:()=>ow,R0b:()=>$u,RDi:()=>Hi,Rgc:()=>Xm,SBq:()=>qm,Sil:()=>mE,Suo:()=>o0,TTD:()=>Ni,TgZ:()=>Et,VLi:()=>TE,X6Q:()=>LE,XFs:()=>Ft,Xpm:()=>St,Y36:()=>fe,YKP:()=>Hv,YNc:()=>Mf,Yjl:()=>Rn,Yz7:()=>on,ZZ4:()=>U_,_Bn:()=>kv,_UZ:()=>wn,_Vd:()=>My,_c5:()=>JE,_uU:()=>Ey,aQg:()=>j_,c2e:()=>hE,cJS:()=>Gt,cg1:()=>r_,dDg:()=>k0,deG:()=>el,dqk:()=>Pn,eFA:()=>F0,ekj:()=>Xg,g9A:()=>M0,h0i:()=>im,hGG:()=>eD,hij:()=>em,iGM:()=>s0,ifc:()=>qt,ip1:()=>x0,kL8:()=>av,lG2:()=>bn,lcZ:()=>Xv,n5z:()=>$s,oAB:()=>rt,oxw:()=>Hu,q4F:()=>Bv,qLn:()=>Ii,qOj:()=>_h,qZA:()=>zt,sBO:()=>VE,sIi:()=>wh,s_b:()=>Ry,soG:()=>A_,tBr:()=>Jl,tb:()=>O0,tp0:()=>da,uIk:()=>Lp,vHH:()=>dt,vpe:()=>Pd,wAp:()=>Sr,xp6:()=>rg,z2F:()=>k_,zSh:()=>Lu,zs3:()=>Hl});var _=L(7579),Z=L(727),ie=L(8306),Se=L(6451),de=L(3099);function Ne(t){for(let r in t)if(t[r]===Ne)return r;throw Error("Could not find renamed property on target object.")}function Ae(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function De(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ce=Ne({__forward_ref__:Ne});function he(t){return t.__forward_ref__=he,t.toString=function(){return me(this())},t}function be(t){return Ye(t)?t():t}function Ye(t){return"function"==typeof t&&t.hasOwnProperty(ce)&&t.__forward_ref__===he}class dt extends Error{constructor(r,o){super(function ht(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function yt(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():yt(t)}function $e(t,r){const o=r?` in ${r}`:"";throw new dt(-201,`No provider for ${lt(t)} found${o}`)}function Mn(t,r){null==t&&function Bt(t,r,o,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${o} ${d} ${r} <=Actual]`))}(r,t,null,"!=")}function on(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function kn(t){return Xn(t,Tr)||Xn(t,zr)}function Xn(t,r){return t.hasOwnProperty(r)?t[r]:null}function vr(t){return t&&(t.hasOwnProperty(br)||t.hasOwnProperty(Br))?t[br]:null}const Tr=Ne({\u0275prov:Ne}),br=Ne({\u0275inj:Ne}),zr=Ne({ngInjectableDef:Ne}),Br=Ne({ngInjectorDef:Ne});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let $n;function Ln(t){const r=$n;return $n=t,r}function Ur(t,r,o){const d=kn(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:o&Ft.Optional?null:void 0!==r?r:void $e(me(t),"Injector")}function Mr(t){return{toString:t}.toString()}var rn=(()=>((rn=rn||{})[rn.OnPush=0]="OnPush",rn[rn.Default=1]="Default",rn))(),qt=(()=>{return(t=qt||(qt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",qt;var t})();const tn="undefined"!=typeof globalThis&&globalThis,an="undefined"!=typeof window&&window,Or="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pn=tn||"undefined"!=typeof global&&global||an||Or,kr={},Tn=[],Gr=Ne({\u0275cmp:Ne}),Jn=Ne({\u0275dir:Ne}),dn=Ne({\u0275pipe:Ne}),we=Ne({\u0275mod:Ne}),te=Ne({\u0275fac:Ne}),_e=Ne({__NG_ELEMENT_ID__:Ne});let it=0;function St(t){return Mr(()=>{const o={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===rn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||qt.Emulated,id:"c",styles:t.styles||Tn,_:null,setInput:null,schemas:t.schemas||null,tView:null},p=t.directives,b=t.features,C=t.pipes;return d.id+=it++,d.inputs=vn(t.inputs,o),d.outputs=vn(t.outputs),b&&b.forEach(O=>O(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ee):null,d.pipeDefs=C?()=>("function"==typeof C?C():C).map(Fe):null,d})}function Ee(t){return tr(t)||function yr(t){return t[Jn]||null}(t)}function Fe(t){return function On(t){return t[dn]||null}(t)}const ft={};function rt(t){return Mr(()=>{const r={type:t.type,bootstrap:t.bootstrap||Tn,declarations:t.declarations||Tn,imports:t.imports||Tn,exports:t.exports||Tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(ft[t.id]=t.type),r})}function vn(t,r){if(null==t)return kr;const o={};for(const d in t)if(t.hasOwnProperty(d)){let p=t[d],b=p;Array.isArray(p)&&(b=p[1],p=p[0]),o[p]=d,r&&(r[p]=b)}return o}const bn=St;function Rn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function tr(t){return t[Gr]||null}function cr(t,r){const o=t[we]||null;if(!o&&!0===r)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return o}function $t(t){return Array.isArray(t)&&"object"==typeof t[1]}function Hn(t){return Array.isArray(t)&&!0===t[1]}function Pe(t){return 0!=(8&t.flags)}function xe(t){return 2==(2&t.flags)}function ye(t){return 1==(1&t.flags)}function ze(t){return null!==t.template}function It(t){return 0!=(512&t[2])}function ki(t,r){return t.hasOwnProperty(te)?t[te]:null}class Os{constructor(r,o,d){this.previousValue=r,this.currentValue=o,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ni(){return Ki}function Ki(t){return t.type.prototype.ngOnChanges&&(t.setInput=us),ao}function ao(){const t=ji(this),r=null==t?void 0:t.current;if(r){const o=t.previous;if(o===kr)t.previous=r;else for(let d in r)o[d]=r[d];t.current=null,this.ngOnChanges(r)}}function us(t,r,o,d){const p=ji(t)||function Ar(t,r){return t[Es]=r}(t,{previous:kr,current:null}),b=p.current||(p.current={}),C=p.previous,O=this.declaredInputs[o],F=C[O];b[O]=new Os(F&&F.currentValue,r,C===kr),t[d]=r}Ni.ngInherit=!0;const Es="__ngSimpleChanges__";function ji(t){return t[Es]||null}let Do;function Hi(t){Do=t}function Ir(t){return!!t.listen}const $={createRenderer:(t,r)=>function Co(){return void 0!==Do?Do:"undefined"!=typeof document?document:void 0}()};function H(t){for(;Array.isArray(t);)t=t[0];return t}function wt(t,r){return H(r[t])}function Nt(t,r){return H(r[t.index])}function $r(t,r){return t.data[r]}function rr(t,r){const o=r[t];return $t(o)?o:o[0]}function gr(t){return 4==(4&t[2])}function oi(t){return 128==(128&t[2])}function Lr(t,r){return null==r?null:t[r]}function Ds(t){t[18]=0}function is(t,r){t[5]+=r;let o=t,d=t[3];for(;null!==d&&(1===r&&1===o[5]||-1===r&&0===o[5]);)d[5]+=r,o=d,d=d[3]}const zn={lFrame:ho(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function z(){return zn.bindingsEnabled}function Y(){return zn.lFrame.lView}function Je(){return zn.lFrame.tView}function Dn(t){return zn.lFrame.contextLView=t,t[8]}function ir(){let t=xi();for(;null!==t&&64===t.type;)t=t.parent;return t}function xi(){return zn.lFrame.currentTNode}function qi(t,r){const o=zn.lFrame;o.currentTNode=t,o.isParent=r}function Ts(){return zn.lFrame.isParent}function ba(){return zn.isInCheckNoChangesMode}function _s(t){zn.isInCheckNoChangesMode=t}function Xs(){return zn.lFrame.bindingIndex++}function Ho(t,r){const o=zn.lFrame;o.bindingIndex=o.bindingRootIndex=t,$o(r)}function $o(t){zn.lFrame.currentDirectiveIndex=t}function na(){return zn.lFrame.currentQueryIndex}function ra(t){zn.lFrame.currentQueryIndex=t}function Ra(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function zo(t,r,o){if(o&Ft.SkipSelf){let p=r,b=t;for(;!(p=p.parent,null!==p||o&Ft.Host||(p=Ra(b),null===p||(b=b[15],10&p.type))););if(null===p)return!1;r=p,t=b}const d=zn.lFrame=Da();return d.currentTNode=r,d.lView=t,!0}function uo(t){const r=Da(),o=t[1];zn.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Da(){const t=zn.lFrame,r=null===t?null:t.child;return null===r?ho(t):r}function ho(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ca(){const t=zn.lFrame;return zn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qa=Ca;function Wo(){const t=Ca();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function es(){return zn.lFrame.selectedIndex}function Go(t){zn.lFrame.selectedIndex=t}function $i(){const t=zn.lFrame;return $r(t.tView,t.selectedIndex)}function Hs(t,r){for(let o=r.directiveStart,d=r.directiveEnd;o<d;o++){const b=t.data[o].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:O,ngAfterViewInit:F,ngAfterViewChecked:X,ngOnDestroy:oe}=b;C&&(t.contentHooks||(t.contentHooks=[])).push(-o,C),O&&((t.contentHooks||(t.contentHooks=[])).push(o,O),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(o,O)),F&&(t.viewHooks||(t.viewHooks=[])).push(-o,F),X&&((t.viewHooks||(t.viewHooks=[])).push(o,X),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(o,X)),null!=oe&&(t.destroyHooks||(t.destroyHooks=[])).push(o,oe)}}function No(t,r,o){Zi(t,r,3,o)}function Na(t,r,o,d){(3&t[2])===o&&Zi(t,r,o,d)}function Ai(t,r){let o=t[2];(3&o)===r&&(o&=2047,o+=1,t[2]=o)}function Zi(t,r,o,d){const b=null!=d?d:-1,C=r.length-1;let O=0;for(let F=void 0!==d?65535&t[18]:0;F<C;F++)if("number"==typeof r[F+1]){if(O=r[F],null!=d&&O>=d)break}else r[F]<0&&(t[18]+=65536),(O<b||-1==b)&&(Qa(t,o,r,F),t[18]=(4294901760&t[18])+F+2),F++}function Qa(t,r,o,d){const p=o[d]<0,b=o[d+1],O=t[p?-o[d]:o[d]];if(p){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{b.call(O)}finally{}}}else try{b.call(O)}finally{}}class ps{constructor(r,o,d){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=d}}function Lo(t,r,o){const d=Ir(t);let p=0;for(;p<o.length;){const b=o[p];if("number"==typeof b){if(0!==b)break;p++;const C=o[p++],O=o[p++],F=o[p++];d?t.setAttribute(r,O,F,C):r.setAttributeNS(C,O,F)}else{const C=b,O=o[++p];_n(C)?d&&t.setProperty(r,C,O):d?t.setAttribute(r,C,O):r.setAttribute(C,O),p++}}return p}function To(t){return 3===t||4===t||6===t}function _n(t){return 64===t.charCodeAt(0)}function M(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let d=0;d<r.length;d++){const p=r[d];"number"==typeof p?o=p:0===o||k(t,o,p,null,-1===o||2===o?r[++d]:null)}}return t}function k(t,r,o,d,p){let b=0,C=t.length;if(-1===r)C=-1;else for(;b<t.length;){const O=t[b++];if("number"==typeof O){if(O===r){C=-1;break}if(O>r){C=b-1;break}}}for(;b<t.length;){const O=t[b];if("number"==typeof O)break;if(O===o){if(null===d)return void(null!==p&&(t[b+1]=p));if(d===t[b+1])return void(t[b+2]=p)}b++,null!==d&&b++,null!==p&&b++}-1!==C&&(t.splice(C,0,r),b=C+1),t.splice(b++,0,o),null!==d&&t.splice(b++,0,d),null!==p&&t.splice(b++,0,p)}function q(t){return-1!==t}function re(t){return 32767&t}function ln(t,r){let o=function Ge(t){return t>>16}(t),d=r;for(;o>0;)d=d[15],o--;return d}let wi=!0;function Si(t){const r=wi;return wi=t,r}let xl=0;function Fa(t,r){const o=bs(t,r);if(-1!==o)return o;const d=r[1];d.firstCreatePass&&(t.injectorIndex=r.length,Ko(d.data,t),Ko(r,null),Ko(d.blueprint,null));const p=xs(t,r),b=t.injectorIndex;if(q(p)){const C=re(p),O=ln(p,r),F=O[1].data;for(let X=0;X<8;X++)r[b+X]=O[C+X]|F[C+X]}return r[b+8]=p,b}function Ko(t,r){t.push(0,0,0,0,0,0,0,0,r)}function bs(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function xs(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,d=null,p=r;for(;null!==p;){const b=p[1],C=b.type;if(d=2===C?b.declTNode:1===C?p[6]:null,null===d)return-1;if(o++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|o<<16}return-1}function R(t,r,o){!function Ta(t,r,o){let d;"string"==typeof o?d=o.charCodeAt(0)||0:o.hasOwnProperty(_e)&&(d=o[_e]),null==d&&(d=o[_e]=xl++);const p=255&d;r.data[t+(p>>5)]|=1<<p}(t,r,o)}function x(t,r,o){if(o&Ft.Optional)return t;$e(r,"NodeInjector")}function j(t,r,o,d){if(o&Ft.Optional&&void 0===d&&(d=null),0==(o&(Ft.Self|Ft.Host))){const p=t[9],b=Ln(void 0);try{return p?p.get(r,d,o&Ft.Optional):Ur(r,d,o&Ft.Optional)}finally{Ln(b)}}return x(d,r,o)}function K(t,r,o,d=Ft.Default,p){if(null!==t){const b=function Cn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(_e)?t[_e]:void 0;return"number"==typeof r?r>=0?255&r:Oe:r}(o);if("function"==typeof b){if(!zo(r,t,d))return d&Ft.Host?x(p,o,d):j(r,o,d,p);try{const C=b(d);if(null!=C||d&Ft.Optional)return C;$e(o)}finally{qa()}}else if("number"==typeof b){let C=null,O=bs(t,r),F=-1,X=d&Ft.Host?r[16][6]:null;for((-1===O||d&Ft.SkipSelf)&&(F=-1===O?xs(t,r):r[O+8],-1!==F&&_r(d,!1)?(C=r[1],O=re(F),r=ln(F,r)):O=-1);-1!==O;){const oe=r[1];if(Bn(b,O,oe.data)){const Ie=Ue(O,r,o,C,d,X);if(Ie!==ne)return Ie}F=r[O+8],-1!==F&&_r(d,r[1].data[O+8]===X)&&Bn(b,O,r)?(C=oe,O=re(F),r=ln(F,r)):O=-1}}}return j(r,o,d,p)}const ne={};function Oe(){return new Er(ir(),Y())}function Ue(t,r,o,d,p,b){const C=r[1],O=C.data[t+8],oe=Ot(O,C,o,null==d?xe(O)&&wi:d!=C&&0!=(3&O.type),p&Ft.Host&&b===O);return null!==oe?hn(r,C,oe,O):ne}function Ot(t,r,o,d,p){const b=t.providerIndexes,C=r.data,O=1048575&b,F=t.directiveStart,oe=b>>20,He=p?O+oe:t.directiveEnd;for(let gt=d?O:O+oe;gt<He;gt++){const Lt=C[gt];if(gt<F&&o===Lt||gt>=F&&Lt.type===o)return gt}if(p){const gt=C[F];if(gt&&ze(gt)&&gt.type===o)return F}return null}function hn(t,r,o,d){let p=t[o];const b=r.data;if(function sa(t){return t instanceof ps}(p)){const C=p;C.resolving&&function Le(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new dt(-200,`Circular dependency in DI detected for ${t}${o}`)}(lt(b[o]));const O=Si(C.canSeeViewProviders);C.resolving=!0;const F=C.injectImpl?Ln(C.injectImpl):null;zo(t,d,Ft.Default);try{p=t[o]=C.factory(void 0,b,t,d),r.firstCreatePass&&o>=d.directiveStart&&function ka(t,r,o){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:b}=r.type.prototype;if(d){const C=Ki(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(t,C),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,C)}p&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-t,p),b&&((o.preOrderHooks||(o.preOrderHooks=[])).push(t,b),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(t,b))}(o,b[o],r)}finally{null!==F&&Ln(F),Si(O),C.resolving=!1,qa()}}return p}function Bn(t,r,o){return!!(o[r+(t>>5)]&1<<t)}function _r(t,r){return!(t&Ft.Self||t&Ft.Host&&r)}class Er{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,d){return K(this._tNode,this._lView,r,d,o)}}function $s(t){return Mr(()=>{const r=t.prototype.constructor,o=r[te]||ci(r),d=Object.prototype;let p=Object.getPrototypeOf(t.prototype).constructor;for(;p&&p!==d;){const b=p[te]||ci(p);if(b&&b!==o)return b;p=Object.getPrototypeOf(p)}return b=>new b})}function ci(t){return Ye(t)?()=>{const r=ci(be(t));return r&&r()}:ki(t)}function qo(t){return function A(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const d=o.length;let p=0;for(;p<d;){const b=o[p];if(To(b))break;if(0===b)p+=2;else if("number"==typeof b)for(p++;p<d&&"string"==typeof o[p];)p++;else{if(b===r)return o[p+1];p+=2}}}return null}(ir(),t)}const ui="__parameters__";function aa(t,r,o){return Mr(()=>{const d=function Kl(t){return function(...o){if(t){const d=t(...o);for(const p in d)this[p]=d[p]}}}(r);function p(...b){if(this instanceof p)return d.apply(this,b),this;const C=new p(...b);return O.annotation=C,O;function O(F,X,oe){const Ie=F.hasOwnProperty(ui)?F[ui]:Object.defineProperty(F,ui,{value:[]})[ui];for(;Ie.length<=oe;)Ie.push(null);return(Ie[oe]=Ie[oe]||[]).push(C),F}}return o&&(p.prototype=Object.create(o.prototype)),p.prototype.ngMetadataName=t,p.annotationCls=p,p})}class Mi{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=on({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const el=new Mi("AnalyzeForEntryComponents");function Yi(t,r){void 0===r&&(r=t);for(let o=0;o<t.length;o++){let d=t[o];Array.isArray(d)?(r===t&&(r=t.slice(0,o)),Yi(d,r)):r!==t&&r.push(d)}return r}function po(t,r){t.forEach(o=>Array.isArray(o)?po(o,r):r(o))}function ql(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function go(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function to(t,r,o){let d=Ss(t,r);return d>=0?t[1|d]=o:(d=~d,function Th(t,r,o,d){let p=t.length;if(p==r)t.push(o,d);else if(1===p)t.push(d,t[0]),t[0]=o;else{for(p--,t.push(t[p-1],t[p]);p>r;)t[p]=t[p-2],p--;t[r]=o,t[r+1]=d}}(t,d,r,o)),d}function Oi(t,r){const o=Ss(t,r);if(o>=0)return t[1|o]}function Ss(t,r){return function rl(t,r,o){let d=0,p=t.length>>o;for(;p!==d;){const b=d+(p-d>>1),C=t[b<<o];if(r===C)return b<<o;C>r?p=b:d=b+1}return~(p<<o)}(t,r,1)}const le={},Re="__NG_DI_FLAG__",at="ngTempTokenPath",Jt=/\n/gm,Wn="__source",Dr=Ne({provide:String,useValue:Ne});let ei;function Rr(t){const r=ei;return ei=t,r}function gs(t,r=Ft.Default){if(void 0===ei)throw new dt(203,"");return null===ei?Ur(t,void 0,r):ei.get(t,r&Ft.Optional?null:void 0,r)}function ti(t,r=Ft.Default){return(function lr(){return $n}()||gs)(be(t),r)}const Xl=ti;function ml(t){const r=[];for(let o=0;o<t.length;o++){const d=be(t[o]);if(Array.isArray(d)){if(0===d.length)throw new dt(900,"");let p,b=Ft.Default;for(let C=0;C<d.length;C++){const O=d[C],F=as(O);"number"==typeof F?-1===F?p=O.token:b|=F:p=O}r.push(ti(p,b))}else r.push(ti(d))}return r}function ws(t,r){return t[Re]=r,t.prototype[Re]=r,t}function as(t){return t[Re]}const Jl=ws(aa("Inject",t=>({token:t})),-1),ua=ws(aa("Optional"),8),da=ws(aa("SkipSelf"),4);class qu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fo(t){return t instanceof qu?t.changingThisBreaksApplicationSecurity:t}const Ha=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ms=(()=>((Ms=Ms||{})[Ms.NONE=0]="NONE",Ms[Ms.HTML=1]="HTML",Ms[Ms.STYLE=2]="STYLE",Ms[Ms.SCRIPT=3]="SCRIPT",Ms[Ms.URL=4]="URL",Ms[Ms.RESOURCE_URL=5]="RESOURCE_URL",Ms))();function Qu(t){const r=function sc(){const t=Y();return t&&t[12]}();return r?r.sanitize(Ms.URL,t)||"":function Ol(t,r){const o=function Oh(t){return t instanceof qu&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(t,"URL")?Fo(t):function ns(t){return(t=String(t)).match(Ha)||t.match(Hf)?t:"unsafe:"+t}(yt(t))}const _u="__ngContext__";function _o(t,r){t[_u]=r}function vu(t){const r=function Sa(t){return t[_u]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function jd(t){return t.ngOriginalError}function Ao(t,...r){t.error(...r)}class Ii{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r),d=function wu(t){return t&&t.ngErrorLogger||Ao}(r);d(this._console,"ERROR",r),o&&d(this._console,"ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&jd(r);for(;o&&jd(o);)o=jd(o);return o||null}}const zd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pn))();function v(t){return t instanceof Function?t():t}var xt=(()=>((xt=xt||{})[xt.Important=1]="Important",xt[xt.DashCase=2]="DashCase",xt))();function Vn(t,r){return undefined(t,r)}function ms(t){const r=t[3];return Hn(r)?r[3]:r}function Du(t){return id(t[13])}function Vc(t){return id(t[4])}function id(t){for(;null!==t&&!Hn(t);)t=t[4];return t}function At(t,r,o,d,p){if(null!=d){let b,C=!1;Hn(d)?b=d:$t(d)&&(C=!0,d=d[0]);const O=H(d);0===t&&null!==o?null==p?bl(r,o,O):ul(r,o,O,p||null,!0):1===t&&null!==o?ul(r,o,O,p||null,!0):2===t?function Yp(t,r,o){const d=Iu(t,r);d&&function ad(t,r,o,d){Ir(t)?t.removeChild(r,o,d):r.removeChild(o)}(t,d,r,o)}(r,O,C):3===t&&r.destroyNode(O),null!=b&&function Yd(t,r,o,d,p){const b=o[7];b!==H(o)&&At(r,t,d,b,p);for(let O=10;O<o.length;O++){const F=o[O];Zd(F[1],F,t,r,d,b)}}(r,t,b,o,p)}}function Fl(t,r,o){if(Ir(t))return t.createElement(r,o);{const d=null!==o?function Eo(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(o):null;return null===d?t.createElement(r):t.createElementNS(d,r)}}function vo(t,r){const o=t[9],d=o.indexOf(r),p=r[3];1024&r[2]&&(r[2]&=-1025,is(p,-1)),o.splice(d,1)}function od(t,r){if(t.length<=10)return;const o=10+r,d=t[o];if(d){const p=d[17];null!==p&&p!==t&&vo(p,d),r>0&&(t[o-1][4]=d[4]);const b=go(t,10+r);!function Vl(t,r){Zd(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(d[1],d);const C=b[19];null!==C&&C.detachView(b[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Kd(t,r){if(!(256&r[2])){const o=r[11];Ir(o)&&o.destroyNode&&Zd(t,r,o,3,null,null),function Cu(t){let r=t[13];if(!r)return qd(t[1],t);for(;r;){let o=null;if($t(r))o=r[13];else{const d=r[10];d&&(o=d)}if(!o){for(;r&&!r[4]&&r!==t;)$t(r)&&qd(r[1],r),r=r[3];null===r&&(r=t),$t(r)&&qd(r[1],r),o=r&&r[4]}r=o}}(r)}}function qd(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Qf(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let d=0;d<o.length;d+=2){const p=r[o[d]];if(!(p instanceof ps)){const b=o[d+1];if(Array.isArray(b))for(let C=0;C<b.length;C+=2){const O=p[b[C]],F=b[C+1];try{F.call(O)}finally{}}else try{b.call(p)}finally{}}}}(t,r),function Bc(t,r){const o=t.cleanup,d=r[7];let p=-1;if(null!==o)for(let b=0;b<o.length-1;b+=2)if("string"==typeof o[b]){const C=o[b+1],O="function"==typeof C?C(r):H(r[C]),F=d[p=o[b+2]],X=o[b+3];"boolean"==typeof X?O.removeEventListener(o[b],F,X):X>=0?d[p=X]():d[p=-X].unsubscribe(),b+=2}else{const C=d[p=o[b+1]];o[b].call(C)}if(null!==d){for(let b=p+1;b<d.length;b++)d[b]();r[7]=null}}(t,r),1===r[1].type&&Ir(r[11])&&r[11].destroy();const o=r[17];if(null!==o&&Hn(r[3])){o!==r[3]&&vo(o,r);const d=r[19];null!==d&&d.detachView(t)}}}function qp(t,r,o){return function Wh(t,r,o){let d=r;for(;null!==d&&40&d.type;)d=(r=d).parent;if(null===d)return o[0];if(2&d.flags){const p=t.data[d.directiveStart].encapsulation;if(p===qt.None||p===qt.Emulated)return null}return Nt(d,o)}(t,r.parent,o)}function ul(t,r,o,d,p){Ir(t)?t.insertBefore(r,o,d,p):r.insertBefore(o,d,p)}function bl(t,r,o){Ir(t)?t.appendChild(r,o):r.appendChild(o)}function wl(t,r,o,d,p){null!==d?ul(t,r,o,d,p):bl(t,r,o)}function Iu(t,r){return Ir(t)?t.parentNode(r):r.parentNode}let Xf=function Kh(t,r,o){return 40&t.type?Nt(t,o):null};function Uc(t,r,o,d){const p=qp(t,d,r),b=r[11],O=function Gh(t,r,o){return Xf(t,r,o)}(d.parent||r[6],d,r);if(null!=p)if(Array.isArray(o))for(let F=0;F<o.length;F++)wl(b,p,o[F],O,!1);else wl(b,p,o,O,!1)}function cd(t,r){if(null!==r){const o=r.type;if(3&o)return Nt(r,t);if(4&o)return uc(-1,t[r.index]);if(8&o){const d=r.child;if(null!==d)return cd(t,d);{const p=t[r.index];return Hn(p)?uc(-1,p):H(p)}}if(32&o)return Vn(r,t)()||H(t[r.index]);{const d=ud(t,r);return null!==d?Array.isArray(d)?d[0]:cd(ms(t[16]),d):cd(t,r.next)}}return null}function ud(t,r){return null!==r?t[16][6].projection[r.projection]:null}function uc(t,r){const o=10+t+1;if(o<r.length){const d=r[o],p=d[1].firstChild;if(null!==p)return cd(d,p)}return r[7]}function qh(t,r,o,d,p,b,C){for(;null!=o;){const O=d[o.index],F=o.type;if(C&&0===r&&(O&&_o(H(O),d),o.flags|=4),64!=(64&o.flags))if(8&F)qh(t,r,o.child,d,p,b,!1),At(r,t,p,O,b);else if(32&F){const X=Vn(o,d);let oe;for(;oe=X();)At(r,t,p,oe,b);At(r,t,p,O,b)}else 16&F?Qp(t,r,d,o,p,b):At(r,t,p,O,b);o=C?o.projectionNext:o.next}}function Zd(t,r,o,d,p,b){qh(o,d,t.firstChild,r,p,b,!1)}function Qp(t,r,o,d,p,b){const C=o[16],F=C[6].projection[d.projection];if(Array.isArray(F))for(let X=0;X<F.length;X++)At(r,t,p,F[X],b);else qh(t,r,F,C[3],p,b,!0)}function Wa(t,r,o){Ir(t)?t.setAttribute(r,"style",o):r.style.cssText=o}function Tu(t,r,o){Ir(t)?""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o):r.className=o}function Xp(t,r,o){let d=t.length;for(;;){const p=t.indexOf(r,o);if(-1===p)return p;if(0===p||t.charCodeAt(p-1)<=32){const b=r.length;if(p+b===d||t.charCodeAt(p+b)<=32)return p}o=p+1}}const Zh="ng-template";function dd(t,r,o){let d=0;for(;d<t.length;){let p=t[d++];if(o&&"class"===p){if(p=t[d],-1!==Xp(p.toLowerCase(),r,0))return!0}else if(1===p){for(;d<t.length&&"string"==typeof(p=t[d++]);)if(p.toLowerCase()===r)return!0;return!1}}return!1}function Jp(t){return 4===t.type&&t.value!==Zh}function eg(t,r,o){return r===(4!==t.type||o?t.value:Zh)}function Qd(t,r,o){let d=4;const p=t.attrs||[],b=function tg(t){for(let r=0;r<t.length;r++)if(To(t[r]))return r;return t.length}(p);let C=!1;for(let O=0;O<r.length;O++){const F=r[O];if("number"!=typeof F){if(!C)if(4&d){if(d=2|1&d,""!==F&&!eg(t,F,o)||""===F&&1===r.length){if(Ma(d))return!1;C=!0}}else{const X=8&d?F:r[++O];if(8&d&&null!==t.attrs){if(!dd(t.attrs,X,o)){if(Ma(d))return!1;C=!0}continue}const Ie=Yh(8&d?"class":F,p,Jp(t),o);if(-1===Ie){if(Ma(d))return!1;C=!0;continue}if(""!==X){let He;He=Ie>b?"":p[Ie+1].toLowerCase();const gt=8&d?He:null;if(gt&&-1!==Xp(gt,X,0)||2&d&&X!==He){if(Ma(d))return!1;C=!0}}}}else{if(!C&&!Ma(d)&&!Ma(F))return!1;if(C&&Ma(F))continue;C=!1,d=F|1&d}}return Ma(d)||C}function Ma(t){return 0==(1&t)}function Yh(t,r,o,d){if(null===r)return-1;let p=0;if(d||!o){let b=!1;for(;p<r.length;){const C=r[p];if(C===t)return p;if(3===C||6===C)b=!0;else{if(1===C||2===C){let O=r[++p];for(;"string"==typeof O;)O=r[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=b?1:2}return-1}return function dc(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const d=t[o];if("number"==typeof d)return-1;if(d===r)return o;o++}return-1}(r,t)}function Qh(t,r,o=!1){for(let d=0;d<r.length;d++)if(Qd(t,r[d],o))return!0;return!1}function hd(t,r){return t?":not("+r.trim()+")":r}function hc(t){let r=t[0],o=1,d=2,p="",b=!1;for(;o<t.length;){let C=t[o];if("string"==typeof C)if(2&d){const O=t[++o];p+="["+C+(O.length>0?'="'+O+'"':"")+"]"}else 8&d?p+="."+C:4&d&&(p+=" "+C);else""!==p&&!Ma(C)&&(r+=hd(b,p),p=""),d=C,b=b||!Ma(d);o++}return""!==p&&(r+=hd(b,p)),r}const mr={};function rg(t){xu(Je(),Y(),es()+t,ba())}function xu(t,r,o,d){if(!d)if(3==(3&r[2])){const b=t.preOrderCheckHooks;null!==b&&No(r,b,o)}else{const b=t.preOrderHooks;null!==b&&Na(r,b,0,o)}Go(o)}function El(t,r){return t<<17|r<<2}function Bo(t){return t>>17&32767}function np(t){return 2|t}function Bl(t){return(131068&t)>>2}function rp(t,r){return-131069&t|r<<2}function pd(t){return 1|t}function mg(t,r){const o=t.contentQueries;if(null!==o)for(let d=0;d<o.length;d+=2){const p=o[d],b=o[d+1];if(-1!==b){const C=t.data[b];ra(p),C.contentQueries(2,r[b],b)}}}function sh(t,r,o,d,p,b,C,O,F,X){const oe=r.blueprint.slice();return oe[0]=p,oe[2]=140|d,Ds(oe),oe[3]=oe[15]=t,oe[8]=o,oe[10]=C||t&&t[10],oe[11]=O||t&&t[11],oe[12]=F||t&&t[12]||null,oe[9]=X||t&&t[9]||null,oe[6]=b,oe[16]=2==r.type?t[16]:oe,oe}function zc(t,r,o,d,p){let b=t.data[r];if(null===b)b=function pc(t,r,o,d,p){const b=xi(),C=Ts(),F=t.data[r]=function mc(t,r,o,d,p,b){return{type:o,index:d,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:b,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?b:b&&b.parent,o,r,d,p);return null===t.firstChild&&(t.firstChild=F),null!==b&&(C?null==b.child&&null!==F.parent&&(b.child=F):null===b.next&&(b.next=F)),F}(t,r,o,d,p),function ta(){return zn.lFrame.inI18n}()&&(b.flags|=64);else if(64&b.type){b.type=o,b.value=d,b.attrs=p;const C=function Ji(){const t=zn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();b.injectorIndex=null===C?-1:C.injectorIndex}return qi(b,!0),b}function Wc(t,r,o,d){if(0===o)return-1;const p=r.length;for(let b=0;b<o;b++)r.push(d),t.blueprint.push(d),t.data.push(null);return p}function Ou(t,r,o){uo(r);try{const d=t.viewQuery;null!==d&&_c(1,d,o);const p=t.template;null!==p&&ah(t,r,p,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&mg(t,r),t.staticViewQueries&&_c(2,t.viewQuery,o);const b=t.components;null!==b&&function pm(t,r){for(let o=0;o<r.length;o++)Ig(t,r[o])}(r,b)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{r[2]&=-5,Wo()}}function gc(t,r,o,d){const p=r[2];if(256==(256&p))return;uo(r);const b=ba();try{Ds(r),function wa(t){return zn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&ah(t,r,o,2,d);const C=3==(3&p);if(!b)if(C){const X=t.preOrderCheckHooks;null!==X&&No(r,X,null)}else{const X=t.preOrderHooks;null!==X&&Na(r,X,0,null),Ai(r,0)}if(function Cg(t){for(let r=Du(t);null!==r;r=Vc(r)){if(!r[2])continue;const o=r[9];for(let d=0;d<o.length;d++){const p=o[d],b=p[3];0==(1024&p[2])&&is(b,1),p[2]|=1024}}}(r),function yp(t){for(let r=Du(t);null!==r;r=Vc(r))for(let o=10;o<r.length;o++){const d=r[o],p=d[1];oi(d)&&gc(p,d,p.template,d[8])}}(r),null!==t.contentQueries&&mg(t,r),!b)if(C){const X=t.contentCheckHooks;null!==X&&No(r,X)}else{const X=t.contentHooks;null!==X&&Na(r,X,1),Ai(r,1)}!function hm(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let d=0;d<o.length;d++){const p=o[d];if(p<0)Go(~p);else{const b=p,C=o[++d],O=o[++d];Ho(C,b),O(2,r[b])}}}finally{Go(-1)}}(t,r);const O=t.components;null!==O&&function fm(t,r){for(let o=0;o<r.length;o++)ym(t,r[o])}(r,O);const F=t.viewQuery;if(null!==F&&_c(2,F,d),!b)if(C){const X=t.viewCheckHooks;null!==X&&No(r,X)}else{const X=t.viewHooks;null!==X&&Na(r,X,2),Ai(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),b||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,is(r[3],-1))}finally{Wo()}}function oh(t,r,o,d){const p=r[10],b=!ba(),C=gr(r);try{b&&!C&&p.begin&&p.begin(),C&&Ou(t,r,d),gc(t,r,o,d)}finally{b&&!C&&p.end&&p.end()}}function ah(t,r,o,d,p){const b=es(),C=2&d;try{Go(-1),C&&r.length>20&&xu(t,r,20,ba()),o(d,p)}finally{Go(b)}}function Gc(t,r,o){!z()||(function fp(t,r,o,d){const p=o.directiveStart,b=o.directiveEnd;t.firstCreatePass||Fa(o,r),_o(d,r);const C=o.initialInputs;for(let O=p;O<b;O++){const F=t.data[O],X=ze(F);X&&gp(r,o,F);const oe=hn(r,t,O,o);_o(oe,r),null!==C&&uf(0,O-p,oe,F,0,C),X&&(rr(o.index,r)[8]=oe)}}(t,r,o,Nt(o,r)),128==(128&o.flags)&&function wg(t,r,o){const d=o.directiveStart,p=o.directiveEnd,C=o.index,O=function Ea(){return zn.lFrame.currentDirectiveIndex}();try{Go(C);for(let F=d;F<p;F++){const X=t.data[F],oe=r[F];$o(F),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&uh(X,oe)}}finally{Go(-1),$o(O)}}(t,r,o))}function lh(t,r,o=Nt){const d=r.localNames;if(null!==d){let p=r.index+1;for(let b=0;b<d.length;b+=2){const C=d[b+1],O=-1===C?o(r,t):t[C];t[p++]=O}}}function cp(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=sf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function sf(t,r,o,d,p,b,C,O,F,X){const oe=20+d,Ie=oe+p,He=function yg(t,r){const o=[];for(let d=0;d<r;d++)o.push(d<t?null:mr);return o}(oe,Ie),gt="function"==typeof X?X():X;return He[1]={type:t,blueprint:He,template:o,queries:null,viewQuery:O,declTNode:r,data:He.slice().fill(null,oe),bindingStartIndex:oe,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof b?b():b,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:F,consts:gt,incompleteFirstPass:!1}}function up(t,r,o,d){const p=Kc(r);null===o?p.push(d):(p.push(o),t.firstCreatePass&&jl(t).push(d,p.length-1))}function md(t,r,o){for(let d in t)if(t.hasOwnProperty(d)){const p=t[d];(o=null===o?{}:o).hasOwnProperty(d)?o[d].push(r,p):o[d]=[r,p]}return o}function Pu(t,r,o,d){let p=!1;if(z()){const b=function lf(t,r,o){const d=t.directiveRegistry;let p=null;if(d)for(let b=0;b<d.length;b++){const C=d[b];Qh(o,C.selectors,!1)&&(p||(p=[]),R(Fa(o,r),t,C.type),ze(C)?(yc(t,o),p.unshift(C)):p.push(C))}return p}(t,r,o),C=null===d?null:{"":-1};if(null!==b){p=!0,cf(o,t.data.length,b.length);for(let oe=0;oe<b.length;oe++){const Ie=b[oe];Ie.providersResolver&&Ie.providersResolver(Ie)}let O=!1,F=!1,X=Wc(t,r,b.length,null);for(let oe=0;oe<b.length;oe++){const Ie=b[oe];o.mergedAttrs=M(o.mergedAttrs,Ie.hostAttrs),Dg(t,o,r,X,Ie),Eg(X,Ie,C),null!==Ie.contentQueries&&(o.flags|=8),(null!==Ie.hostBindings||null!==Ie.hostAttrs||0!==Ie.hostVars)&&(o.flags|=128);const He=Ie.type.prototype;!O&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(o.index),O=!0),!F&&(He.ngOnChanges||He.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(o.index),F=!0),X++}!function dp(t,r){const d=r.directiveEnd,p=t.data,b=r.attrs,C=[];let O=null,F=null;for(let X=r.directiveStart;X<d;X++){const oe=p[X],Ie=oe.inputs,He=null===b||Jp(r)?null:mp(Ie,b);C.push(He),O=md(Ie,X,O),F=md(oe.outputs,X,F)}null!==O&&(O.hasOwnProperty("class")&&(r.flags|=16),O.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=C,r.inputs=O,r.outputs=F}(t,o)}C&&function pp(t,r,o){if(r){const d=t.localNames=[];for(let p=0;p<r.length;p+=2){const b=o[r[p+1]];if(null==b)throw new dt(-301,!1);d.push(r[p],b)}}}(o,d,C)}return o.mergedAttrs=M(o.mergedAttrs,o.attrs),p}function ch(t,r,o,d,p,b){const C=b.hostBindings;if(C){let O=t.hostBindingOpCodes;null===O&&(O=t.hostBindingOpCodes=[]);const F=~r.index;(function af(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(O)!=F&&O.push(F),O.push(d,p,C)}}function uh(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function yc(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Eg(t,r,o){if(o){if(r.exportAs)for(let d=0;d<r.exportAs.length;d++)o[r.exportAs[d]]=t;ze(r)&&(o[""]=t)}}function cf(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}function Dg(t,r,o,d,p){t.data[d]=p;const b=p.factory||(p.factory=ki(p.type)),C=new ps(b,ze(p),null);t.blueprint[d]=C,o[d]=C,ch(t,r,0,d,Wc(t,o,p.hostVars,mr),p)}function gp(t,r,o){const d=Nt(r,t),p=cp(o),b=t[10],C=bd(t,sh(t,p,null,o.onPush?64:16,d,r,b,b.createRenderer(d,o),null,null));t[r.index]=C}function Dl(t,r,o,d,p,b){const C=Nt(t,r);!function dh(t,r,o,d,p,b,C){if(null==b)Ir(t)?t.removeAttribute(r,p,o):r.removeAttribute(p);else{const O=null==C?yt(b):C(b,d||"",p);Ir(t)?t.setAttribute(r,p,O,o):o?r.setAttributeNS(o,p,O):r.setAttribute(p,O)}}(r[11],C,b,t.value,o,d,p)}function uf(t,r,o,d,p,b){const C=b[r];if(null!==C){const O=d.setInput;for(let F=0;F<C.length;){const X=C[F++],oe=C[F++],Ie=C[F++];null!==O?d.setInput(o,Ie,X,oe):o[oe]=Ie}}}function mp(t,r){let o=null,d=0;for(;d<r.length;){const p=r[d];if(0!==p)if(5!==p){if("number"==typeof p)break;t.hasOwnProperty(p)&&(null===o&&(o=[]),o.push(p,t[p],r[d+1])),d+=2}else d+=2;else d+=4}return o}function Ru(t,r,o,d){return new Array(t,!0,!1,r,null,0,d,o,null,null)}function ym(t,r){const o=rr(r,t);if(oi(o)){const d=o[1];80&o[2]?gc(d,o,d.template,o[8]):o[5]>0&&df(o)}}function df(t){for(let d=Du(t);null!==d;d=Vc(d))for(let p=10;p<d.length;p++){const b=d[p];if(1024&b[2]){const C=b[1];gc(C,b,C.template,b[8])}else b[5]>0&&df(b)}const o=t[1].components;if(null!==o)for(let d=0;d<o.length;d++){const p=rr(o[d],t);oi(p)&&p[5]>0&&df(p)}}function Ig(t,r){const o=rr(r,t),d=o[1];(function ay(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])})(d,o),Ou(d,o,o[8])}function bd(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function hf(t){for(;t;){t[2]|=64;const r=ms(t);if(It(t)&&!r)return t;t=r}return null}function wd(t,r,o){const d=r[10];d.begin&&d.begin();try{gc(t,r,t.template,o)}catch(p){throw ku(r,p),p}finally{d.end&&d.end()}}function Tg(t){!function vp(t){for(let r=0;r<t.components.length;r++){const o=t.components[r],d=vu(o),p=d[1];oh(p,d,p.template,o)}}(t[8])}function _c(t,r,o){ra(0),r(t,o)}const wp=(()=>Promise.resolve(null))();function Kc(t){return t[7]||(t[7]=[])}function jl(t){return t.cleanup||(t.cleanup=[])}function ku(t,r){const o=t[9],d=o?o.get(Ii,null):null;d&&d.handleError(r)}function Nu(t,r,o,d,p){for(let b=0;b<o.length;){const C=o[b++],O=o[b++],F=r[C],X=t.data[C];null!==X.setInput?X.setInput(F,p,d,O):F[O]=p}}function dl(t,r,o){const d=wt(r,t);!function pa(t,r,o){Ir(t)?t.setValue(r,o):r.textContent=o}(t[11],d,o)}function vc(t,r,o){let d=o?t.styles:null,p=o?t.classes:null,b=0;if(null!==r)for(let C=0;C<r.length;C++){const O=r[C];"number"==typeof O?b=O:1==b?p=De(p,O):2==b&&(d=De(d,O+": "+r[++C]+";"))}o?t.styles=d:t.stylesWithoutHost=d,o?t.classes=p:t.classesWithoutHost=p}const Ed=new Mi("INJECTOR",-1);class pf{get(r,o=le){if(o===le){const d=new Error(`NullInjectorError: No provider for ${me(r)}!`);throw d.name="NullInjectorError",d}return o}}const Lu=new Mi("Set Injector scope."),hh={},vm={};let fh;function gf(){return void 0===fh&&(fh=new pf),fh}function Dp(t,r=null,o=null,d){const p=mf(t,r,o,d);return p._resolveInjectorDefTypes(),p}function mf(t,r=null,o=null,d){return new bm(t,o,r||gf(),d)}class bm{constructor(r,o,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const b=[];o&&po(o,O=>this.processProvider(O,r,o)),po([r],O=>this.processInjectorType(O,[],b)),this.records.set(Ed,Dd(void 0,this));const C=this.records.get(Lu);this.scope=null!=C?C.value:null,this.source=p||("object"==typeof r?null:me(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,o=le,d=Ft.Default){this.assertNotDestroyed();const p=Rr(this),b=Ln(void 0);try{if(!(d&Ft.SkipSelf)){let O=this.records.get(r);if(void 0===O){const F=function Tp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Mi}(r)&&kn(r);O=F&&this.injectableDefInScope(F)?Dd(ph(r),hh):null,this.records.set(r,O)}if(null!=O)return this.hydrate(r,O)}return(d&Ft.Self?gf():this.parent).get(r,o=d&Ft.Optional&&o===le?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[at]=C[at]||[]).unshift(me(r)),p)throw C;return function Sc(t,r,o,d){const p=t[at];throw r[Wn]&&p.unshift(r[Wn]),t.message=function kd(t,r,o,d=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let p=me(r);if(Array.isArray(r))p=r.map(me).join(" -> ");else if("object"==typeof r){let b=[];for(let C in r)if(r.hasOwnProperty(C)){let O=r[C];b.push(C+":"+("string"==typeof O?JSON.stringify(O):me(O)))}p=`{${b.join(", ")}}`}return`${o}${d?"("+d+")":""}[${p}]: ${t.replace(Jt,"\n  ")}`}("\n"+t.message,p,o,d),t.ngTokenPath=p,t[at]=null,t}(C,r,"R3InjectorError",this.source)}throw C}finally{Ln(b),Rr(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((d,p)=>r.push(me(p))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processInjectorType(r,o,d){if(!(r=be(r)))return!1;let p=vr(r);const b=null==p&&r.ngModule||void 0,C=void 0===b?r:b,O=-1!==d.indexOf(C);if(void 0!==b&&(p=vr(b)),null==p)return!1;if(null!=p.imports&&!O){let oe;d.push(C);try{po(p.imports,Ie=>{this.processInjectorType(Ie,o,d)&&(void 0===oe&&(oe=[]),oe.push(Ie))})}finally{}if(void 0!==oe)for(let Ie=0;Ie<oe.length;Ie++){const{ngModule:He,providers:gt}=oe[Ie];po(gt,Lt=>this.processProvider(Lt,He,gt||Tn))}}this.injectorDefTypes.add(C);const F=ki(C)||(()=>new C);this.records.set(C,Dd(F,hh));const X=p.providers;if(null!=X&&!O){const oe=r;po(X,Ie=>this.processProvider(Ie,oe,X))}return void 0!==b&&void 0!==r.providers}processProvider(r,o,d){let p=qc(r=be(r))?r:be(r&&r.provide);const b=function Og(t,r,o){return Pg(t)?Dd(void 0,t.useValue):Dd(yf(t),hh)}(r);if(qc(r)||!0!==r.multi)this.records.get(p);else{let C=this.records.get(p);C||(C=Dd(void 0,hh,!0),C.factory=()=>ml(C.multi),this.records.set(p,C)),p=r,C.multi.push(r)}this.records.set(p,b)}hydrate(r,o){return o.value===hh&&(o.value=vm,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Em(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=be(r.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function ph(t){const r=kn(t),o=null!==r?r.factory:ki(t);if(null!==o)return o;if(t instanceof Mi)throw new dt(204,!1);if(t instanceof Function)return function Mg(t){const r=t.length;if(r>0)throw function eo(t,r){const o=[];for(let d=0;d<t;d++)o.push(r);return o}(r,"?"),new dt(204,!1);const o=function Un(t){const r=t&&(t[Tr]||t[zr]);if(r){const o=function pr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new dt(204,!1)}function yf(t,r,o){let d;if(qc(t)){const p=be(t);return ki(p)||ph(p)}if(Pg(t))d=()=>be(t.useValue);else if(function Rg(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...ml(t.deps||[]));else if(function wm(t){return!(!t||!t.useExisting)}(t))d=()=>ti(be(t.useExisting));else{const p=be(t&&(t.useClass||t.provide));if(!function Ip(t){return!!t.deps}(t))return ki(p)||ph(p);d=()=>new p(...ml(t.deps))}return d}function Dd(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Pg(t){return null!==t&&"object"==typeof t&&Dr in t}function qc(t){return"function"==typeof t}let Hl=(()=>{class t{static create(o,d){var p;if(Array.isArray(o))return Dp({name:""},d,o,"");{const b=null!==(p=o.name)&&void 0!==p?p:"";return Dp({name:b},o.parent,o.providers,b)}}}return t.THROW_IF_NOT_FOUND=le,t.NULL=new pf,t.\u0275prov=on({token:t,providedIn:"any",factory:()=>ti(Ed)}),t.__NG_ELEMENT_ID__=-1,t})();function Df(t,r){Hs(vu(t)[1],ir())}function _h(t){let r=function If(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const d=[t];for(;r;){let p;if(ze(t))p=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new dt(903,"");p=r.\u0275dir}if(p){if(o){d.push(p);const C=t;C.inputs=vh(t.inputs),C.declaredInputs=vh(t.declaredInputs),C.outputs=vh(t.outputs);const O=p.hostBindings;O&&Bg(t,O);const F=p.viewQuery,X=p.contentQueries;if(F&&Tf(t,F),X&&Vg(t,X),Ae(t.inputs,p.inputs),Ae(t.declaredInputs,p.declaredInputs),Ae(t.outputs,p.outputs),ze(p)&&p.data.animation){const oe=t.data;oe.animation=(oe.animation||[]).concat(p.data.animation)}}const b=p.features;if(b)for(let C=0;C<b.length;C++){const O=b[C];O&&O.ngInherit&&O(t),O===_h&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Rp(t){let r=0,o=null;for(let d=t.length-1;d>=0;d--){const p=t[d];p.hostVars=r+=p.hostVars,p.hostAttrs=M(p.hostAttrs,o=M(o,p.hostAttrs))}}(d)}function vh(t){return t===kr?{}:t===Tn?[]:t}function Tf(t,r){const o=t.viewQuery;t.viewQuery=o?(d,p)=>{r(d,p),o(d,p)}:r}function Vg(t,r){const o=t.contentQueries;t.contentQueries=o?(d,p,b)=>{r(d,p,b),o(d,p,b)}:r}function Bg(t,r){const o=t.hostBindings;t.hostBindings=o?(d,p)=>{r(d,p),o(d,p)}:r}let Cd=null;function Zc(){if(!Cd){const t=Pn.Symbol;if(t&&t.iterator)Cd=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const d=r[o];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Cd=d)}}}return Cd}function wh(t){return!!Np(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zc()in t)}function Np(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Lp(t,r,o,d){const p=Y();return bo(p,Xs(),r)&&(Je(),Dl($i(),p,t,r,o,d)),Lp}function Mf(t,r,o,d,p,b,C,O){const F=Y(),X=Je(),oe=t+20,Ie=X.firstCreatePass?function Sm(t,r,o,d,p,b,C,O,F){const X=r.consts,oe=zc(r,t,4,C||null,Lr(X,O));Pu(r,o,oe,Lr(X,F)),Hs(r,oe);const Ie=oe.tViews=sf(2,oe,d,p,b,r.directiveRegistry,r.pipeRegistry,null,r.schemas,X);return null!==r.queries&&(r.queries.template(r,oe),Ie.queries=r.queries.embeddedTView(oe)),oe}(oe,X,F,r,o,d,p,b,C):X.data[oe];qi(Ie,!1);const He=F[11].createComment("");Uc(X,F,He,Ie),_o(He,F),bd(F,F[oe]=Ru(He,F,He,Ie)),ye(Ie)&&Gc(X,F,Ie),null!=C&&lh(F,Ie,O)}function fe(t,r=Ft.Default){const o=Y();return null===o?ti(t,r):K(ir(),o,be(t),r)}function Me(){throw new Error("invalid")}function Ve(t,r,o){const d=Y();return bo(d,Xs(),r)&&function Ga(t,r,o,d,p,b,C,O){const F=Nt(r,o);let oe,X=r.inputs;!O&&null!=X&&(oe=X[d])?(Nu(t,o,oe,d,p),xe(r)&&function yd(t,r){const o=rr(r,t);16&o[2]||(o[2]|=64)}(o,r.index)):3&r.type&&(d=function bg(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),p=null!=C?C(p,r.value||"",d):p,Ir(b)?b.setProperty(F,d,p):_n(d)||(F.setProperty?F.setProperty(d,p):F[d]=p))}(Je(),$i(),d,t,r,d[11],o,!1),Ve}function Ke(t,r,o,d,p){const C=p?"class":"style";Nu(t,o,r.inputs[C],C,d)}function Et(t,r,o,d){const p=Y(),b=Je(),C=20+t,O=p[11],F=p[C]=Fl(O,r,function Ia(){return zn.lFrame.currentNamespace}()),X=b.firstCreatePass?function mt(t,r,o,d,p,b,C){const O=r.consts,X=zc(r,t,2,p,Lr(O,b));return Pu(r,o,X,Lr(O,C)),null!==X.attrs&&vc(X,X.attrs,!1),null!==X.mergedAttrs&&vc(X,X.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,X),X}(C,b,p,0,r,o,d):b.data[C];qi(X,!0);const oe=X.mergedAttrs;null!==oe&&Lo(O,F,oe);const Ie=X.classes;null!==Ie&&Tu(O,F,Ie);const He=X.styles;return null!==He&&Wa(O,F,He),64!=(64&X.flags)&&Uc(b,p,F,X),0===function Is(){return zn.lFrame.elementDepthCount}()&&_o(F,p),function Fs(){zn.lFrame.elementDepthCount++}(),ye(X)&&(Gc(b,p,X),function rf(t,r,o){if(Pe(r)){const p=r.directiveEnd;for(let b=r.directiveStart;b<p;b++){const C=t.data[b];C.contentQueries&&C.contentQueries(1,o[b],b)}}}(b,X,p)),null!==d&&lh(p,X),Et}function zt(){let t=ir();Ts()?function Vs(){zn.lFrame.isParent=!1}():(t=t.parent,qi(t,!1));const r=t;!function co(){zn.lFrame.elementDepthCount--}();const o=Je();return o.firstCreatePass&&(Hs(o,t),Pe(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Xa(t){return 0!=(16&t.flags)}(r)&&Ke(o,r,Y(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tl(t){return 0!=(32&t.flags)}(r)&&Ke(o,r,Y(),r.stylesWithoutHost,!1),zt}function wn(t,r,o,d){return Et(t,r,o,d),zt(),wn}function or(){return Y()}function Di(t){return!!t&&"function"==typeof t.then}function yi(t){return!!t&&"function"==typeof t.subscribe}const _i=yi;function Ns(t,r,o,d){const p=Y(),b=Je(),C=ir();return function Wi(t,r,o,d,p,b,C,O){const F=ye(d),oe=t.firstCreatePass&&jl(t),Ie=r[8],He=Kc(r);let gt=!0;if(3&d.type||O){const An=Nt(d,r),Qn=O?O(An):An,Qt=He.length,Cr=O?Ci=>O(H(Ci[d.index])):d.index;if(Ir(o)){let Ci=null;if(!O&&F&&(Ci=function ii(t,r,o,d){const p=t.cleanup;if(null!=p)for(let b=0;b<p.length-1;b+=2){const C=p[b];if(C===o&&p[b+1]===d){const O=r[7],F=p[b+2];return O.length>F?O[F]:null}"string"==typeof C&&(b+=2)}return null}(t,r,p,d.index)),null!==Ci)(Ci.__ngLastListenerFn__||Ci).__ngNextListenerFn__=b,Ci.__ngLastListenerFn__=b,gt=!1;else{b=zl(d,r,Ie,b,!1);const cs=o.listen(Qn,p,b);He.push(b,cs),oe&&oe.push(p,Cr,Qt,Qt+1)}}else b=zl(d,r,Ie,b,!0),Qn.addEventListener(p,b,C),He.push(b),oe&&oe.push(p,Cr,Qt,C)}else b=zl(d,r,Ie,b,!1);const Lt=d.outputs;let fn;if(gt&&null!==Lt&&(fn=Lt[p])){const An=fn.length;if(An)for(let Qn=0;Qn<An;Qn+=2){const Ic=r[fn[Qn]][fn[Qn+1]].subscribe(b),Gp=He.length;He.push(b,Ic),oe&&oe.push(p,d.index,Gp,-(Gp+1))}}}(b,p,p[11],C,t,r,!!o,d),Ns}function pl(t,r,o,d){try{return!1!==o(d)}catch(p){return ku(t,p),!1}}function zl(t,r,o,d,p){return function b(C){if(C===Function)return d;const O=2&t.flags?rr(t.index,r):r;0==(32&r[2])&&hf(O);let F=pl(r,0,d,C),X=b.__ngNextListenerFn__;for(;X;)F=pl(r,0,X,C)&&F,X=X.__ngNextListenerFn__;return p&&!1===F&&(C.preventDefault(),C.returnValue=!1),F}}function Hu(t=1){return function fo(t){return(zn.lFrame.contextLView=function Za(t,r){for(;t>0;)r=r[15],t--;return r}(t,zn.lFrame.contextLView))[8]}(t)}function Ff(t,r,o,d,p){const b=t[o+1],C=null===r;let O=d?Bo(b):Bl(b),F=!1;for(;0!==O&&(!1===F||C);){const oe=t[O+1];Uy(t[O],r)&&(F=!0,t[O+1]=d?pd(oe):np(oe)),O=d?Bo(oe):Bl(oe)}F&&(t[o+1]=d?np(b):pd(b))}function Uy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ss(t,r)>=0}function Xg(t,r){return function ea(t,r,o,d){const p=Y(),b=Je(),C=function Js(t){const r=zn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}(2);b.firstUpdatePass&&function _y(t,r,o,d){const p=t.data;if(null===p[o+1]){const b=p[es()],C=function Md(t,r){return r>=t.expandoStartIndex}(t,o);(function wy(t,r){return 0!=(t.flags&(r?16:32))})(b,d)&&null===r&&!C&&(r=!1),r=function qy(t,r,o,d){const p=function Us(t){const r=zn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let b=d?r.residualClasses:r.residualStyles;if(null===p)0===(d?r.classBindings:r.styleBindings)&&(o=Hp(o=jm(null,t,r,o,d),r.attrs,d),b=null);else{const C=r.directiveStylingLast;if(-1===C||t[C]!==p)if(o=jm(p,t,r,o,d),null===b){let F=function Zy(t,r,o){const d=o?r.classBindings:r.styleBindings;if(0!==Bl(d))return t[Bo(d)]}(t,r,d);void 0!==F&&Array.isArray(F)&&(F=jm(null,t,r,F[1],d),F=Hp(F,r.attrs,d),function Yy(t,r,o,d){t[Bo(o?r.classBindings:r.styleBindings)]=d}(t,r,d,F))}else b=function Qy(t,r,o){let d;const p=r.directiveEnd;for(let b=1+r.directiveStylingLast;b<p;b++)d=Hp(d,t[b].hostAttrs,o);return Hp(d,r.attrs,o)}(t,r,d)}return void 0!==b&&(d?r.residualClasses=b:r.residualStyles=b),o}(p,b,r,d),function By(t,r,o,d,p,b){let C=b?r.classBindings:r.styleBindings,O=Bo(C),F=Bl(C);t[d]=o;let oe,X=!1;if(Array.isArray(o)){const Ie=o;oe=Ie[1],(null===oe||Ss(Ie,oe)>0)&&(X=!0)}else oe=o;if(p)if(0!==F){const He=Bo(t[O+1]);t[d+1]=El(He,O),0!==He&&(t[He+1]=rp(t[He+1],d)),t[O+1]=function ig(t,r){return 131071&t|r<<17}(t[O+1],d)}else t[d+1]=El(O,0),0!==O&&(t[O+1]=rp(t[O+1],d)),O=d;else t[d+1]=El(F,0),0===O?O=d:t[F+1]=rp(t[F+1],d),F=d;X&&(t[d+1]=np(t[d+1])),Ff(t,oe,d,!0),Ff(t,oe,d,!1),function fy(t,r,o,d,p){const b=p?t.residualClasses:t.residualStyles;null!=b&&"string"==typeof r&&Ss(b,r)>=0&&(o[d+1]=pd(o[d+1]))}(r,oe,t,d,b),C=El(O,F),b?r.classBindings=C:r.styleBindings=C}(p,b,r,o,C,d)}}(b,t,C,d),r!==mr&&bo(p,C,r)&&function by(t,r,o,d,p,b,C,O){if(!(3&r.type))return;const F=t.data,X=F[O+1];Bf(function Xd(t){return 1==(1&t)}(X)?Ih(F,r,o,p,Bl(X),C):void 0)||(Bf(b)||function Xh(t){return 2==(2&t)}(X)&&(b=Ih(F,null,o,p,O,C)),function jc(t,r,o,d,p){const b=Ir(t);if(r)p?b?t.addClass(o,d):o.classList.add(d):b?t.removeClass(o,d):o.classList.remove(d);else{let C=-1===d.indexOf("-")?void 0:xt.DashCase;if(null==p)b?t.removeStyle(o,d,C):o.style.removeProperty(d);else{const O="string"==typeof p&&p.endsWith("!important");O&&(p=p.slice(0,-10),C|=xt.Important),b?t.setStyle(o,d,p,C):o.style.setProperty(d,p,O?"important":"")}}}(d,C,wt(es(),o),p,b))}(b,b.data[es()],p,p[11],t,p[C+1]=function e_(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=me(Fo(t)))),t}(r,o),d,C)}(t,r,null,!0),Xg}function jm(t,r,o,d,p){let b=null;const C=o.directiveEnd;let O=o.directiveStylingLast;for(-1===O?O=o.directiveStart:O++;O<C&&(b=r[O],d=Hp(d,b.hostAttrs,p),b!==t);)O++;return null!==t&&(o.directiveStylingLast=O),d}function Hp(t,r,o){const d=o?1:2;let p=-1;if(null!==r)for(let b=0;b<r.length;b++){const C=r[b];"number"==typeof C?p=C:p===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),to(t,C,!!o||r[++b]))}return void 0===t?null:t}function Ih(t,r,o,d,p,b){const C=null===r;let O;for(;p>0;){const F=t[p],X=Array.isArray(F),oe=X?F[1]:F,Ie=null===oe;let He=o[p+1];He===mr&&(He=Ie?Tn:void 0);let gt=Ie?Oi(He,d):oe===d?He:void 0;if(X&&!Bf(gt)&&(gt=Oi(F,d)),Bf(gt)&&(O=gt,C))return O;const Lt=t[p+1];p=C?Bo(Lt):Bl(Lt)}if(null!==r){let F=b?r.residualClasses:r.residualStyles;null!=F&&(O=Oi(F,d))}return O}function Bf(t){return void 0!==t}function Ey(t,r=""){const o=Y(),d=Je(),p=t+20,b=d.firstCreatePass?zc(d,p,1,r,null):d.data[p],C=o[p]=function lc(t,r){return Ir(t)?t.createText(r):t.createTextNode(r)}(o[11],r);Uc(d,o,C,b),qi(b,!1)}function Hm(t){return em("",t,""),Hm}function em(t,r,o){const d=Y(),p=function Qc(t,r,o,d){return bo(t,Xs(),o)?r+yt(o)+d:mr}(d,t,r,o);return p!==mr&&dl(d,es(),p),em}const $p=void 0;var tb=["en",[["a","p"],["AM","PM"],$p],[["AM","PM"],$p,$p],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$p,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$p,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$p,"{1} 'at' {0}",$p],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eb(t){const o=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===d?1:5}];let tm={};function r_(t){const r=function nb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=lv(r);if(o)return o;const d=r.split("-")[0];if(o=lv(d),o)return o;if("en"===d)return tb;throw new Error(`Missing locale data for the locale "${t}".`)}function av(t){return r_(t)[Sr.PluralCase]}function lv(t){return t in tm||(tm[t]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[t]),tm[t]}var Sr=(()=>((Sr=Sr||{})[Sr.LocaleId=0]="LocaleId",Sr[Sr.DayPeriodsFormat=1]="DayPeriodsFormat",Sr[Sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sr[Sr.DaysFormat=3]="DaysFormat",Sr[Sr.DaysStandalone=4]="DaysStandalone",Sr[Sr.MonthsFormat=5]="MonthsFormat",Sr[Sr.MonthsStandalone=6]="MonthsStandalone",Sr[Sr.Eras=7]="Eras",Sr[Sr.FirstDayOfWeek=8]="FirstDayOfWeek",Sr[Sr.WeekendRange=9]="WeekendRange",Sr[Sr.DateFormat=10]="DateFormat",Sr[Sr.TimeFormat=11]="TimeFormat",Sr[Sr.DateTimeFormat=12]="DateTimeFormat",Sr[Sr.NumberSymbols=13]="NumberSymbols",Sr[Sr.NumberFormats=14]="NumberFormats",Sr[Sr.CurrencyCode=15]="CurrencyCode",Sr[Sr.CurrencySymbol=16]="CurrencySymbol",Sr[Sr.CurrencyName=17]="CurrencyName",Sr[Sr.Currencies=18]="Currencies",Sr[Sr.Directionality=19]="Directionality",Sr[Sr.PluralCase=20]="PluralCase",Sr[Sr.ExtraData=21]="ExtraData",Sr))();const Iy="en-US";let cv=Iy;function o_(t,r,o,d,p){if(t=be(t),Array.isArray(t))for(let b=0;b<t.length;b++)o_(t[b],r,o,d,p);else{const b=Je(),C=Y();let O=qc(t)?t:be(t.provide),F=yf(t);const X=ir(),oe=1048575&X.providerIndexes,Ie=X.directiveStart,He=X.providerIndexes>>20;if(qc(t)||!t.multi){const gt=new ps(F,p,fe),Lt=l_(O,r,p?oe:oe+He,Ie);-1===Lt?(R(Fa(X,C),b,O),a_(b,t,r.length),r.push(O),X.directiveStart++,X.directiveEnd++,p&&(X.providerIndexes+=1048576),o.push(gt),C.push(gt)):(o[Lt]=gt,C[Lt]=gt)}else{const gt=l_(O,r,oe+He,Ie),Lt=l_(O,r,oe,oe+He),fn=gt>=0&&o[gt],An=Lt>=0&&o[Lt];if(p&&!An||!p&&!fn){R(Fa(X,C),b,O);const Qn=function ew(t,r,o,d,p){const b=new ps(t,o,fe);return b.multi=[],b.index=r,b.componentProviders=0,Rv(b,p,d&&!o),b}(p?Jb:Xb,o.length,p,d,F);!p&&An&&(o[Lt].providerFactory=Qn),a_(b,t,r.length,0),r.push(O),X.directiveStart++,X.directiveEnd++,p&&(X.providerIndexes+=1048576),o.push(Qn),C.push(Qn)}else a_(b,t,gt>-1?gt:Lt,Rv(o[p?Lt:gt],F,!p&&d));!p&&d&&An&&o[Lt].componentProviders++}}}function a_(t,r,o,d){const p=qc(r),b=function Cp(t){return!!t.useClass}(r);if(p||b){const F=(b?be(r.useClass):r).prototype.ngOnDestroy;if(F){const X=t.destroyHooks||(t.destroyHooks=[]);if(!p&&r.multi){const oe=X.indexOf(o);-1===oe?X.push(o,[d,F]):X[oe+1].push(d,F)}else X.push(o,F)}}}function Rv(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function l_(t,r,o,d){for(let p=o;p<d;p++)if(r[p]===t)return p;return-1}function Xb(t,r,o,d){return c_(this.multi,[])}function Jb(t,r,o,d){const p=this.multi;let b;if(this.providerFactory){const C=this.providerFactory.componentProviders,O=hn(o,o[1],this.providerFactory.index,d);b=O.slice(0,C),c_(p,b);for(let F=C;F<O.length;F++)b.push(O[F])}else b=[],c_(p,b);return b}function c_(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function kv(t,r=[]){return o=>{o.providersResolver=(d,p)=>function Qb(t,r,o){const d=Je();if(d.firstCreatePass){const p=ze(t);o_(o,d.data,d.blueprint,p,!0),o_(r,d.data,d.blueprint,p,!1)}}(d,p?p(t):t,r)}}class Nv{}class rw{resolveComponentFactory(r){throw function nw(t){const r=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let My=(()=>{class t{}return t.NULL=new rw,t})();function iw(){return rm(ir(),Y())}function rm(t,r){return new qm(Nt(t,r))}let qm=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=iw,t})();function sw(t){return t instanceof qm?t.nativeElement:t}class Fv{}let ow=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function lw(){const t=Y(),o=rr(ir().index,t);return function aw(t){return t[11]}($t(o)?o:t)}(),t})(),cw=(()=>{class t{}return t.\u0275prov=on({token:t,providedIn:"root",factory:()=>null}),t})();class Vv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Bv=new Vv("13.3.5"),u_={};function Oy(t,r,o,d,p=!1){for(;null!==o;){const b=r[o.index];if(null!==b&&d.push(H(b)),Hn(b))for(let O=10;O<b.length;O++){const F=b[O],X=F[1].firstChild;null!==X&&Oy(F[1],F,X,d)}const C=o.type;if(8&C)Oy(t,r,o.child,d);else if(32&C){const O=Vn(o,r);let F;for(;F=O();)d.push(F)}else if(16&C){const O=ud(r,o);if(Array.isArray(O))d.push(...O);else{const F=ms(r[16]);Oy(F[1],F,O,d,!0)}}o=p?o.projectionNext:o.next}return d}class Zm{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return Oy(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Hn(r)){const o=r[8],d=o?o.indexOf(this):-1;d>-1&&(od(r,d),go(o,d))}this._attachedToViewContainer=!1}Kd(this._lView[1],this._lView)}onDestroy(r){up(this._lView[1],this._lView,null,r)}markForCheck(){hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function bp(t,r,o){_s(!0);try{wd(t,r,o)}finally{_s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new dt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cc(t,r){Zd(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new dt(902,"");this._appRef=r}}class uw extends Zm{constructor(r){super(r),this._view=r}detectChanges(){Tg(this._view)}checkNoChanges(){!function xg(t){_s(!0);try{Tg(t)}finally{_s(!1)}}(this._view)}get context(){return null}}class Uv extends My{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=tr(r);return new d_(o,this.ngModule)}}function jv(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class d_ extends Nv{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function fd(t){return t.map(hc).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return jv(this.componentDef.inputs)}get outputs(){return jv(this.componentDef.outputs)}create(r,o,d,p){const b=(p=p||this.ngModule)?function hw(t,r){return{get:(o,d,p)=>{const b=t.get(o,u_,p);return b!==u_||d===u_?b:r.get(o,d,p)}}}(r,p.injector):r,C=b.get(Fv,$),O=b.get(cw,null),F=C.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",oe=d?function vg(t,r,o){if(Ir(t))return t.selectRootElement(r,o===qt.ShadowDom);let d="string"==typeof r?t.querySelector(r):r;return d.textContent="",d}(F,d,this.componentDef.encapsulation):Fl(C.createRenderer(null,this.componentDef),X,function dw(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(X)),Ie=this.componentDef.onPush?576:528,He=function Fg(t,r){return{components:[],scheduler:t||zd,clean:wp,playerHandler:r||null,flags:0}}(),gt=sf(0,null,null,1,0,null,null,null,null,null),Lt=sh(null,gt,He,Ie,null,null,C,F,O,b);let fn,An;uo(Lt);try{const Qn=function Lg(t,r,o,d,p,b){const C=o[1];o[20]=t;const F=zc(C,20,2,"#host",null),X=F.mergedAttrs=r.hostAttrs;null!==X&&(vc(F,X,!0),null!==t&&(Lo(p,t,X),null!==F.classes&&Tu(p,t,F.classes),null!==F.styles&&Wa(p,t,F.styles)));const oe=d.createRenderer(t,r),Ie=sh(o,cp(r),null,r.onPush?64:16,o[20],F,d,oe,b||null,null);return C.firstCreatePass&&(R(Fa(F,o),C,r.type),yc(C,F),cf(F,o.length,1)),bd(o,Ie),o[20]=Ie}(oe,this.componentDef,Lt,C,F);if(oe)if(d)Lo(F,oe,["ng-version",Bv.full]);else{const{attrs:Qt,classes:Cr}=function ng(t){const r=[],o=[];let d=1,p=2;for(;d<t.length;){let b=t[d];if("string"==typeof b)2===p?""!==b&&r.push(b,t[++d]):8===p&&o.push(b);else{if(!Ma(p))break;p=b}d++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);Qt&&Lo(F,oe,Qt),Cr&&Cr.length>0&&Tu(F,oe,Cr.join(" "))}if(An=$r(gt,20),void 0!==o){const Qt=An.projection=[];for(let Cr=0;Cr<this.ngContentSelectors.length;Cr++){const Ci=o[Cr];Qt.push(null!=Ci?Array.from(Ci):null)}}fn=function Ef(t,r,o,d,p){const b=o[1],C=function vd(t,r,o){const d=ir();t.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Dg(t,d,r,Wc(t,r,1,null),o));const p=hn(r,t,d.directiveStart,d);_o(p,r);const b=Nt(d,r);return b&&_o(b,r),p}(b,o,r);if(d.components.push(C),t[8]=C,p&&p.forEach(F=>F(C,r)),r.contentQueries){const F=ir();r.contentQueries(1,C,F.directiveStart)}const O=ir();return!b.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Go(O.index),ch(o[1],O,0,O.directiveStart,O.directiveEnd,r),uh(r,C)),C}(Qn,this.componentDef,Lt,He,[Df]),Ou(gt,Lt,null)}finally{Wo()}return new pw(this.componentType,fn,rm(An,Lt),Lt,An)}}class pw extends class tw{}{constructor(r,o,d,p,b){super(),this.location=d,this._rootLView=p,this._tNode=b,this.instance=o,this.hostView=this.changeDetectorRef=new uw(p),this.componentType=r}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class im{}class Hv{}const sm=new Map;class Wv extends im{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Uv(this);const d=cr(r);this._bootstrapComponents=v(d.bootstrap),this._r3Injector=mf(r,o,[{provide:im,useValue:this},{provide:My,useValue:this.componentFactoryResolver}],me(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,o=Hl.THROW_IF_NOT_FOUND,d=Ft.Default){return r===Hl||r===im||r===Ed?this:this._r3Injector.get(r,o,d)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class h_ extends Hv{constructor(r){super(),this.moduleType=r,null!==cr(r)&&function mw(t){const r=new Set;!function o(d){const p=cr(d,!0),b=p.id;null!==b&&(function $v(t,r,o){if(r&&r!==o)throw new Error(`Duplicate module registered for ${t} - ${me(r)} vs ${me(r.name)}`)}(b,sm.get(b),d),sm.set(b,d));const C=v(p.imports);for(const O of C)r.has(O)||(r.add(O),o(O))}(t)}(r)}create(r){return new Wv(this.moduleType,r)}}function Gv(t,r,o,d,p,b){const C=r+o;return bo(t,C,p)?function hl(t,r,o){return t[r]=o}(t,C+1,b?d.call(b,p):d(p)):function Ym(t,r){const o=t[r];return o===mr?void 0:o}(t,C+1)}function Qv(t,r){const o=Je();let d;const p=t+20;o.firstCreatePass?(d=function xw(t,r){if(r)for(let o=r.length-1;o>=0;o--){const d=r[o];if(t===d.name)return d}}(r,o.pipeRegistry),o.data[p]=d,d.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(p,d.onDestroy)):d=o.data[p];const b=d.factory||(d.factory=ki(d.type)),C=Ln(fe);try{const O=Si(!1),F=b();return Si(O),function Mm(t,r,o,d){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=d}(o,Y(),p,F),F}finally{Ln(C)}}function Xv(t,r,o){const d=t+20,p=Y(),b=function Pr(t,r){return t[r]}(p,d);return function Qm(t,r){return t[1].data[r].pure}(p,d)?Gv(p,function fs(){const t=zn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,b.transform,o,b):b.transform(o)}function f_(t){return r=>{setTimeout(t,void 0,r)}}const Pd=class Pw extends _.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,d){var p,b,C;let O=r,F=o||(()=>null),X=d;if(r&&"object"==typeof r){const Ie=r;O=null===(p=Ie.next)||void 0===p?void 0:p.bind(Ie),F=null===(b=Ie.error)||void 0===b?void 0:b.bind(Ie),X=null===(C=Ie.complete)||void 0===C?void 0:C.bind(Ie)}this.__isAsync&&(F=f_(F),O&&(O=f_(O)),X&&(X=f_(X)));const oe=super.subscribe({next:O,error:F,complete:X});return r instanceof Z.w0&&r.add(oe),oe}};function Rw(){return this._results[Zc()]()}class p_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Zc(),d=p_.prototype;d[o]||(d[o]=Rw)}get changes(){return this._changes||(this._changes=new Pd)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const d=this;d.dirty=!1;const p=Yi(r);(this._changesDetected=!function gl(t,r,o){if(t.length!==r.length)return!1;for(let d=0;d<t.length;d++){let p=t[d],b=r[d];if(o&&(p=o(p),b=o(b)),b!==p)return!1}return!0}(d._results,p,o))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xm=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lw,t})();const kw=Xm,Nw=class extends kw{constructor(r,o,d){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=d}createEmbeddedView(r){const o=this._declarationTContainer.tViews,d=sh(this._declarationLView,o,r,16,null,o.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(d[19]=b.createEmbeddedView(o)),Ou(o,d,r),new Zm(d)}};function Lw(){return Py(ir(),Y())}function Py(t,r){return 4&t.type?new Nw(r,t,rm(t,r)):null}let Ry=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fw,t})();function Fw(){return t0(ir(),Y())}const Vw=Ry,Jv=class extends Vw{constructor(r,o,d){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=d}get element(){return rm(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const r=xs(this._hostTNode,this._hostLView);if(q(r)){const o=ln(r,this._hostLView),d=re(r);return new Er(o[1].data[d+8],o)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=e0(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,d){const p=r.createEmbeddedView(o||{});return this.insert(p,d),p}createComponent(r,o,d,p,b){const C=r&&!function Ba(t){return"function"==typeof t}(r);let O;if(C)O=o;else{const Ie=o||{};O=Ie.index,d=Ie.injector,p=Ie.projectableNodes,b=Ie.ngModuleRef}const F=C?r:new d_(tr(r)),X=d||this.parentInjector;if(!b&&null==F.ngModule){const He=(C?X:this.parentInjector).get(im,null);He&&(b=He)}const oe=F.create(X,p,void 0,b);return this.insert(oe.hostView,O),oe}insert(r,o){const d=r._lView,p=d[1];if(function Jr(t){return Hn(t[3])}(d)){const oe=this.indexOf(r);if(-1!==oe)this.detach(oe);else{const Ie=d[3],He=new Jv(Ie,Ie[6],Ie[3]);He.detach(He.indexOf(r))}}const b=this._adjustIndex(o),C=this._lContainer;!function sd(t,r,o,d){const p=10+d,b=o.length;d>0&&(o[p-1][4]=r),d<b-10?(r[4]=o[p],ql(o,10+d,r)):(o.push(r),r[4]=null),r[3]=o;const C=r[17];null!==C&&o!==C&&function ga(t,r){const o=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===o?t[9]=[r]:o.push(r)}(C,r);const O=r[19];null!==O&&O.insertView(t),r[2]|=128}(p,d,C,b);const O=uc(b,C),F=d[11],X=Iu(F,C[7]);return null!==X&&function Gd(t,r,o,d,p,b){d[0]=p,d[6]=r,Zd(t,d,o,1,p,b)}(p,C[6],F,d,X,O),r.attachToViewContainerRef(),ql(g_(C),b,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=e0(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),d=od(this._lContainer,o);d&&(go(g_(this._lContainer),o),Kd(d[1],d))}detach(r){const o=this._adjustIndex(r,-1),d=od(this._lContainer,o);return d&&null!=go(g_(this._lContainer),o)?new Zm(d):null}_adjustIndex(r,o=0){return null==r?this.length+o:r}};function e0(t){return t[8]}function g_(t){return t[8]||(t[8]=[])}function t0(t,r){let o;const d=r[t.index];if(Hn(d))o=d;else{let p;if(8&t.type)p=H(d);else{const b=r[11];p=b.createComment("");const C=Nt(t,r);ul(b,Iu(b,C),p,function Zp(t,r){return Ir(t)?t.nextSibling(r):r.nextSibling}(b,C),!1)}r[t.index]=o=Ru(d,r,p,t),bd(r,o)}return new Jv(o,t,r)}class m_{constructor(r){this.queryList=r,this.matches=null}clone(){return new m_(this.queryList)}setDirty(){this.queryList.setDirty()}}class y_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const d=null!==r.contentQueries?r.contentQueries[0]:o.length,p=[];for(let b=0;b<d;b++){const C=o.getByIndex(b);p.push(this.queries[C.indexInDeclarationView].clone())}return new y_(p)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==u0(r,o).matches&&this.queries[o].setDirty()}}class n0{constructor(r,o,d=null){this.predicate=r,this.flags=o,this.read=d}}class __{constructor(r=[]){this.queries=r}elementStart(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let d=0;d<this.length;d++){const p=null!==o?o.length:0,b=this.getByIndex(d).embeddedTView(r,p);b&&(b.indexInDeclarationView=d,null!==o?o.push(b):o=[b])}return null!==o?new __(o):null}template(r,o){for(let d=0;d<this.queries.length;d++)this.queries[d].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class v_{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new v_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let d=r.parent;for(;null!==d&&8&d.type&&d.index!==o;)d=d.parent;return o===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const b=d[p];this.matchTNodeWithReadOption(r,o,jw(o,b)),this.matchTNodeWithReadOption(r,o,Ot(o,r,b,!1,!1))}else d===Xm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ot(o,r,d,!1,!1))}matchTNodeWithReadOption(r,o,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===qm||p===Ry||p===Xm&&4&o.type)this.addMatch(o.index,-2);else{const b=Ot(o,r,p,!1,!1);null!==b&&this.addMatch(o.index,b)}else this.addMatch(o.index,d)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function jw(t,r){const o=t.localNames;if(null!==o)for(let d=0;d<o.length;d+=2)if(o[d]===r)return o[d+1];return null}function $w(t,r,o,d){return-1===o?function Hw(t,r){return 11&t.type?rm(t,r):4&t.type?Py(t,r):null}(r,t):-2===o?function zw(t,r,o){return o===qm?rm(r,t):o===Xm?Py(r,t):o===Ry?t0(r,t):void 0}(t,r,d):hn(t,t[1],o,r)}function r0(t,r,o,d){const p=r[19].queries[d];if(null===p.matches){const b=t.data,C=o.matches,O=[];for(let F=0;F<C.length;F+=2){const X=C[F];O.push(X<0?null:$w(r,b[X],C[F+1],o.metadata.read))}p.matches=O}return p.matches}function b_(t,r,o,d){const p=t.queries.getByIndex(o),b=p.matches;if(null!==b){const C=r0(t,r,p,o);for(let O=0;O<b.length;O+=2){const F=b[O];if(F>0)d.push(C[O/2]);else{const X=b[O+1],oe=r[-F];for(let Ie=10;Ie<oe.length;Ie++){const He=oe[Ie];He[17]===He[3]&&b_(He[1],He,X,d)}if(null!==oe[9]){const Ie=oe[9];for(let He=0;He<Ie.length;He++){const gt=Ie[He];b_(gt[1],gt,X,d)}}}}}return d}function s0(t){const r=Y(),o=Je(),d=na();ra(d+1);const p=u0(o,d);if(t.dirty&&gr(r)===(2==(2&p.metadata.flags))){if(null===p.matches)t.reset([]);else{const b=p.crossesNgTemplate?b_(o,r,d,[]):r0(o,r,p,d);t.reset(b,sw),t.notifyOnChanges()}return!0}return!1}function o0(t,r,o,d){const p=Je();if(p.firstCreatePass){const b=ir();(function c0(t,r,o){null===t.queries&&(t.queries=new __),t.queries.track(new v_(r,o))})(p,new n0(r,o,d),b.index),function Kw(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(p,t),2==(2&o)&&(p.staticContentQueries=!0)}!function l0(t,r,o){const d=new p_(4==(4&o));up(t,r,d,d.destroy),null===r[19]&&(r[19]=new y_),r[19].queries.push(new m_(d))}(p,Y(),o)}function a0(){return function Gw(t,r){return t[19].queries[r].queryList}(Y(),na())}function u0(t,r){return t.queries.getByIndex(r)}function Ly(...t){}const x0=new Mi("Application Initializer");let T_=(()=>{class t{constructor(o){this.appInits=o,this.resolve=Ly,this.reject=Ly,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const o=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const b=this.appInits[p]();if(Di(b))o.push(b);else if(_i(b)){const C=new Promise((O,F)=>{b.subscribe({complete:O,error:F})});o.push(C)}}Promise.all(o).then(()=>{d()}).catch(p=>{this.reject(p)}),0===o.length&&d(),this.initialized=!0}}return t.\u0275fac=function(o){return new(o||t)(ti(x0,8))},t.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const A0=new Mi("AppId",{providedIn:"root",factory:function S0(){return`${x_()}${x_()}${x_()}`}});function x_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const M0=new Mi("Platform Initializer"),dE=new Mi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O0=new Mi("appBootstrapListener");let hE=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const A_=new Mi("LocaleId",{providedIn:"root",factory:()=>Xl(A_,Ft.Optional|Ft.SkipSelf)||function fE(){return"undefined"!=typeof $localize&&$localize.locale||Iy}()}),pE=new Mi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gE{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let mE=(()=>{class t{compileModuleSync(o){return new h_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const d=this.compileModuleSync(o),b=v(cr(o).declarations).reduce((C,O)=>{const F=tr(O);return F&&C.push(new d_(F)),C},[]);return new gE(d,b)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _E=(()=>Promise.resolve(0))();function S_(t){"undefined"==typeof Zone?_E.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $u{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pd(!1),this.onMicrotaskEmpty=new Pd(!1),this.onStable=new Pd(!1),this.onError=new Pd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&o,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function vE(){let t=Pn.requestAnimationFrame,r=Pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);const d=r[Zone.__symbol__("OriginalDelegate")];d&&(r=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function EE(t){const r=()=>{!function wE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,O_(t),t.isCheckStableRunning=!0,M_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),O_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,d,p,b,C,O)=>{try{return P0(t),o.invokeTask(p,b,C,O)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===b.type||t.shouldCoalesceRunChangeDetection)&&r(),R0(t)}},onInvoke:(o,d,p,b,C,O,F)=>{try{return P0(t),o.invoke(p,b,C,O,F)}finally{t.shouldCoalesceRunChangeDetection&&r(),R0(t)}},onHasTask:(o,d,p,b)=>{o.hasTask(p,b),d===p&&("microTask"==b.change?(t._hasPendingMicrotasks=b.microTask,O_(t),M_(t)):"macroTask"==b.change&&(t.hasPendingMacrotasks=b.macroTask))},onHandleError:(o,d,p,b)=>(o.handleError(p,b),t.runOutsideAngular(()=>t.onError.emit(b)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$u.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($u.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,o,d){return this._inner.run(r,o,d)}runTask(r,o,d,p){const b=this._inner,C=b.scheduleEventTask("NgZoneEvent: "+p,r,bE,Ly,Ly);try{return b.runTask(C,o,d)}finally{b.cancelTask(C)}}runGuarded(r,o,d){return this._inner.runGuarded(r,o,d)}runOutsideAngular(r){return this._outer.run(r)}}const bE={};function M_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function O_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function P0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function R0(t){t._nesting--,M_(t)}class DE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pd,this.onMicrotaskEmpty=new Pd,this.onStable=new Pd,this.onError=new Pd}run(r,o,d){return r.apply(o,d)}runGuarded(r,o,d){return r.apply(o,d)}runOutsideAngular(r){return r()}runTask(r,o,d,p){return r.apply(o,d)}}let k0=(()=>{class t{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$u.assertNotInAngularZone(),S_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())S_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(o)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,d,p){let b=-1;d&&d>0&&(b=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==b),o(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:o,timeoutId:b,updateCb:p})}whenStable(o,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,d,p){return[]}}return t.\u0275fac=function(o){return new(o||t)(ti($u))},t.\u0275prov=on({token:t,factory:t.\u0275fac}),t})(),CE=(()=>{class t{constructor(){this._applications=new Map,P_.addToWindow(this)}registerApplication(o,d){this._applications.set(o,d)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,d=!0){return P_.findTestabilityInTree(this,o,d)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class IE{addToWindow(r){}findTestabilityInTree(r,o,d){return null}}function TE(t){P_=t}let P_=new IE,zp=null;const N0=new Mi("AllowMultipleToken"),L0=new Mi("PlatformOnDestroy");class SE{constructor(r,o){this.name=r,this.token=o}}function F0(t,r,o=[]){const d=`Platform: ${r}`,p=new Mi(d);return(b=[])=>{let C=R_();if(!C||C.injector.get(N0,!1)){const O=[...o,...b,{provide:p,useValue:!0}];t?t(O):function ME(t){if(zp&&!zp.get(N0,!1))throw new dt(400,"");zp=t;const r=t.get(V0),o=t.get(M0,null);o&&o.forEach(d=>d())}(function PE(t=[],r){return Hl.create({name:r,providers:[{provide:Lu,useValue:"platform"},{provide:L0,useValue:()=>zp=null},...t]})}(O,d))}return function OE(t){const r=R_();if(!r)throw new dt(401,"");return r}()}}function R_(){var t;return null!==(t=null==zp?void 0:zp.get(V0))&&void 0!==t?t:null}let V0=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,d){const O=function RE(t,r){let o;return o="noop"===t?new DE:("zone.js"===t?void 0:t)||new $u({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),o}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),F=[{provide:$u,useValue:O}];return O.run(()=>{const X=Hl.create({providers:F,parent:this.injector,name:o.moduleType.name}),oe=o.create(X),Ie=oe.injector.get(Ii,null);if(!Ie)throw new dt(402,"");return O.runOutsideAngular(()=>{const He=O.onError.subscribe({next:gt=>{Ie.handleError(gt)}});oe.onDestroy(()=>{N_(this._modules,oe),He.unsubscribe()})}),function kE(t,r,o){try{const d=o();return Di(d)?d.catch(p=>{throw r.runOutsideAngular(()=>t.handleError(p)),p}):d}catch(d){throw r.runOutsideAngular(()=>t.handleError(d)),d}}(Ie,O,()=>{const He=oe.injector.get(T_);return He.runInitializers(),He.donePromise.then(()=>(function ob(t){Mn(t,"Expected localeId to be defined"),"string"==typeof t&&(cv=t.toLowerCase().replace(/_/g,"-"))}(oe.injector.get(A_,Iy)||Iy),this._moduleDoBootstrap(oe),oe))})})}bootstrapModule(o,d=[]){const p=B0({},d);return function xE(t,r,o){const d=new h_(o);return Promise.resolve(d)}(0,0,o).then(b=>this.bootstrapModuleFactory(b,p))}_moduleDoBootstrap(o){const d=o.injector.get(k_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!o.instance.ngDoBootstrap)throw new dt(403,"");o.instance.ngDoBootstrap(d)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const o=this._injector.get(L0,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(o){return new(o||t)(ti(Hl))},t.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function B0(t,r){return Array.isArray(r)?r.reduce(B0,t):Object.assign(Object.assign({},t),r)}let k_=(()=>{class t{constructor(o,d,p,b){this._zone=o,this._injector=d,this._exceptionHandler=p,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new ie.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),O=new ie.y(F=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{$u.assertNotInAngularZone(),S_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{$u.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{X.unsubscribe(),oe.unsubscribe()}});this.isStable=(0,Se.T)(C,O.pipe((0,de.B)()))}bootstrap(o,d){if(!this._initStatus.done)throw new dt(405,"");let p;p=o instanceof Nv?o:this._injector.get(My).resolveComponentFactory(o),this.componentTypes.push(p.componentType);const b=function AE(t){return t.isBoundToModule}(p)?void 0:this._injector.get(im),O=p.create(Hl.NULL,[],d||p.selector,b),F=O.location.nativeElement,X=O.injector.get(k0,null),oe=X&&O.injector.get(CE);return X&&oe&&oe.registerApplication(F,X),O.onDestroy(()=>{this.detachView(O.hostView),N_(this.components,O),oe&&oe.unregisterApplication(F)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new dt(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const d=o;this._views.push(d),d.attachToAppRef(this)}detachView(o){const d=o;N_(this._views,d),d.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(O0,[]).concat(this._bootstrapListeners).forEach(p=>p(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(o){return new(o||t)(ti($u),ti(Hl),ti(Ii),ti(T_))},t.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function N_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}let j0=!0,H0=!1;function LE(){return H0=!0,j0}function FE(){if(H0)throw new Error("Cannot enable prod mode after platform setup.");j0=!1}let VE=(()=>{class t{}return t.__NG_ELEMENT_ID__=BE,t})();function BE(t){return function UE(t,r,o){if(xe(t)&&!o){const d=rr(t.index,r);return new Zm(d,d)}return 47&t.type?new Zm(r[16],r):null}(ir(),Y(),16==(16&t))}class G0{constructor(){}supports(r){return wh(r)}create(r){return new GE(r)}}const WE=(t,r)=>r;class GE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||WE}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,d=this._removalsHead,p=0,b=null;for(;o||d;){const C=!d||o&&o.currentIndex<q0(d,p,b)?o:d,O=q0(C,p,b),F=C.currentIndex;if(C===d)p--,d=d._nextRemoved;else if(o=o._next,null==C.previousIndex)p++;else{b||(b=[]);const X=O-p,oe=F-p;if(X!=oe){for(let He=0;He<X;He++){const gt=He<b.length?b[He]:b[He]=0,Lt=gt+He;oe<=Lt&&Lt<X&&(b[He]=gt+1)}b[C.previousIndex]=oe-X}}O!==F&&r(C,O,F)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!wh(r))throw new dt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let p,b,C,o=this._itHead,d=!1;if(Array.isArray(r)){this.length=r.length;for(let O=0;O<this.length;O++)b=r[O],C=this._trackByFn(O,b),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,b,C,O)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,C,O),d=!0),o=o._next}else p=0,function jg(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Zc()]();let d;for(;!(d=o.next()).done;)r(d.value)}}(r,O=>{C=this._trackByFn(p,O),null!==o&&Object.is(o.trackById,C)?(d&&(o=this._verifyReinsertion(o,O,C,p)),Object.is(o.item,O)||this._addIdentityChange(o,O)):(o=this._mismatch(o,O,C,p),d=!0),o=o._next,p++}),this.length=p;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,d,p){let b;return null===r?b=this._itTail:(b=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,b,p)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,b,p)):r=this._addAfter(new KE(o,d),b,p),r}_verifyReinsertion(r,o,d,p){let b=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==b?r=this._reinsertAfter(b,r._prev,p):r.currentIndex!=p&&(r.currentIndex=p,this._addToMoves(r,p)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const p=r._prevRemoved,b=r._nextRemoved;return null===p?this._removalsHead=b:p._nextRemoved=b,null===b?this._removalsTail=p:b._prevRemoved=p,this._insertAfter(r,o,d),this._addToMoves(r,d),r}_moveAfter(r,o,d){return this._unlink(r),this._insertAfter(r,o,d),this._addToMoves(r,d),r}_addAfter(r,o,d){return this._insertAfter(r,o,d),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,d){const p=null===o?this._itHead:o._next;return r._next=p,r._prev=o,null===p?this._itTail=r:p._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new K0),this._linkedRecords.put(r),r.currentIndex=d,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,d=r._next;return null===o?this._itHead=d:o._next=d,null===d?this._itTail=o:d._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new K0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class KE{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===o||o<=d.currentIndex)&&Object.is(d.trackById,r))return d;return null}remove(r){const o=r._prevDup,d=r._nextDup;return null===o?this._head=d:o._nextDup=d,null===d?this._tail=o:d._prevDup=o,null===this._head}}class K0{constructor(){this.map=new Map}put(r){const o=r.trackById;let d=this.map.get(o);d||(d=new qE,this.map.set(o,d)),d.add(r)}get(r,o){const p=this.map.get(r);return p?p.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q0(t,r,o){const d=t.previousIndex;if(null===d)return d;let p=0;return o&&d<o.length&&(p=o[d]),d+r+p}class Z0{constructor(){}supports(r){return r instanceof Map||Np(r)}create(){return new ZE}}class ZE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Np(r)))throw new dt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(d,p)=>{if(o&&o.key===p)this._maybeAddToChanges(o,d),this._appendAfter=o,o=o._next;else{const b=this._getOrCreateRecordForKey(p,d);o=this._insertBeforeOrAppend(o,b)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let d=o;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const d=r._prev;return o._next=r,o._prev=d,r._prev=o,d&&(d._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const p=this._records.get(r);this._maybeAddToChanges(p,o);const b=p._prev,C=p._next;return b&&(b._next=C),C&&(C._prev=b),p._next=null,p._prev=null,p}const d=new YE(r);return this._records.set(r,d),d.currentValue=o,this._addToAdditions(d),d}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(d=>o(r[d],d))}}class YE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Y0(){return new U_([new G0])}let U_=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(null!=d){const p=d.factories.slice();o=o.concat(p)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||Y0()),deps:[[t,new da,new ua]]}}find(o){const d=this.factories.find(p=>p.supports(o));if(null!=d)return d;throw new dt(901,"")}}return t.\u0275prov=on({token:t,providedIn:"root",factory:Y0}),t})();function Q0(){return new j_([new Z0])}let j_=(()=>{class t{constructor(o){this.factories=o}static create(o,d){if(d){const p=d.factories.slice();o=o.concat(p)}return new t(o)}static extend(o){return{provide:t,useFactory:d=>t.create(o,d||Q0()),deps:[[t,new da,new ua]]}}find(o){const d=this.factories.find(b=>b.supports(o));if(d)return d;throw new dt(901,"")}}return t.\u0275prov=on({token:t,providedIn:"root",factory:Q0}),t})();const JE=F0(null,"core",[]);let eD=(()=>{class t{constructor(o){}}return t.\u0275fac=function(o){return new(o||t)(ti(k_))},t.\u0275mod=rt({type:t}),t.\u0275inj=Gt({}),t})()},2382:(je,ve,L)=>{"use strict";L.d(ve,{Fj:()=>ct,qu:()=>Fs,u:()=>Ki,sg:()=>ys,JJ:()=>rn,JL:()=>xr,wV:()=>We,UX:()=>Cs,kI:()=>Xt,_Y:()=>Zs});var _=L(5e3),Z=L(9808),ie=L(8306),Se=L(4742),de=L(8421),Ne=L(7669),Ae=L(5403),me=L(3268),De=L(1810),he=L(8996),be=L(4004);let Ye=(()=>{class z{constructor(V,Y){this._renderer=V,this._elementRef=Y,this.onChange=Je=>{},this.onTouched=()=>{}}setProperty(V,Y){this._renderer.setProperty(this._elementRef.nativeElement,V,Y)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}}return z.\u0275fac=function(V){return new(V||z)(_.Y36(_.Qsj),_.Y36(_.SBq))},z.\u0275dir=_.lG2({type:z}),z})(),nt=(()=>{class z extends Ye{}return z.\u0275fac=function(){let U;return function(Y){return(U||(U=_.n5z(z)))(Y||z)}}(),z.\u0275dir=_.lG2({type:z,features:[_.qOj]}),z})();const dt=new _.OlP("NgValueAccessor"),lt={provide:dt,useExisting:(0,_.Gpc)(()=>ct),multi:!0},Dt=new _.OlP("CompositionEventMode");let ct=(()=>{class z extends Ye{constructor(V,Y,Je){super(V,Y),this._compositionMode=Je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Le(){const z=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(V){this.setProperty("value",null==V?"":V)}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}}return z.\u0275fac=function(V){return new(V||z)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(Dt,8))},z.\u0275dir=_.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(V,Y){1&V&&_.NdJ("input",function(Dn){return Y._handleInput(Dn.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Dn){return Y._compositionEnd(Dn.target.value)})},features:[_._Bn([lt]),_.qOj]}),z})();function $e(z){return null==z||0===z.length}function bt(z){return null!=z&&"number"==typeof z.length}const Rt=new _.OlP("NgValidators"),Ut=new _.OlP("NgAsyncValidators"),ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xt{static min(U){return function Xe(z){return U=>{if($e(U.value)||$e(z))return null;const V=parseFloat(U.value);return!isNaN(V)&&V<z?{min:{min:z,actual:U.value}}:null}}(U)}static max(U){return function st(z){return U=>{if($e(U.value)||$e(z))return null;const V=parseFloat(U.value);return!isNaN(V)&&V>z?{max:{max:z,actual:U.value}}:null}}(U)}static required(U){return function et(z){return $e(z.value)?{required:!0}:null}(U)}static requiredTrue(U){return function ut(z){return!0===z.value?null:{required:!0}}(U)}static email(U){return function ot(z){return $e(z.value)||ge.test(z.value)?null:{email:!0}}(U)}static minLength(U){return function Mt(z){return U=>$e(U.value)||!bt(U.value)?null:U.value.length<z?{minlength:{requiredLength:z,actualLength:U.value.length}}:null}(U)}static maxLength(U){return function Pt(z){return U=>bt(U.value)&&U.value.length>z?{maxlength:{requiredLength:z,actualLength:U.value.length}}:null}(U)}static pattern(U){return function gn(z){if(!z)return Mn;let U,V;return"string"==typeof z?(V="","^"!==z.charAt(0)&&(V+="^"),V+=z,"$"!==z.charAt(z.length-1)&&(V+="$"),U=new RegExp(V)):(V=z.toString(),U=z),Y=>{if($e(Y.value))return null;const Je=Y.value;return U.test(Je)?null:{pattern:{requiredPattern:V,actualValue:Je}}}}(U)}static nullValidator(U){return null}static compose(U){return Gt(U)}static composeAsync(U){return Xn(U)}}function Mn(z){return null}function Bt(z){return null!=z}function jt(z){const U=(0,_.QGY)(z)?(0,he.D)(z):z;return(0,_.CqO)(U),U}function cn(z){let U={};return z.forEach(V=>{U=null!=V?Object.assign(Object.assign({},U),V):U}),0===Object.keys(U).length?null:U}function dr(z,U){return U.map(V=>V(z))}function qn(z){return z.map(U=>function on(z){return!z.validate}(U)?U:V=>U.validate(V))}function Gt(z){if(!z)return null;const U=z.filter(Bt);return 0==U.length?null:function(V){return cn(dr(V,U))}}function kn(z){return null!=z?Gt(qn(z)):null}function Xn(z){if(!z)return null;const U=z.filter(Bt);return 0==U.length?null:function(V){return function ce(...z){const U=(0,Ne.jO)(z),{args:V,keys:Y}=(0,Se.D)(z),Je=new ie.y(Dn=>{const{length:ir}=V;if(!ir)return void Dn.complete();const xi=new Array(ir);let Ji=ir,qi=ir;for(let Ts=0;Ts<ir;Ts++){let Vs=!1;(0,de.Xf)(V[Ts]).subscribe((0,Ae.x)(Dn,_a=>{Vs||(Vs=!0,qi--),xi[Ts]=_a},()=>Ji--,void 0,()=>{(!Ji||!Vs)&&(qi||Dn.next(Y?(0,De.n)(Y,xi):xi),Dn.complete())}))}});return U?Je.pipe((0,me.Z)(U)):Je}(dr(V,U).map(jt)).pipe((0,be.U)(cn))}}function Un(z){return null!=z?Xn(qn(z)):null}function pr(z,U){return null===z?[U]:Array.isArray(z)?[...z,U]:[z,U]}function vr(z){return z._rawValidators}function Tr(z){return z._rawAsyncValidators}function br(z){return z?Array.isArray(z)?z:[z]:[]}function zr(z,U){return Array.isArray(z)?z.includes(U):z===U}function Br(z,U){const V=br(U);return br(z).forEach(Je=>{zr(V,Je)||V.push(Je)}),V}function Ft(z,U){return br(U).filter(V=>!zr(z,V))}class $n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(U){this._rawValidators=U||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(U){this._rawAsyncValidators=U||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(U){this._onDestroyCallbacks.push(U)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(U=>U()),this._onDestroyCallbacks=[]}reset(U){this.control&&this.control.reset(U)}hasError(U,V){return!!this.control&&this.control.hasError(U,V)}getError(U,V){return this.control?this.control.getError(U,V):null}}class lr extends $n{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ln extends $n{get formDirective(){return null}get path(){return null}}class Ur{constructor(U){this._cd=U}is(U){var V,Y,Je;return"submitted"===U?!!(null===(V=this._cd)||void 0===V?void 0:V.submitted):!!(null===(Je=null===(Y=this._cd)||void 0===Y?void 0:Y.control)||void 0===Je?void 0:Je[U])}}let rn=(()=>{class z extends Ur{constructor(V){super(V)}}return z.\u0275fac=function(V){return new(V||z)(_.Y36(lr,2))},z.\u0275dir=_.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(V,Y){2&V&&_.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))},features:[_.qOj]}),z})(),xr=(()=>{class z extends Ur{constructor(V){super(V)}}return z.\u0275fac=function(V){return new(V||z)(_.Y36(Ln,10))},z.\u0275dir=_.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(V,Y){2&V&&_.ekj("ng-untouched",Y.is("untouched"))("ng-touched",Y.is("touched"))("ng-pristine",Y.is("pristine"))("ng-dirty",Y.is("dirty"))("ng-valid",Y.is("valid"))("ng-invalid",Y.is("invalid"))("ng-pending",Y.is("pending"))("ng-submitted",Y.is("submitted"))},features:[_.qOj]}),z})();function it(z,U){Fe(z,U),U.valueAccessor.writeValue(z.value),function rt(z,U){U.valueAccessor.registerOnChange(V=>{z._pendingValue=V,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&vn(z,U)})}(z,U),function bn(z,U){const V=(Y,Je)=>{U.valueAccessor.writeValue(Y),Je&&U.viewToModelUpdate(Y)};z.registerOnChange(V),U._registerOnDestroy(()=>{z._unregisterOnChange(V)})}(z,U),function Zt(z,U){U.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&vn(z,U),"submit"!==z.updateOn&&z.markAsTouched()})}(z,U),function Ee(z,U){if(U.valueAccessor.setDisabledState){const V=Y=>{U.valueAccessor.setDisabledState(Y)};z.registerOnDisabledChange(V),U._registerOnDestroy(()=>{z._unregisterOnDisabledChange(V)})}}(z,U)}function St(z,U,V=!0){const Y=()=>{};U.valueAccessor&&(U.valueAccessor.registerOnChange(Y),U.valueAccessor.registerOnTouched(Y)),ft(z,U),z&&(U._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function Te(z,U){z.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(U)})}function Fe(z,U){const V=vr(z);null!==U.validator?z.setValidators(pr(V,U.validator)):"function"==typeof V&&z.setValidators([V]);const Y=Tr(z);null!==U.asyncValidator?z.setAsyncValidators(pr(Y,U.asyncValidator)):"function"==typeof Y&&z.setAsyncValidators([Y]);const Je=()=>z.updateValueAndValidity();Te(U._rawValidators,Je),Te(U._rawAsyncValidators,Je)}function ft(z,U){let V=!1;if(null!==z){if(null!==U.validator){const Je=vr(z);if(Array.isArray(Je)&&Je.length>0){const Dn=Je.filter(ir=>ir!==U.validator);Dn.length!==Je.length&&(V=!0,z.setValidators(Dn))}}if(null!==U.asyncValidator){const Je=Tr(z);if(Array.isArray(Je)&&Je.length>0){const Dn=Je.filter(ir=>ir!==U.asyncValidator);Dn.length!==Je.length&&(V=!0,z.setAsyncValidators(Dn))}}}const Y=()=>{};return Te(U._rawValidators,Y),Te(U._rawAsyncValidators,Y),V}function vn(z,U){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),U.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function Fr(z,U){const V=z.indexOf(U);V>-1&&z.splice(V,1)}const Vt="VALID",jn="INVALID",hr="PENDING",Kr="DISABLED";function Hr(z){return(qr(z)?z.validators:z)||null}function fi(z){return Array.isArray(z)?kn(z):z||null}function fr(z,U){return(qr(U)?U.asyncValidators:z)||null}function Nr(z){return Array.isArray(z)?Un(z):z||null}function qr(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}const Zn=z=>z instanceof Ce,Xr=z=>z instanceof vt,Vi=z=>z instanceof qe;function vi(z){return Zn(z)?z.value:z.getRawValue()}function bi(z,U){const V=Xr(z),Y=z.controls;if(!(V?Object.keys(Y):Y).length)throw new _.vHH(1e3,"");if(!Y[U])throw new _.vHH(1001,"")}function Zr(z,U){Xr(z),z._forEachChild((Y,Je)=>{if(void 0===U[Je])throw new _.vHH(1002,"")})}class Sn{constructor(U,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=U,this._rawAsyncValidators=V,this._composedValidatorFn=fi(this._rawValidators),this._composedAsyncValidatorFn=Nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(U){this._rawValidators=this._composedValidatorFn=U}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(U){this._rawAsyncValidators=this._composedAsyncValidatorFn=U}get parent(){return this._parent}get valid(){return this.status===Vt}get invalid(){return this.status===jn}get pending(){return this.status==hr}get disabled(){return this.status===Kr}get enabled(){return this.status!==Kr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(U){this._rawValidators=U,this._composedValidatorFn=fi(U)}setAsyncValidators(U){this._rawAsyncValidators=U,this._composedAsyncValidatorFn=Nr(U)}addValidators(U){this.setValidators(Br(U,this._rawValidators))}addAsyncValidators(U){this.setAsyncValidators(Br(U,this._rawAsyncValidators))}removeValidators(U){this.setValidators(Ft(U,this._rawValidators))}removeAsyncValidators(U){this.setAsyncValidators(Ft(U,this._rawAsyncValidators))}hasValidator(U){return zr(this._rawValidators,U)}hasAsyncValidator(U){return zr(this._rawAsyncValidators,U)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(U={}){this.touched=!0,this._parent&&!U.onlySelf&&this._parent.markAsTouched(U)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(U=>U.markAllAsTouched())}markAsUntouched(U={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}markAsDirty(U={}){this.pristine=!1,this._parent&&!U.onlySelf&&this._parent.markAsDirty(U)}markAsPristine(U={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}markAsPending(U={}){this.status=hr,!1!==U.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!U.onlySelf&&this._parent.markAsPending(U)}disable(U={}){const V=this._parentMarkedDirty(U.onlySelf);this.status=Kr,this.errors=null,this._forEachChild(Y=>{Y.disable(Object.assign(Object.assign({},U),{onlySelf:!0}))}),this._updateValue(),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},U),{skipPristineCheck:V})),this._onDisabledChange.forEach(Y=>Y(!0))}enable(U={}){const V=this._parentMarkedDirty(U.onlySelf);this.status=Vt,this._forEachChild(Y=>{Y.enable(Object.assign(Object.assign({},U),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},U),{skipPristineCheck:V})),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(U){this._parent&&!U.onlySelf&&(this._parent.updateValueAndValidity(U),U.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(U){this._parent=U}updateValueAndValidity(U={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vt||this.status===hr)&&this._runAsyncValidator(U.emitEvent)),!1!==U.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!U.onlySelf&&this._parent.updateValueAndValidity(U)}_updateTreeValidity(U={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(U)),this.updateValueAndValidity({onlySelf:!0,emitEvent:U.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kr:Vt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(U){if(this.asyncValidator){this.status=hr,this._hasOwnPendingAsyncValidator=!0;const V=jt(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:U})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(U,V={}){this.errors=U,this._updateControlsErrors(!1!==V.emitEvent)}get(U){return function Fi(z,U,V){if(null==U||(Array.isArray(U)||(U=U.split(V)),Array.isArray(U)&&0===U.length))return null;let Y=z;return U.forEach(Je=>{Y=Xr(Y)?Y.controls.hasOwnProperty(Je)?Y.controls[Je]:null:Vi(Y)&&Y.at(Je)||null}),Y}(this,U,".")}getError(U,V){const Y=V?this.get(V):this;return Y&&Y.errors?Y.errors[U]:null}hasError(U,V){return!!this.getError(U,V)}get root(){let U=this;for(;U._parent;)U=U._parent;return U}_updateControlsErrors(U){this.status=this._calculateStatus(),U&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(U)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Kr:this.errors?jn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hr)?hr:this._anyControlsHaveStatus(jn)?jn:Vt}_anyControlsHaveStatus(U){return this._anyControls(V=>V.status===U)}_anyControlsDirty(){return this._anyControls(U=>U.dirty)}_anyControlsTouched(){return this._anyControls(U=>U.touched)}_updatePristine(U={}){this.pristine=!this._anyControlsDirty(),this._parent&&!U.onlySelf&&this._parent._updatePristine(U)}_updateTouched(U={}){this.touched=this._anyControlsTouched(),this._parent&&!U.onlySelf&&this._parent._updateTouched(U)}_isBoxedValue(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}_registerOnCollectionChange(U){this._onCollectionChange=U}_setUpdateStrategy(U){qr(U)&&null!=U.updateOn&&(this._updateOn=U.updateOn)}_parentMarkedDirty(U){return!U&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ce extends Sn{constructor(U=null,V,Y){super(Hr(V),fr(Y,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(U),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qr(V)&&V.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(U)?U.value:U)}setValue(U,V={}){this.value=this._pendingValue=U,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(U,V={}){this.setValue(U,V)}reset(U=this.defaultValue,V={}){this._applyFormState(U),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(U){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(U){this._onChange.push(U)}_unregisterOnChange(U){Fr(this._onChange,U)}registerOnDisabledChange(U){this._onDisabledChange.push(U)}_unregisterOnDisabledChange(U){Fr(this._onDisabledChange,U)}_forEachChild(U){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(U){this._isBoxedValue(U)?(this.value=this._pendingValue=U.value,U.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=U}}class vt extends Sn{constructor(U,V,Y){super(Hr(V),fr(Y,V)),this.controls=U,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(U,V){return this.controls[U]?this.controls[U]:(this.controls[U]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(U,V,Y={}){this.registerControl(U,V),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(U,V={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(U,V,Y={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),delete this.controls[U],V&&this.registerControl(U,V),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(U){return this.controls.hasOwnProperty(U)&&this.controls[U].enabled}setValue(U,V={}){Zr(this,U),Object.keys(U).forEach(Y=>{bi(this,Y),this.controls[Y].setValue(U[Y],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(U,V={}){null!=U&&(Object.keys(U).forEach(Y=>{this.controls[Y]&&this.controls[Y].patchValue(U[Y],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(U={},V={}){this._forEachChild((Y,Je)=>{Y.reset(U[Je],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(U,V,Y)=>(U[Y]=vi(V),U))}_syncPendingControls(){let U=this._reduceChildren(!1,(V,Y)=>!!Y._syncPendingControls()||V);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){Object.keys(this.controls).forEach(V=>{const Y=this.controls[V];Y&&U(Y,V)})}_setUpControls(){this._forEachChild(U=>{U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(U){for(const V of Object.keys(this.controls)){const Y=this.controls[V];if(this.contains(V)&&U(Y))return!0}return!1}_reduceValue(){return this._reduceChildren({},(U,V,Y)=>((V.enabled||this.disabled)&&(U[Y]=V.value),U))}_reduceChildren(U,V){let Y=U;return this._forEachChild((Je,Dn)=>{Y=V(Y,Je,Dn)}),Y}_allControlsDisabled(){for(const U of Object.keys(this.controls))if(this.controls[U].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class qe extends Sn{constructor(U,V,Y){super(Hr(V),fr(Y,V)),this.controls=U,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(U){return this.controls[U]}push(U,V={}){this.controls.push(U),this._registerControl(U),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(U,V,Y={}){this.controls.splice(U,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(U,V={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(U,V,Y={}){this.controls[U]&&this.controls[U]._registerOnCollectionChange(()=>{}),this.controls.splice(U,1),V&&(this.controls.splice(U,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(U,V={}){Zr(this,U),U.forEach((Y,Je)=>{bi(this,Je),this.at(Je).setValue(Y,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(U,V={}){null!=U&&(U.forEach((Y,Je)=>{this.at(Je)&&this.at(Je).patchValue(Y,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(U=[],V={}){this._forEachChild((Y,Je)=>{Y.reset(U[Je],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(U=>vi(U))}clear(U={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:U.emitEvent}))}_syncPendingControls(){let U=this.controls.reduce((V,Y)=>!!Y._syncPendingControls()||V,!1);return U&&this.updateValueAndValidity({onlySelf:!0}),U}_forEachChild(U){this.controls.forEach((V,Y)=>{U(V,Y)})}_updateValue(){this.value=this.controls.filter(U=>U.enabled||this.disabled).map(U=>U.value)}_anyControls(U){return this.controls.some(V=>V.enabled&&U(V))}_setUpControls(){this._forEachChild(U=>this._registerControl(U))}_allControlsDisabled(){for(const U of this.controls)if(U.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(U){U.setParent(this),U._registerOnCollectionChange(this._onCollectionChange)}}let Zs=(()=>{class z{}return z.\u0275fac=function(V){return new(V||z)},z.\u0275dir=_.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})();const Qe={provide:dt,useExisting:(0,_.Gpc)(()=>We),multi:!0};let We=(()=>{class z extends nt{writeValue(V){this.setProperty("value",null==V?"":V)}registerOnChange(V){this.onChange=Y=>{V(""==Y?null:parseFloat(Y))}}}return z.\u0275fac=function(){let U;return function(Y){return(U||(U=_.n5z(z)))(Y||z)}}(),z.\u0275dir=_.lG2({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(V,Y){1&V&&_.NdJ("input",function(Dn){return Y.onChange(Dn.target.value)})("blur",function(){return Y.onTouched()})},features:[_._Bn([Qe]),_.qOj]}),z})(),Kt=(()=>{class z{}return z.\u0275fac=function(V){return new(V||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({}),z})();const pi=new _.OlP("NgModelWithFormControlWarning"),so={provide:Ln,useExisting:(0,_.Gpc)(()=>ys)};let ys=(()=>{class z extends Ln{constructor(V,Y){super(),this.validators=V,this.asyncValidators=Y,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(V),this._setAsyncValidators(Y)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ft(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const Y=this.form.get(V.path);return it(Y,V),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),Y}getControl(V){return this.form.get(V.path)}removeControl(V){St(V.control||null,V,!1),Fr(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,Y){this.form.get(V.path).setValue(Y)}onSubmit(V){return this.submitted=!0,function ai(z,U){z._syncPendingControls(),U.forEach(V=>{const Y=V.control;"submit"===Y.updateOn&&Y._pendingChange&&(V.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(V),!1}onReset(){this.resetForm()}resetForm(V){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const Y=V.control,Je=this.form.get(V.path);Y!==Je&&(St(Y||null,V),Zn(Je)&&(it(Je,V),V.control=Je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const Y=this.form.get(V.path);(function Rn(z,U){Fe(z,U)})(Y,V),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const Y=this.form.get(V.path);Y&&function tr(z,U){return ft(z,U)}(Y,V)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fe(this.form,this),this._oldForm&&ft(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function(V){return new(V||z)(_.Y36(Rt,10),_.Y36(Ut,10))},z.\u0275dir=_.lG2({type:z,selectors:[["","formGroup",""]],hostBindings:function(V,Y){1&V&&_.NdJ("submit",function(Dn){return Y.onSubmit(Dn)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([so]),_.qOj,_.TTD]}),z})();const Ni={provide:lr,useExisting:(0,_.Gpc)(()=>Ki)};let Ki=(()=>{class z extends lr{constructor(V,Y,Je,Dn,ir){super(),this._ngModelWarningConfig=ir,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(Y),this._setAsyncValidators(Je),this.valueAccessor=function ni(z,U){if(!U)return null;let V,Y,Je;return Array.isArray(U),U.forEach(Dn=>{Dn.constructor===ct?V=Dn:function Ti(z){return Object.getPrototypeOf(z.constructor)===nt}(Dn)?Y=Dn:Je=Dn}),Je||Y||V||null}(0,Dn)}set isDisabled(V){}ngOnChanges(V){this._added||this._setUpControl(),function hi(z,U){if(!z.hasOwnProperty("model"))return!1;const V=z.model;return!!V.isFirstChange()||!Object.is(U,V.currentValue)}(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return function _e(z,U){return[...U.path,z]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(V){return new(V||z)(_.Y36(Ln,13),_.Y36(Rt,10),_.Y36(Ut,10),_.Y36(dt,10),_.Y36(pi,8))},z.\u0275dir=_.lG2({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Ni]),_.qOj,_.TTD]}),z})(),is=(()=>{class z{}return z.\u0275fac=function(V){return new(V||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({imports:[[Kt]]}),z})(),Cs=(()=>{class z{static withConfig(V){return{ngModule:z,providers:[{provide:pi,useValue:V.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(V){return new(V||z)},z.\u0275mod=_.oAB({type:z}),z.\u0275inj=_.cJS({imports:[is]}),z})(),Fs=(()=>{class z{group(V,Y=null){const Je=this._reduceControls(V);let xi,Dn=null,ir=null;return null!=Y&&(function Is(z){return void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn}(Y)?(Dn=null!=Y.validators?Y.validators:null,ir=null!=Y.asyncValidators?Y.asyncValidators:null,xi=null!=Y.updateOn?Y.updateOn:void 0):(Dn=null!=Y.validator?Y.validator:null,ir=null!=Y.asyncValidator?Y.asyncValidator:null)),new vt(Je,{asyncValidators:ir,updateOn:xi,validators:Dn})}control(V,Y,Je){return new Ce(V,Y,Je)}array(V,Y,Je){const Dn=V.map(ir=>this._createControl(ir));return new qe(Dn,Y,Je)}_reduceControls(V){const Y={};return Object.keys(V).forEach(Je=>{Y[Je]=this._createControl(V[Je])}),Y}_createControl(V){return Zn(V)||Xr(V)||Vi(V)?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}}return z.\u0275fac=function(V){return new(V||z)},z.\u0275prov=_.Yz7({token:z,factory:z.\u0275fac,providedIn:Cs}),z})()},4232:(je,ve,L)=>{"use strict";L.d(ve,{F0:()=>Zi,yS:()=>sa,Bz:()=>re,lC:()=>Eo});var _=L(5e3),Z=L(8306),ie=L(4742),Se=L(8996),de=L(4671),Ne=L(3268),Ae=L(7669),me=L(1810),De=L(5403),ce=L(9672);function Ye(R,A,x){R?(0,ce.f)(x,R,A):A()}var nt=L(576);function dt(R,A){const x=(0,nt.m)(R)?R:()=>R,j=K=>K.error(x());return new Z.y(A?K=>A.schedule(j,0,K):j)}var ht=L(8421);function yt(R){return new Z.y(A=>{(0,ht.Xf)(R()).subscribe(A)})}var lt=L(727),Le=L(4482);function Dt(){return(0,Le.e)((R,A)=>{let x=null;R._refCount++;const j=(0,De.x)(A,void 0,void 0,void 0,()=>{if(!R||R._refCount<=0||0<--R._refCount)return void(x=null);const K=R._connection,ne=x;x=null,K&&(!ne||K===ne)&&K.unsubscribe(),A.unsubscribe()});R.subscribe(j),j.closed||(x=R.connect())})}class ct extends Z.y{constructor(A,x){super(),this.source=A,this.subjectFactory=x,this._subject=null,this._refCount=0,this._connection=null,(0,Le.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,null==A||A.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new lt.w0;const x=this.getSubject();A.add(this.source.subscribe((0,De.x)(x,void 0,()=>{this._teardown(),x.complete()},j=>{this._teardown(),x.error(j)},()=>this._teardown()))),A.closed&&(this._connection=null,A=lt.w0.EMPTY)}return A}refCount(){return Dt()(this)}}var $e=L(9646),bt=L(1135),Rt=L(6805),Ut=L(7272),ge=L(515),Xt=L(7579),Xe=L(9300);function st(R){return R<=0?()=>ge.E:(0,Le.e)((A,x)=>{let j=[];A.subscribe((0,De.x)(x,K=>{j.push(K),R<j.length&&j.shift()},()=>{for(const K of j)x.next(K);x.complete()},void 0,()=>{j=null}))})}var et=L(8068),ut=L(6590),Pt=L(4004),gn=L(3900),Mn=L(5698),Bt=L(8675),jt=L(5026),cn=L(262),dr=L(4351),on=L(590),qn=L(5577),Gt=L(8505),kn=L(8189),Xn=L(9808);class Un{constructor(A,x){this.id=A,this.url=x}}class pr extends Un{constructor(A,x,j="imperative",K=null){super(A,x),this.navigationTrigger=j,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vr extends Un{constructor(A,x,j){super(A,x),this.urlAfterRedirects=j}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tr extends Un{constructor(A,x,j){super(A,x),this.reason=j}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class br extends Un{constructor(A,x,j){super(A,x),this.error=j}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zr extends Un{constructor(A,x,j,K){super(A,x),this.urlAfterRedirects=j,this.state=K}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Br extends Un{constructor(A,x,j,K){super(A,x),this.urlAfterRedirects=j,this.state=K}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends Un{constructor(A,x,j,K,ne){super(A,x),this.urlAfterRedirects=j,this.state=K,this.shouldActivate=ne}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $n extends Un{constructor(A,x,j,K){super(A,x),this.urlAfterRedirects=j,this.state=K}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr extends Un{constructor(A,x,j,K){super(A,x),this.urlAfterRedirects=j,this.state=K}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ln{constructor(A){this.route=A}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ur{constructor(A){this.route=A}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Li{constructor(A){this.snapshot=A}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(A){this.snapshot=A}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(A){this.snapshot=A}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(A){this.snapshot=A}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class er{constructor(A,x,j){this.routerEvent=A,this.position=x,this.anchor=j}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class tn{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const x=this.params[A];return Array.isArray(x)?x[0]:x}return null}getAll(A){if(this.has(A)){const x=this.params[A];return Array.isArray(x)?x:[x]}return[]}get keys(){return Object.keys(this.params)}}function an(R){return new tn(R)}const Or="ngNavigationCancelingError";function jr(R){const A=Error("NavigationCancelingError: "+R);return A[Or]=!0,A}function Wr(R,A,x){const j=x.path.split("/");if(j.length>R.length||"full"===x.pathMatch&&(A.hasChildren()||j.length<R.length))return null;const K={};for(let ne=0;ne<j.length;ne++){const Oe=j[ne],Ue=R[ne];if(Oe.startsWith(":"))K[Oe.substring(1)]=Ue;else if(Oe!==Ue.path)return null}return{consumed:R.slice(0,j.length),posParams:K}}function kr(R,A){const x=R?Object.keys(R):void 0,j=A?Object.keys(A):void 0;if(!x||!j||x.length!=j.length)return!1;let K;for(let ne=0;ne<x.length;ne++)if(K=x[ne],!Tn(R[K],A[K]))return!1;return!0}function Tn(R,A){if(Array.isArray(R)&&Array.isArray(A)){if(R.length!==A.length)return!1;const x=[...R].sort(),j=[...A].sort();return x.every((K,ne)=>j[ne]===K)}return R===A}function Gr(R){return Array.prototype.concat.apply([],R)}function Jn(R){return R.length>0?R[R.length-1]:null}function we(R,A){for(const x in R)R.hasOwnProperty(x)&&A(R[x],x)}function te(R){return(0,_.CqO)(R)?R:(0,_.QGY)(R)?(0,Se.D)(Promise.resolve(R)):(0,$e.of)(R)}const it={exact:function Fe(R,A,x){if(!On(R.segments,A.segments)||!vn(R.segments,A.segments,x)||R.numberOfChildren!==A.numberOfChildren)return!1;for(const j in A.children)if(!R.children[j]||!Fe(R.children[j],A.children[j],x))return!1;return!0},subset:rt},St={exact:function Ee(R,A){return kr(R,A)},subset:function ft(R,A){return Object.keys(A).length<=Object.keys(R).length&&Object.keys(A).every(x=>Tn(R[x],A[x]))},ignored:()=>!0};function Te(R,A,x){return it[x.paths](R.root,A.root,x.matrixParams)&&St[x.queryParams](R.queryParams,A.queryParams)&&!("exact"===x.fragment&&R.fragment!==A.fragment)}function rt(R,A,x){return Zt(R,A,A.segments,x)}function Zt(R,A,x,j){if(R.segments.length>x.length){const K=R.segments.slice(0,x.length);return!(!On(K,x)||A.hasChildren()||!vn(K,x,j))}if(R.segments.length===x.length){if(!On(R.segments,x)||!vn(R.segments,x,j))return!1;for(const K in A.children)if(!R.children[K]||!rt(R.children[K],A.children[K],j))return!1;return!0}{const K=x.slice(0,R.segments.length),ne=x.slice(R.segments.length);return!!(On(R.segments,K)&&vn(R.segments,K,j)&&R.children[qt])&&Zt(R.children[qt],A,ne,j)}}function vn(R,A,x){return A.every((j,K)=>St[x](R[K].parameters,j.parameters))}class bn{constructor(A,x,j){this.root=A,this.queryParams=x,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return Ti.serialize(this)}}class Rn{constructor(A,x){this.segments=A,this.children=x,this.parent=null,we(x,(j,K)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ai(this)}}class tr{constructor(A,x){this.path=A,this.parameters=x}get parameterMap(){return this._parameterMap||(this._parameterMap=an(this.parameters)),this._parameterMap}toString(){return Kr(this)}}function On(R,A){return R.length===A.length&&R.every((x,j)=>x.path===A[j].path)}class si{}class hi{parse(A){const x=new Vi(A);return new bn(x.parseRootSegment(),x.parseQueryParams(),x.parseFragment())}serialize(A){const x=`/${ni(A.root,!0)}`,j=function Hr(R){const A=Object.keys(R).map(x=>{const j=R[x];return Array.isArray(j)?j.map(K=>`${Pi(x)}=${Pi(K)}`).join("&"):`${Pi(x)}=${Pi(j)}`}).filter(x=>!!x);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${x}${j}${"string"==typeof A.fragment?`#${function Nn(R){return encodeURI(R)}(A.fragment)}`:""}`}}const Ti=new hi;function ai(R){return R.segments.map(A=>Kr(A)).join("/")}function ni(R,A){if(!R.hasChildren())return ai(R);if(A){const x=R.children[qt]?ni(R.children[qt],!1):"",j=[];return we(R.children,(K,ne)=>{ne!==qt&&j.push(`${ne}:${ni(K,!1)}`)}),j.length>0?`${x}(${j.join("//")})`:x}{const x=function cr(R,A){let x=[];return we(R.children,(j,K)=>{K===qt&&(x=x.concat(A(j,K)))}),we(R.children,(j,K)=>{K!==qt&&(x=x.concat(A(j,K)))}),x}(R,(j,K)=>K===qt?[ni(R.children[qt],!1)]:[`${K}:${ni(j,!1)}`]);return 1===Object.keys(R.children).length&&null!=R.children[qt]?`${ai(R)}/${x[0]}`:`${ai(R)}/(${x.join("//")})`}}function Fr(R){return encodeURIComponent(R).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pi(R){return Fr(R).replace(/%3B/gi,";")}function Vt(R){return Fr(R).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(R){return decodeURIComponent(R)}function hr(R){return jn(R.replace(/\+/g,"%20"))}function Kr(R){return`${Vt(R.path)}${function Fi(R){return Object.keys(R).map(A=>`;${Vt(A)}=${Vt(R[A])}`).join("")}(R.parameters)}`}const fi=/^[^\/()?;=#]+/;function fr(R){const A=R.match(fi);return A?A[0]:""}const Nr=/^[^=?&#]+/,Zn=/^[^&#]+/;class Vi{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let x={};this.peekStartsWith("/(")&&(this.capture("/"),x=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(A.length>0||Object.keys(x).length>0)&&(j[qt]=new Rn(A,x)),j}parseSegment(){const A=fr(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(A),new tr(jn(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const x=fr(this.remaining);if(!x)return;this.capture(x);let j="";if(this.consumeOptional("=")){const K=fr(this.remaining);K&&(j=K,this.capture(j))}A[jn(x)]=jn(j)}parseQueryParam(A){const x=function qr(R){const A=R.match(Nr);return A?A[0]:""}(this.remaining);if(!x)return;this.capture(x);let j="";if(this.consumeOptional("=")){const Oe=function Xr(R){const A=R.match(Zn);return A?A[0]:""}(this.remaining);Oe&&(j=Oe,this.capture(j))}const K=hr(x),ne=hr(j);if(A.hasOwnProperty(K)){let Oe=A[K];Array.isArray(Oe)||(Oe=[Oe],A[K]=Oe),Oe.push(ne)}else A[K]=ne}parseParens(A){const x={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=fr(this.remaining),K=this.remaining[j.length];if("/"!==K&&")"!==K&&";"!==K)throw new Error(`Cannot parse url '${this.url}'`);let ne;j.indexOf(":")>-1?(ne=j.substr(0,j.indexOf(":")),this.capture(ne),this.capture(":")):A&&(ne=qt);const Oe=this.parseChildren();x[ne]=1===Object.keys(Oe).length?Oe[qt]:new Rn([],Oe),this.consumeOptional("//")}return x}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new Error(`Expected "${A}".`)}}class vi{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const x=this.pathFromRoot(A);return x.length>1?x[x.length-2]:null}children(A){const x=bi(A,this._root);return x?x.children.map(j=>j.value):[]}firstChild(A){const x=bi(A,this._root);return x&&x.children.length>0?x.children[0].value:null}siblings(A){const x=Zr(A,this._root);return x.length<2?[]:x[x.length-2].children.map(K=>K.value).filter(K=>K!==A)}pathFromRoot(A){return Zr(A,this._root).map(x=>x.value)}}function bi(R,A){if(R===A.value)return A;for(const x of A.children){const j=bi(R,x);if(j)return j}return null}function Zr(R,A){if(R===A.value)return[A];for(const x of A.children){const j=Zr(R,x);if(j.length)return j.unshift(A),j}return[]}class Sn{constructor(A,x){this.value=A,this.children=x}toString(){return`TreeNode(${this.value})`}}function Ce(R){const A={};return R&&R.children.forEach(x=>A[x.value.outlet]=x),A}class vt extends vi{constructor(A,x){super(A),this.snapshot=x,ye(this,A)}toString(){return this.snapshot.toString()}}function qe(R,A){const x=function _t(R,A){const Oe=new Pe([],{},{},"",{},qt,A,null,R.root,-1,{});return new xe("",new Sn(Oe,[]))}(R,A),j=new bt.X([new tr("",{})]),K=new bt.X({}),ne=new bt.X({}),Oe=new bt.X({}),Ue=new bt.X(""),Ot=new Ht(j,K,Oe,Ue,ne,qt,A,x.root);return Ot.snapshot=x.root,new vt(new Sn(Ot,[]),x)}class Ht{constructor(A,x,j,K,ne,Oe,Ue,Ot){this.url=A,this.params=x,this.queryParams=j,this.fragment=K,this.data=ne,this.outlet=Oe,this.component=Ue,this._futureSnapshot=Ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(A=>an(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(A=>an(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $t(R,A="emptyOnly"){const x=R.pathFromRoot;let j=0;if("always"!==A)for(j=x.length-1;j>=1;){const K=x[j],ne=x[j-1];if(K.routeConfig&&""===K.routeConfig.path)j--;else{if(ne.component)break;j--}}return function Hn(R){return R.reduce((A,x)=>({params:Object.assign(Object.assign({},A.params),x.params),data:Object.assign(Object.assign({},A.data),x.data),resolve:Object.assign(Object.assign({},A.resolve),x._resolvedData)}),{params:{},data:{},resolve:{}})}(x.slice(j))}class Pe{constructor(A,x,j,K,ne,Oe,Ue,Ot,hn,Cn,Bn){this.url=A,this.params=x,this.queryParams=j,this.fragment=K,this.data=ne,this.outlet=Oe,this.component=Ue,this.routeConfig=Ot,this._urlSegment=hn,this._lastPathIndex=Cn,this._resolve=Bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=an(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=an(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xe extends vi{constructor(A,x){super(x),this.url=A,ye(this,x)}toString(){return ze(this._root)}}function ye(R,A){A.value._routerState=R,A.children.forEach(x=>ye(R,x))}function ze(R){const A=R.children.length>0?` { ${R.children.map(ze).join(", ")} } `:"";return`${R.value}${A}`}function It(R){if(R.snapshot){const A=R.snapshot,x=R._futureSnapshot;R.snapshot=x,kr(A.queryParams,x.queryParams)||R.queryParams.next(x.queryParams),A.fragment!==x.fragment&&R.fragment.next(x.fragment),kr(A.params,x.params)||R.params.next(x.params),function Qr(R,A){if(R.length!==A.length)return!1;for(let x=0;x<R.length;++x)if(!kr(R[x],A[x]))return!1;return!0}(A.url,x.url)||R.url.next(x.url),kr(A.data,x.data)||R.data.next(x.data)}else R.snapshot=R._futureSnapshot,R.data.next(R._futureSnapshot.data)}function In(R,A){const x=kr(R.params,A.params)&&function yr(R,A){return On(R,A)&&R.every((x,j)=>kr(x.parameters,A[j].parameters))}(R.url,A.url);return x&&!(!R.parent!=!A.parent)&&(!R.parent||In(R.parent,A.parent))}function ar(R,A,x){if(x&&R.shouldReuseRoute(A.value,x.value.snapshot)){const j=x.value;j._futureSnapshot=A.value;const K=function Bi(R,A,x){return A.children.map(j=>{for(const K of x.children)if(R.shouldReuseRoute(j.value,K.value.snapshot))return ar(R,j,K);return ar(R,j)})}(R,A,x);return new Sn(j,K)}{if(R.shouldAttach(A.value)){const ne=R.retrieve(A.value);if(null!==ne){const Oe=ne.route;return Oe.value._futureSnapshot=A.value,Oe.children=A.children.map(Ue=>ar(R,Ue)),Oe}}const j=function Zs(R){return new Ht(new bt.X(R.url),new bt.X(R.params),new bt.X(R.queryParams),new bt.X(R.fragment),new bt.X(R.data),R.outlet,R.component,R)}(A.value),K=A.children.map(ne=>ar(R,ne));return new Sn(j,K)}}function We(R){return"object"==typeof R&&null!=R&&!R.outlets&&!R.segmentPath}function pt(R){return"object"==typeof R&&null!=R&&R.outlets}function kt(R,A,x,j,K){let ne={};if(j&&we(j,(Ue,Ot)=>{ne[Ot]=Array.isArray(Ue)?Ue.map(hn=>`${hn}`):`${Ue}`}),R===A)return new bn(x,ne,K);const Oe=Kt(R,A,x);return new bn(Oe,ne,K)}function Kt(R,A,x){const j={};return we(R.children,(K,ne)=>{j[ne]=K===A?x:Kt(K,A,x)}),new Rn(R.segments,j)}class pn{constructor(A,x,j){if(this.isAbsolute=A,this.numberOfDoubleDots=x,this.commands=j,A&&j.length>0&&We(j[0]))throw new Error("Root segment cannot have matrix parameters");const K=j.find(pt);if(K&&K!==Jn(j))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class li{constructor(A,x,j){this.segmentGroup=A,this.processChildren=x,this.index=j}}function Ri(R,A,x){if(R||(R=new Rn([],{})),0===R.segments.length&&R.hasChildren())return so(R,A,x);const j=function ys(R,A,x){let j=0,K=A;const ne={match:!1,pathIndex:0,commandIndex:0};for(;K<R.segments.length;){if(j>=x.length)return ne;const Oe=R.segments[K],Ue=x[j];if(pt(Ue))break;const Ot=`${Ue}`,hn=j<x.length-1?x[j+1]:null;if(K>0&&void 0===Ot)break;if(Ot&&hn&&"object"==typeof hn&&void 0===hn.outlets){if(!ki(Ot,hn,Oe))return ne;j+=2}else{if(!ki(Ot,{},Oe))return ne;j++}K++}return{match:!0,pathIndex:K,commandIndex:j}}(R,A,x),K=x.slice(j.commandIndex);if(j.match&&j.pathIndex<R.segments.length){const ne=new Rn(R.segments.slice(0,j.pathIndex),{});return ne.children[qt]=new Rn(R.segments.slice(j.pathIndex),R.children),so(ne,0,K)}return j.match&&0===K.length?new Rn(R.segments,{}):j.match&&!R.hasChildren()?Ls(R,A,x):j.match?so(R,0,K):Ls(R,A,x)}function so(R,A,x){if(0===x.length)return new Rn(R.segments,{});{const j=function Ui(R){return pt(R[0])?R[0].outlets:{[qt]:R}}(x),K={};return we(j,(ne,Oe)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(K[Oe]=Ri(R.children[Oe],A,ne))}),we(R.children,(ne,Oe)=>{void 0===j[Oe]&&(K[Oe]=ne)}),new Rn(R.segments,K)}}function Ls(R,A,x){const j=R.segments.slice(0,A);let K=0;for(;K<x.length;){const ne=x[K];if(pt(ne)){const Ot=oo(ne.outlets);return new Rn(j,Ot)}if(0===K&&We(x[0])){j.push(new tr(R.segments[A].path,Gi(x[0]))),K++;continue}const Oe=pt(ne)?ne.outlets[qt]:`${ne}`,Ue=K<x.length-1?x[K+1]:null;Oe&&Ue&&We(Ue)?(j.push(new tr(Oe,Gi(Ue))),K+=2):(j.push(new tr(Oe,{})),K++)}return new Rn(j,{})}function oo(R){const A={};return we(R,(x,j)=>{"string"==typeof x&&(x=[x]),null!==x&&(A[j]=Ls(new Rn([],{}),0,x))}),A}function Gi(R){const A={};return we(R,(x,j)=>A[j]=`${x}`),A}function ki(R,A,x){return R==x.path&&kr(A,x.parameters)}class Ni{constructor(A,x,j,K){this.routeReuseStrategy=A,this.futureState=x,this.currState=j,this.forwardEvent=K}activate(A){const x=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(x,j,A),It(this.futureState.root),this.activateChildRoutes(x,j,A)}deactivateChildRoutes(A,x,j){const K=Ce(x);A.children.forEach(ne=>{const Oe=ne.value.outlet;this.deactivateRoutes(ne,K[Oe],j),delete K[Oe]}),we(K,(ne,Oe)=>{this.deactivateRouteAndItsChildren(ne,j)})}deactivateRoutes(A,x,j){const K=A.value,ne=x?x.value:null;if(K===ne)if(K.component){const Oe=j.getContext(K.outlet);Oe&&this.deactivateChildRoutes(A,x,Oe.children)}else this.deactivateChildRoutes(A,x,j);else ne&&this.deactivateRouteAndItsChildren(x,j)}deactivateRouteAndItsChildren(A,x){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,x):this.deactivateRouteAndOutlet(A,x)}detachAndStoreRouteSubtree(A,x){const j=x.getContext(A.value.outlet),K=j&&A.value.component?j.children:x,ne=Ce(A);for(const Oe of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Oe],K);if(j&&j.outlet){const Oe=j.outlet.detach(),Ue=j.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Oe,route:A,contexts:Ue})}}deactivateRouteAndOutlet(A,x){const j=x.getContext(A.value.outlet),K=j&&A.value.component?j.children:x,ne=Ce(A);for(const Oe of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Oe],K);j&&j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated(),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(A,x,j){const K=Ce(x);A.children.forEach(ne=>{this.activateRoutes(ne,K[ne.value.outlet],j),this.forwardEvent(new xr(ne.value.snapshot))}),A.children.length&&this.forwardEvent(new Mr(A.value.snapshot))}activateRoutes(A,x,j){const K=A.value,ne=x?x.value:null;if(It(K),K===ne)if(K.component){const Oe=j.getOrCreateContext(K.outlet);this.activateChildRoutes(A,x,Oe.children)}else this.activateChildRoutes(A,x,j);else if(K.component){const Oe=j.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const Ue=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Oe.children.onOutletReAttached(Ue.contexts),Oe.attachRef=Ue.componentRef,Oe.route=Ue.route.value,Oe.outlet&&Oe.outlet.attach(Ue.componentRef,Ue.route.value),It(Ue.route.value),this.activateChildRoutes(A,null,Oe.children)}else{const Ue=function Ki(R){for(let A=R.parent;A;A=A.parent){const x=A.routeConfig;if(x&&x._loadedConfig)return x._loadedConfig;if(x&&x.component)return null}return null}(K.snapshot),Ot=Ue?Ue.module.componentFactoryResolver:null;Oe.attachRef=null,Oe.route=K,Oe.resolver=Ot,Oe.outlet&&Oe.outlet.activateWith(K,Ot),this.activateChildRoutes(A,null,Oe.children)}}else this.activateChildRoutes(A,null,j)}}class ao{constructor(A,x){this.routes=A,this.module=x}}function us(R){return"function"==typeof R}function ji(R){return R instanceof bn}const ri=Symbol("INITIAL_VALUE");function hs(){return(0,gn.w)(R=>function he(...R){const A=(0,Ae.yG)(R),x=(0,Ae.jO)(R),{args:j,keys:K}=(0,ie.D)(R);if(0===j.length)return(0,Se.D)([],A);const ne=new Z.y(function be(R,A,x=de.y){return j=>{Ye(A,()=>{const{length:K}=R,ne=new Array(K);let Oe=K,Ue=K;for(let Ot=0;Ot<K;Ot++)Ye(A,()=>{const hn=(0,Se.D)(R[Ot],A);let Cn=!1;hn.subscribe((0,De.x)(j,Bn=>{ne[Ot]=Bn,Cn||(Cn=!0,Ue--),Ue||j.next(x(ne.slice()))},()=>{--Oe||j.complete()}))},j)},j)}}(j,A,K?Oe=>(0,me.n)(K,Oe):de.y));return x?ne.pipe((0,Ne.Z)(x)):ne}(R.map(A=>A.pipe((0,Mn.q)(1),(0,Bt.O)(ri)))).pipe((0,jt.R)((A,x)=>{let j=!1;return x.reduce((K,ne,Oe)=>K!==ri?K:(ne===ri&&(j=!0),j||!1!==ne&&Oe!==x.length-1&&!ji(ne)?K:ne),A)},ri),(0,Xe.h)(A=>A!==ri),(0,Pt.U)(A=>ji(A)?A:!0===A),(0,Mn.q)(1)))}class ko{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ys,this.attachRef=null}}class Ys{constructor(){this.contexts=new Map}onChildOutletCreated(A,x){const j=this.getOrCreateContext(A);j.outlet=x,this.contexts.set(A,j)}onChildOutletDestroyed(A){const x=this.getContext(A);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let x=this.getContext(A);return x||(x=new ko,this.contexts.set(A,x)),x}getContext(A){return this.contexts.get(A)||null}}let Eo=(()=>{class R{constructor(x,j,K,ne,Oe){this.parentContexts=x,this.location=j,this.resolver=K,this.changeDetector=Oe,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.attachEvents=new _.vpe,this.detachEvents=new _.vpe,this.name=ne||qt,x.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const x=this.parentContexts.getContext(this.name);x&&x.route&&(x.attachRef?this.attach(x.attachRef,x.route):this.activateWith(x.route,x.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const x=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(x.instance),x}attach(x,j){this.activated=x,this._activatedRoute=j,this.location.insert(x.hostView),this.attachEvents.emit(x.instance)}deactivate(){if(this.activated){const x=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(x)}}activateWith(x,j){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=x;const Oe=(j=j||this.resolver).resolveComponentFactory(x._futureSnapshot.routeConfig.component),Ue=this.parentContexts.getOrCreateContext(this.name).children,Ot=new Do(x,Ue,this.location.injector);this.activated=this.location.createComponent(Oe,this.location.length,Ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return R.\u0275fac=function(x){return new(x||R)(_.Y36(Ys),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},R.\u0275dir=_.lG2({type:R,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),R})();class Do{constructor(A,x,j){this.route=A,this.childContexts=x,this.parent=j}get(A,x){return A===Ht?this.route:A===Ys?this.childContexts:this.parent.get(A,x)}}let Hi=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275cmp=_.Xpm({type:R,selectors:[["ng-component"]],decls:1,vars:0,template:function(x,j){1&x&&_._UZ(0,"router-outlet")},directives:[Eo],encapsulation:2}),R})();function Co(R,A=""){for(let x=0;x<R.length;x++){const j=R[x];Qs(j,Ir(A,j))}}function Qs(R,A){R.children&&Co(R.children,A)}function Ir(R,A){return A?R||A.path?R&&!A.path?`${R}/`:!R&&A.path?A.path:`${R}/${A.path}`:"":R}function $(R){const A=R.children&&R.children.map($),x=A?Object.assign(Object.assign({},R),{children:A}):Object.assign({},R);return!x.component&&(A||x.loadChildren)&&x.outlet&&x.outlet!==qt&&(x.component=Hi),x}function se(R){return R.outlet||qt}function H(R,A){const x=R.filter(j=>se(j)===A);return x.push(...R.filter(j=>se(j)!==A)),x}const ue={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Be(R,A,x){var j;if(""===A.path)return"full"===A.pathMatch&&(R.hasChildren()||x.length>0)?Object.assign({},ue):{matched:!0,consumedSegments:[],remainingSegments:x,parameters:{},positionalParamSegments:{}};const ne=(A.matcher||Wr)(x,R,A);if(!ne)return Object.assign({},ue);const Oe={};we(ne.posParams,(Ot,hn)=>{Oe[hn]=Ot.path});const Ue=ne.consumed.length>0?Object.assign(Object.assign({},Oe),ne.consumed[ne.consumed.length-1].parameters):Oe;return{matched:!0,consumedSegments:ne.consumed,remainingSegments:x.slice(ne.consumed.length),parameters:Ue,positionalParamSegments:null!==(j=ne.posParams)&&void 0!==j?j:{}}}function wt(R,A,x,j,K="corrected"){if(x.length>0&&function $r(R,A,x){return x.some(j=>rr(R,A,j)&&se(j)!==qt)}(R,x,j)){const Oe=new Rn(A,function un(R,A,x,j){const K={};K[qt]=j,j._sourceSegment=R,j._segmentIndexShift=A.length;for(const ne of x)if(""===ne.path&&se(ne)!==qt){const Oe=new Rn([],{});Oe._sourceSegment=R,Oe._segmentIndexShift=A.length,K[se(ne)]=Oe}return K}(R,A,j,new Rn(x,R.children)));return Oe._sourceSegment=R,Oe._segmentIndexShift=A.length,{segmentGroup:Oe,slicedSegments:[]}}if(0===x.length&&function Pr(R,A,x){return x.some(j=>rr(R,A,j))}(R,x,j)){const Oe=new Rn(R.segments,function Nt(R,A,x,j,K,ne){const Oe={};for(const Ue of j)if(rr(R,x,Ue)&&!K[se(Ue)]){const Ot=new Rn([],{});Ot._sourceSegment=R,Ot._segmentIndexShift="legacy"===ne?R.segments.length:A.length,Oe[se(Ue)]=Ot}return Object.assign(Object.assign({},K),Oe)}(R,A,x,j,R.children,K));return Oe._sourceSegment=R,Oe._segmentIndexShift=A.length,{segmentGroup:Oe,slicedSegments:x}}const ne=new Rn(R.segments,R.children);return ne._sourceSegment=R,ne._segmentIndexShift=A.length,{segmentGroup:ne,slicedSegments:x}}function rr(R,A,x){return(!(R.hasChildren()||A.length>0)||"full"!==x.pathMatch)&&""===x.path}function gr(R,A,x,j){return!!(se(R)===j||j!==qt&&rr(A,x,R))&&("**"===R.path||Be(A,R,x).matched)}function oi(R,A,x){return 0===A.length&&!R.children[x]}class Jr{constructor(A){this.segmentGroup=A||null}}class Lr{constructor(A){this.urlTree=A}}function Ds(R){return dt(new Jr(R))}function is(R){return dt(new Lr(R))}class Fs{constructor(A,x,j,K,ne){this.configLoader=x,this.urlSerializer=j,this.urlTree=K,this.config=ne,this.allowRedirects=!0,this.ngModule=A.get(_.h0i)}apply(){const A=wt(this.urlTree.root,[],[],this.config).segmentGroup,x=new Rn(A.segments,A.children);return this.expandSegmentGroup(this.ngModule,this.config,x,qt).pipe((0,Pt.U)(ne=>this.createUrlTree(z(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,cn.K)(ne=>{if(ne instanceof Lr)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof Jr?this.noMatchError(ne):ne}))}match(A){return this.expandSegmentGroup(this.ngModule,this.config,A.root,qt).pipe((0,Pt.U)(K=>this.createUrlTree(z(K),A.queryParams,A.fragment))).pipe((0,cn.K)(K=>{throw K instanceof Jr?this.noMatchError(K):K}))}noMatchError(A){return new Error(`Cannot match any routes. URL Segment: '${A.segmentGroup}'`)}createUrlTree(A,x,j){const K=A.segments.length>0?new Rn([],{[qt]:A}):A;return new bn(K,x,j)}expandSegmentGroup(A,x,j,K){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(A,x,j).pipe((0,Pt.U)(ne=>new Rn([],ne))):this.expandSegment(A,j,x,j.segments,K,!0)}expandChildren(A,x,j){const K=[];for(const ne of Object.keys(j.children))"primary"===ne?K.unshift(ne):K.push(ne);return(0,Se.D)(K).pipe((0,dr.b)(ne=>{const Oe=j.children[ne],Ue=H(x,ne);return this.expandSegmentGroup(A,Ue,Oe,ne).pipe((0,Pt.U)(Ot=>({segment:Ot,outlet:ne})))}),(0,jt.R)((ne,Oe)=>(ne[Oe.outlet]=Oe.segment,ne),{}),function ot(R,A){const x=arguments.length>=2;return j=>j.pipe(R?(0,Xe.h)((K,ne)=>R(K,ne,j)):de.y,st(1),x?(0,ut.d)(A):(0,et.T)(()=>new Rt.K))}())}expandSegment(A,x,j,K,ne,Oe){return(0,Se.D)(j).pipe((0,dr.b)(Ue=>this.expandSegmentAgainstRoute(A,x,j,Ue,K,ne,Oe).pipe((0,cn.K)(hn=>{if(hn instanceof Jr)return(0,$e.of)(null);throw hn}))),(0,on.P)(Ue=>!!Ue),(0,cn.K)((Ue,Ot)=>{if(Ue instanceof Rt.K||"EmptyError"===Ue.name)return oi(x,K,ne)?(0,$e.of)(new Rn([],{})):Ds(x);throw Ue}))}expandSegmentAgainstRoute(A,x,j,K,ne,Oe,Ue){return gr(K,x,ne,Oe)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(A,x,K,ne,Oe):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,x,j,K,ne,Oe):Ds(x):Ds(x)}expandSegmentAgainstRouteUsingRedirect(A,x,j,K,ne,Oe){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,j,K,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(A,x,j,K,ne,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,x,j,K){const ne=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?is(ne):this.lineralizeSegments(j,ne).pipe((0,qn.z)(Oe=>{const Ue=new Rn(Oe,{});return this.expandSegment(A,Ue,x,Oe,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,x,j,K,ne,Oe){const{matched:Ue,consumedSegments:Ot,remainingSegments:hn,positionalParamSegments:Cn}=Be(x,K,ne);if(!Ue)return Ds(x);const Bn=this.applyRedirectCommands(Ot,K.redirectTo,Cn);return K.redirectTo.startsWith("/")?is(Bn):this.lineralizeSegments(K,Bn).pipe((0,qn.z)(_r=>this.expandSegment(A,x,j,_r.concat(hn),Oe,!1)))}matchSegmentAgainstRoute(A,x,j,K,ne){if("**"===j.path)return j.loadChildren?(j._loadedConfig?(0,$e.of)(j._loadedConfig):this.configLoader.load(A.injector,j)).pipe((0,Pt.U)(Bn=>(j._loadedConfig=Bn,new Rn(K,{})))):(0,$e.of)(new Rn(K,{}));const{matched:Oe,consumedSegments:Ue,remainingSegments:Ot}=Be(x,j,K);return Oe?this.getChildConfig(A,j,K).pipe((0,qn.z)(Cn=>{const Bn=Cn.module,_r=Cn.routes,{segmentGroup:Er,slicedSegments:$s}=wt(x,Ue,Ot,_r),ci=new Rn(Er.segments,Er.children);if(0===$s.length&&ci.hasChildren())return this.expandChildren(Bn,_r,ci).pipe((0,Pt.U)(As=>new Rn(Ue,As)));if(0===_r.length&&0===$s.length)return(0,$e.of)(new Rn(Ue,{}));const qo=se(j)===ne;return this.expandSegment(Bn,ci,_r,$s,qo?qt:ne,!0).pipe((0,Pt.U)(ui=>new Rn(Ue.concat(ui.segments),ui.children)))})):Ds(x)}getChildConfig(A,x,j){return x.children?(0,$e.of)(new ao(x.children,A)):x.loadChildren?void 0!==x._loadedConfig?(0,$e.of)(x._loadedConfig):this.runCanLoadGuards(A.injector,x,j).pipe((0,qn.z)(K=>K?this.configLoader.load(A.injector,x).pipe((0,Pt.U)(ne=>(x._loadedConfig=ne,ne))):function Cs(R){return dt(jr(`Cannot load children because the guard of the route "path: '${R.path}'" returned false`))}(x))):(0,$e.of)(new ao([],A))}runCanLoadGuards(A,x,j){const K=x.canLoad;if(!K||0===K.length)return(0,$e.of)(!0);const ne=K.map(Oe=>{const Ue=A.get(Oe);let Ot;if(function Ar(R){return R&&us(R.canLoad)}(Ue))Ot=Ue.canLoad(x,j);else{if(!us(Ue))throw new Error("Invalid CanLoad guard");Ot=Ue(x,j)}return te(Ot)});return(0,$e.of)(ne).pipe(hs(),(0,Gt.b)(Oe=>{if(!ji(Oe))return;const Ue=jr(`Redirecting to "${this.urlSerializer.serialize(Oe)}"`);throw Ue.url=Oe,Ue}),(0,Pt.U)(Oe=>!0===Oe))}lineralizeSegments(A,x){let j=[],K=x.root;for(;;){if(j=j.concat(K.segments),0===K.numberOfChildren)return(0,$e.of)(j);if(K.numberOfChildren>1||!K.children[qt])return dt(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A.redirectTo}'`));K=K.children[qt]}}applyRedirectCommands(A,x,j){return this.applyRedirectCreatreUrlTree(x,this.urlSerializer.parse(x),A,j)}applyRedirectCreatreUrlTree(A,x,j,K){const ne=this.createSegmentGroup(A,x.root,j,K);return new bn(ne,this.createQueryParams(x.queryParams,this.urlTree.queryParams),x.fragment)}createQueryParams(A,x){const j={};return we(A,(K,ne)=>{if("string"==typeof K&&K.startsWith(":")){const Ue=K.substring(1);j[ne]=x[Ue]}else j[ne]=K}),j}createSegmentGroup(A,x,j,K){const ne=this.createSegments(A,x.segments,j,K);let Oe={};return we(x.children,(Ue,Ot)=>{Oe[Ot]=this.createSegmentGroup(A,Ue,j,K)}),new Rn(ne,Oe)}createSegments(A,x,j,K){return x.map(ne=>ne.path.startsWith(":")?this.findPosParam(A,ne,K):this.findOrReturn(ne,j))}findPosParam(A,x,j){const K=j[x.path.substring(1)];if(!K)throw new Error(`Cannot redirect to '${A}'. Cannot find '${x.path}'.`);return K}findOrReturn(A,x){let j=0;for(const K of x){if(K.path===A.path)return x.splice(j),K;j++}return A}}function z(R){const A={};for(const j of Object.keys(R.children)){const ne=z(R.children[j]);(ne.segments.length>0||ne.hasChildren())&&(A[j]=ne)}return function co(R){if(1===R.numberOfChildren&&R.children[qt]){const A=R.children[qt];return new Rn(R.segments.concat(A.segments),A.children)}return R}(new Rn(R.segments,A))}class V{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Y{constructor(A,x){this.component=A,this.route=x}}function Je(R,A,x){const j=R._root;return Ji(j,A?A._root:null,x,[j.value])}function ir(R,A,x){const j=function xi(R){if(!R)return null;for(let A=R.parent;A;A=A.parent){const x=A.routeConfig;if(x&&x._loadedConfig)return x._loadedConfig}return null}(A);return(j?j.module.injector:x).get(R)}function Ji(R,A,x,j,K={canDeactivateChecks:[],canActivateChecks:[]}){const ne=Ce(A);return R.children.forEach(Oe=>{(function qi(R,A,x,j,K={canDeactivateChecks:[],canActivateChecks:[]}){const ne=R.value,Oe=A?A.value:null,Ue=x?x.getContext(R.value.outlet):null;if(Oe&&ne.routeConfig===Oe.routeConfig){const Ot=function Ts(R,A,x){if("function"==typeof x)return x(R,A);switch(x){case"pathParamsChange":return!On(R.url,A.url);case"pathParamsOrQueryParamsChange":return!On(R.url,A.url)||!kr(R.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!In(R,A)||!kr(R.queryParams,A.queryParams);default:return!In(R,A)}}(Oe,ne,ne.routeConfig.runGuardsAndResolvers);Ot?K.canActivateChecks.push(new V(j)):(ne.data=Oe.data,ne._resolvedData=Oe._resolvedData),Ji(R,A,ne.component?Ue?Ue.children:null:x,j,K),Ot&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&K.canDeactivateChecks.push(new Y(Ue.outlet.component,Oe))}else Oe&&Vs(A,Ue,K),K.canActivateChecks.push(new V(j)),Ji(R,null,ne.component?Ue?Ue.children:null:x,j,K)})(Oe,ne[Oe.value.outlet],x,j.concat([Oe.value]),K),delete ne[Oe.value.outlet]}),we(ne,(Oe,Ue)=>Vs(Oe,x.getContext(Ue),K)),K}function Vs(R,A,x){const j=Ce(R),K=R.value;we(j,(ne,Oe)=>{Vs(ne,K.component?A?A.children.getContext(Oe):null:A,x)}),x.canDeactivateChecks.push(new Y(K.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,K))}class Js{}function ta(R){return new Z.y(A=>A.error(R))}class Ho{constructor(A,x,j,K,ne,Oe){this.rootComponentType=A,this.config=x,this.urlTree=j,this.url=K,this.paramsInheritanceStrategy=ne,this.relativeLinkResolution=Oe}recognize(){const A=wt(this.urlTree.root,[],[],this.config.filter(Oe=>void 0===Oe.redirectTo),this.relativeLinkResolution).segmentGroup,x=this.processSegmentGroup(this.config,A,qt);if(null===x)return null;const j=new Pe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new Sn(j,x),ne=new xe(this.url,K);return this.inheritParamsAndData(ne._root),ne}inheritParamsAndData(A){const x=A.value,j=$t(x,this.paramsInheritanceStrategy);x.params=Object.freeze(j.params),x.data=Object.freeze(j.data),A.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(A,x,j){return 0===x.segments.length&&x.hasChildren()?this.processChildren(A,x):this.processSegment(A,x,x.segments,j)}processChildren(A,x){const j=[];for(const ne of Object.keys(x.children)){const Oe=x.children[ne],Ue=H(A,ne),Ot=this.processSegmentGroup(Ue,Oe,ne);if(null===Ot)return null;j.push(...Ot)}const K=na(j);return function Ea(R){R.sort((A,x)=>A.value.outlet===qt?-1:x.value.outlet===qt?1:A.value.outlet.localeCompare(x.value.outlet))}(K),K}processSegment(A,x,j,K){for(const ne of A){const Oe=this.processSegmentAgainstRoute(ne,x,j,K);if(null!==Oe)return Oe}return oi(x,j,K)?[]:null}processSegmentAgainstRoute(A,x,j,K){if(A.redirectTo||!gr(A,x,j,K))return null;let ne,Oe=[],Ue=[];if("**"===A.path){const Er=j.length>0?Jn(j).parameters:{};ne=new Pe(j,Er,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uo(A),se(A),A.component,A,Ra(x),zo(x)+j.length,Da(A))}else{const Er=Be(x,A,j);if(!Er.matched)return null;Oe=Er.consumedSegments,Ue=Er.remainingSegments,ne=new Pe(Oe,Er.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uo(A),se(A),A.component,A,Ra(x),zo(x)+Oe.length,Da(A))}const Ot=function $o(R){return R.children?R.children:R.loadChildren?R._loadedConfig.routes:[]}(A),{segmentGroup:hn,slicedSegments:Cn}=wt(x,Oe,Ue,Ot.filter(Er=>void 0===Er.redirectTo),this.relativeLinkResolution);if(0===Cn.length&&hn.hasChildren()){const Er=this.processChildren(Ot,hn);return null===Er?null:[new Sn(ne,Er)]}if(0===Ot.length&&0===Cn.length)return[new Sn(ne,[])];const Bn=se(A)===K,_r=this.processSegment(Ot,hn,Cn,Bn?qt:K);return null===_r?null:[new Sn(ne,_r)]}}function Us(R){const A=R.value.routeConfig;return A&&""===A.path&&void 0===A.redirectTo}function na(R){const A=[],x=new Set;for(const j of R){if(!Us(j)){A.push(j);continue}const K=A.find(ne=>j.value.routeConfig===ne.value.routeConfig);void 0!==K?(K.children.push(...j.children),x.add(K)):A.push(j)}for(const j of x){const K=na(j.children);A.push(new Sn(j.value,K))}return A.filter(j=>!x.has(j))}function Ra(R){let A=R;for(;A._sourceSegment;)A=A._sourceSegment;return A}function zo(R){let A=R,x=A._segmentIndexShift?A._segmentIndexShift:0;for(;A._sourceSegment;)A=A._sourceSegment,x+=A._segmentIndexShift?A._segmentIndexShift:0;return x-1}function uo(R){return R.data||{}}function Da(R){return R.resolve||{}}function fo(R){return[...Object.keys(R),...Object.getOwnPropertySymbols(R)]}function es(R){return(0,gn.w)(A=>{const x=R(A);return x?(0,Se.D)(x).pipe((0,Pt.U)(()=>A)):(0,$e.of)(A)})}class ia extends class $i{shouldDetach(A){return!1}store(A,x){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,x){return A.routeConfig===x.routeConfig}}{}const js=new _.OlP("ROUTES");class Gl{constructor(A,x,j,K){this.injector=A,this.compiler=x,this.onLoadStartListener=j,this.onLoadEndListener=K}load(A,x){if(x._loader$)return x._loader$;this.onLoadStartListener&&this.onLoadStartListener(x);const K=this.loadModuleFactory(x.loadChildren).pipe((0,Pt.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(x);const Oe=ne.create(A);return new ao(Gr(Oe.injector.get(js,void 0,_.XFs.Self|_.XFs.Optional)).map($),Oe)}),(0,cn.K)(ne=>{throw x._loader$=void 0,ne}));return x._loader$=new ct(K,()=>new Xt.x).pipe(Dt()),x._loader$}loadModuleFactory(A){return te(A()).pipe((0,qn.z)(x=>x instanceof _.YKP?(0,$e.of)(x):(0,Se.D)(this.compiler.compileModuleAsync(x))))}}class Ia{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,x){return A}}function ka(R){throw R}function Hs(R,A,x){return A.parse("/")}function No(R,A){return(0,$e.of)(null)}const Na={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ai={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class R{constructor(x,j,K,ne,Oe,Ue,Ot){this.rootComponentType=x,this.urlSerializer=j,this.rootContexts=K,this.location=ne,this.config=Ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xt.x,this.errorHandler=ka,this.malformedUriErrorHandler=Hs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:No,afterPreactivation:No},this.urlHandlingStrategy=new Ia,this.routeReuseStrategy=new ia,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Oe.get(_.h0i),this.console=Oe.get(_.c2e);const Bn=Oe.get(_.R0b);this.isNgZoneEnabled=Bn instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(Ot),this.currentUrlTree=function _e(){return new bn(new Rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gl(Oe,Ue,_r=>this.triggerEvent(new Ln(_r)),_r=>this.triggerEvent(new Ur(_r))),this.routerState=qe(this.currentUrlTree,this.rootComponentType),this.transitions=new bt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var x;return null===(x=this.location.getState())||void 0===x?void 0:x.\u0275routerPageId}setupNavigations(x){const j=this.events;return x.pipe((0,Xe.h)(K=>0!==K.id),(0,Pt.U)(K=>Object.assign(Object.assign({},K),{extractedUrl:this.urlHandlingStrategy.extract(K.rawUrl)})),(0,gn.w)(K=>{let ne=!1,Oe=!1;return(0,$e.of)(K).pipe((0,Gt.b)(Ue=>{this.currentNavigation={id:Ue.id,initialUrl:Ue.currentRawUrl,extractedUrl:Ue.extractedUrl,trigger:Ue.source,extras:Ue.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,gn.w)(Ue=>{const Ot=this.browserUrlTree.toString(),hn=!this.navigated||Ue.extractedUrl.toString()!==Ot||Ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl(Ue.rawUrl))return Ps(Ue.source)&&(this.browserUrlTree=Ue.extractedUrl),(0,$e.of)(Ue).pipe((0,gn.w)(Bn=>{const _r=this.transitions.getValue();return j.next(new pr(Bn.id,this.serializeUrl(Bn.extractedUrl),Bn.source,Bn.restoredState)),_r!==this.transitions.getValue()?ge.E:Promise.resolve(Bn)}),function U(R,A,x,j){return(0,gn.w)(K=>function Is(R,A,x,j,K){return new Fs(R,A,x,j,K).apply()}(R,A,x,K.extractedUrl,j).pipe((0,Pt.U)(ne=>Object.assign(Object.assign({},K),{urlAfterRedirects:ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gt.b)(Bn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Bn.urlAfterRedirects})}),function ho(R,A,x,j,K){return(0,qn.z)(ne=>function jo(R,A,x,j,K="emptyOnly",ne="legacy"){try{const Oe=new Ho(R,A,x,j,K,ne).recognize();return null===Oe?ta(new Js):(0,$e.of)(Oe)}catch(Oe){return ta(Oe)}}(R,A,ne.urlAfterRedirects,x(ne.urlAfterRedirects),j,K).pipe((0,Pt.U)(Oe=>Object.assign(Object.assign({},ne),{targetSnapshot:Oe}))))}(this.rootComponentType,this.config,Bn=>this.serializeUrl(Bn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gt.b)(Bn=>{if("eager"===this.urlUpdateStrategy){if(!Bn.extras.skipLocationChange){const Er=this.urlHandlingStrategy.merge(Bn.urlAfterRedirects,Bn.rawUrl);this.setBrowserUrl(Er,Bn)}this.browserUrlTree=Bn.urlAfterRedirects}const _r=new zr(Bn.id,this.serializeUrl(Bn.extractedUrl),this.serializeUrl(Bn.urlAfterRedirects),Bn.targetSnapshot);j.next(_r)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:_r,extractedUrl:Er,source:$s,restoredState:ci,extras:qo}=Ue,Rs=new pr(_r,this.serializeUrl(Er),$s,ci);j.next(Rs);const ui=qe(Er,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},Ue),{targetSnapshot:ui,urlAfterRedirects:Er,extras:Object.assign(Object.assign({},qo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ue.rawUrl,Ue.resolve(null),ge.E}),es(Ue=>{const{targetSnapshot:Ot,id:hn,extractedUrl:Cn,rawUrl:Bn,extras:{skipLocationChange:_r,replaceUrl:Er}}=Ue;return this.hooks.beforePreactivation(Ot,{navigationId:hn,appliedUrlTree:Cn,rawUrlTree:Bn,skipLocationChange:!!_r,replaceUrl:!!Er})}),(0,Gt.b)(Ue=>{const Ot=new Br(Ue.id,this.serializeUrl(Ue.extractedUrl),this.serializeUrl(Ue.urlAfterRedirects),Ue.targetSnapshot);this.triggerEvent(Ot)}),(0,Pt.U)(Ue=>Object.assign(Object.assign({},Ue),{guards:Je(Ue.targetSnapshot,Ue.currentSnapshot,this.rootContexts)})),function _a(R,A){return(0,qn.z)(x=>{const{targetSnapshot:j,currentSnapshot:K,guards:{canActivateChecks:ne,canDeactivateChecks:Oe}}=x;return 0===Oe.length&&0===ne.length?(0,$e.of)(Object.assign(Object.assign({},x),{guardsResult:!0})):function va(R,A,x,j){return(0,Se.D)(R).pipe((0,qn.z)(K=>function Xs(R,A,x,j,K){const ne=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,$e.of)(!0);const Oe=ne.map(Ue=>{const Ot=ir(Ue,A,K);let hn;if(function ds(R){return R&&us(R.canDeactivate)}(Ot))hn=te(Ot.canDeactivate(R,A,x,j));else{if(!us(Ot))throw new Error("Invalid CanDeactivate guard");hn=te(Ot(R,A,x,j))}return hn.pipe((0,on.P)())});return(0,$e.of)(Oe).pipe(hs())}(K.component,K.route,x,A,j)),(0,on.P)(K=>!0!==K,!0))}(Oe,j,K,R).pipe((0,qn.z)(Ue=>Ue&&function Es(R){return"boolean"==typeof R}(Ue)?function ba(R,A,x,j){return(0,Se.D)(A).pipe((0,dr.b)(K=>(0,Ut.z)(function fs(R,A){return null!==R&&A&&A(new Li(R)),(0,$e.of)(!0)}(K.route.parent,j),function _s(R,A){return null!==R&&A&&A(new rn(R)),(0,$e.of)(!0)}(K.route,j),function wa(R,A,x){const j=A[A.length-1],ne=A.slice(0,A.length-1).reverse().map(Oe=>function Dn(R){const A=R.routeConfig?R.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:R,guards:A}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>yt(()=>{const Ue=Oe.guards.map(Ot=>{const hn=ir(Ot,Oe.node,x);let Cn;if(function wo(R){return R&&us(R.canActivateChild)}(hn))Cn=te(hn.canActivateChild(j,R));else{if(!us(hn))throw new Error("Invalid CanActivateChild guard");Cn=te(hn(j,R))}return Cn.pipe((0,on.P)())});return(0,$e.of)(Ue).pipe(hs())}));return(0,$e.of)(ne).pipe(hs())}(R,K.path,x),function Bs(R,A,x){const j=A.routeConfig?A.routeConfig.canActivate:null;if(!j||0===j.length)return(0,$e.of)(!0);const K=j.map(ne=>yt(()=>{const Oe=ir(ne,A,x);let Ue;if(function lo(R){return R&&us(R.canActivate)}(Oe))Ue=te(Oe.canActivate(A,R));else{if(!us(Oe))throw new Error("Invalid CanActivate guard");Ue=te(Oe(A,R))}return Ue.pipe((0,on.P)())}));return(0,$e.of)(K).pipe(hs())}(R,K.route,x))),(0,on.P)(K=>!0!==K,!0))}(j,ne,R,A):(0,$e.of)(Ue)),(0,Pt.U)(Ue=>Object.assign(Object.assign({},x),{guardsResult:Ue})))})}(this.ngModule.injector,Ue=>this.triggerEvent(Ue)),(0,Gt.b)(Ue=>{if(ji(Ue.guardsResult)){const hn=jr(`Redirecting to "${this.serializeUrl(Ue.guardsResult)}"`);throw hn.url=Ue.guardsResult,hn}const Ot=new Ft(Ue.id,this.serializeUrl(Ue.extractedUrl),this.serializeUrl(Ue.urlAfterRedirects),Ue.targetSnapshot,!!Ue.guardsResult);this.triggerEvent(Ot)}),(0,Xe.h)(Ue=>!!Ue.guardsResult||(this.restoreHistory(Ue),this.cancelNavigationTransition(Ue,""),!1)),es(Ue=>{if(Ue.guards.canActivateChecks.length)return(0,$e.of)(Ue).pipe((0,Gt.b)(Ot=>{const hn=new $n(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(hn)}),(0,gn.w)(Ot=>{let hn=!1;return(0,$e.of)(Ot).pipe(function Ca(R,A){return(0,qn.z)(x=>{const{targetSnapshot:j,guards:{canActivateChecks:K}}=x;if(!K.length)return(0,$e.of)(x);let ne=0;return(0,Se.D)(K).pipe((0,dr.b)(Oe=>function qa(R,A,x,j){return function Wo(R,A,x,j){const K=fo(R);if(0===K.length)return(0,$e.of)({});const ne={};return(0,Se.D)(K).pipe((0,qn.z)(Oe=>function Za(R,A,x,j){const K=ir(R,A,j);return te(K.resolve?K.resolve(A,x):K(A,x))}(R[Oe],A,x,j).pipe((0,Gt.b)(Ue=>{ne[Oe]=Ue}))),st(1),(0,qn.z)(()=>fo(ne).length===K.length?(0,$e.of)(ne):ge.E))}(R._resolve,R,A,j).pipe((0,Pt.U)(ne=>(R._resolvedData=ne,R.data=Object.assign(Object.assign({},R.data),$t(R,x).resolve),null)))}(Oe.route,j,R,A)),(0,Gt.b)(()=>ne++),st(1),(0,qn.z)(Oe=>ne===K.length?(0,$e.of)(x):ge.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gt.b)({next:()=>hn=!0,complete:()=>{hn||(this.restoreHistory(Ot),this.cancelNavigationTransition(Ot,"At least one route resolver didn't emit any value."))}}))}),(0,Gt.b)(Ot=>{const hn=new lr(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(hn)}))}),es(Ue=>{const{targetSnapshot:Ot,id:hn,extractedUrl:Cn,rawUrl:Bn,extras:{skipLocationChange:_r,replaceUrl:Er}}=Ue;return this.hooks.afterPreactivation(Ot,{navigationId:hn,appliedUrlTree:Cn,rawUrlTree:Bn,skipLocationChange:!!_r,replaceUrl:!!Er})}),(0,Pt.U)(Ue=>{const Ot=function nr(R,A,x){const j=ar(R,A._root,x?x._root:void 0);return new vt(j,A)}(this.routeReuseStrategy,Ue.targetSnapshot,Ue.currentRouterState);return Object.assign(Object.assign({},Ue),{targetRouterState:Ot})}),(0,Gt.b)(Ue=>{this.currentUrlTree=Ue.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ue.urlAfterRedirects,Ue.rawUrl),this.routerState=Ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ue),this.browserUrlTree=Ue.urlAfterRedirects)}),((R,A,x)=>(0,Pt.U)(j=>(new Ni(A,j.targetRouterState,j.currentRouterState,x).activate(R),j)))(this.rootContexts,this.routeReuseStrategy,Ue=>this.triggerEvent(Ue)),(0,Gt.b)({next(){ne=!0},complete(){ne=!0}}),function Mt(R){return(0,Le.e)((A,x)=>{try{A.subscribe(x)}finally{x.add(R)}})}(()=>{var Ue;ne||Oe||this.cancelNavigationTransition(K,`Navigation ID ${K.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ue=this.currentNavigation)||void 0===Ue?void 0:Ue.id)===K.id&&(this.currentNavigation=null)}),(0,cn.K)(Ue=>{if(Oe=!0,function Pn(R){return R&&R[Or]}(Ue)){const Ot=ji(Ue.url);Ot||(this.navigated=!0,this.restoreHistory(K,!0));const hn=new Tr(K.id,this.serializeUrl(K.extractedUrl),Ue.message);j.next(hn),Ot?setTimeout(()=>{const Cn=this.urlHandlingStrategy.merge(Ue.url,this.rawUrlTree),Bn={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ps(K.source)};this.scheduleNavigation(Cn,"imperative",null,Bn,{resolve:K.resolve,reject:K.reject,promise:K.promise})},0):K.resolve(!1)}else{this.restoreHistory(K,!0);const Ot=new br(K.id,this.serializeUrl(K.extractedUrl),Ue);j.next(Ot);try{K.resolve(this.errorHandler(Ue))}catch(hn){K.reject(hn)}}return ge.E}))}))}resetRootComponentType(x){this.rootComponentType=x,this.routerState.root.component=this.rootComponentType}setTransition(x){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),x))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(x=>{const j="popstate"===x.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{var K;const ne={replaceUrl:!0},Oe=(null===(K=x.state)||void 0===K?void 0:K.navigationId)?x.state:null;if(Oe){const Ot=Object.assign({},Oe);delete Ot.navigationId,delete Ot.\u0275routerPageId,0!==Object.keys(Ot).length&&(ne.state=Ot)}const Ue=this.parseUrl(x.url);this.scheduleNavigation(Ue,j,Oe,ne)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(x){this.events.next(x)}resetConfig(x){Co(x),this.config=x.map($),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(x,j={}){const{relativeTo:K,queryParams:ne,fragment:Oe,queryParamsHandling:Ue,preserveFragment:Ot}=j,hn=K||this.routerState.root,Cn=Ot?this.currentUrlTree.fragment:Oe;let Bn=null;switch(Ue){case"merge":Bn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ne);break;case"preserve":Bn=this.currentUrlTree.queryParams;break;default:Bn=ne||null}return null!==Bn&&(Bn=this.removeEmptyProps(Bn)),function Qe(R,A,x,j,K){if(0===x.length)return kt(A.root,A.root,A.root,j,K);const ne=function Yn(R){if("string"==typeof R[0]&&1===R.length&&"/"===R[0])return new pn(!0,0,R);let A=0,x=!1;const j=R.reduce((K,ne,Oe)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const Ue={};return we(ne.outlets,(Ot,hn)=>{Ue[hn]="string"==typeof Ot?Ot.split("/"):Ot}),[...K,{outlets:Ue}]}if(ne.segmentPath)return[...K,ne.segmentPath]}return"string"!=typeof ne?[...K,ne]:0===Oe?(ne.split("/").forEach((Ue,Ot)=>{0==Ot&&"."===Ue||(0==Ot&&""===Ue?x=!0:".."===Ue?A++:""!=Ue&&K.push(Ue))}),K):[...K,ne]},[]);return new pn(x,A,j)}(x);if(ne.toRoot())return kt(A.root,A.root,new Rn([],{}),j,K);const Oe=function wr(R,A,x){if(R.isAbsolute)return new li(A.root,!0,0);if(-1===x.snapshot._lastPathIndex){const ne=x.snapshot._urlSegment;return new li(ne,ne===A.root,0)}const j=We(R.commands[0])?0:1;return function pi(R,A,x){let j=R,K=A,ne=x;for(;ne>K;){if(ne-=K,j=j.parent,!j)throw new Error("Invalid number of '../'");K=j.segments.length}return new li(j,!1,K-ne)}(x.snapshot._urlSegment,x.snapshot._lastPathIndex+j,R.numberOfDoubleDots)}(ne,A,R),Ue=Oe.processChildren?so(Oe.segmentGroup,Oe.index,ne.commands):Ri(Oe.segmentGroup,Oe.index,ne.commands);return kt(A.root,Oe.segmentGroup,Ue,j,K)}(hn,this.currentUrlTree,x,Bn,null!=Cn?Cn:null)}navigateByUrl(x,j={skipLocationChange:!1}){const K=ji(x)?x:this.parseUrl(x),ne=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,j)}navigate(x,j={skipLocationChange:!1}){return function Qa(R){for(let A=0;A<R.length;A++){const x=R[A];if(null==x)throw new Error(`The requested path contains ${x} segment at index ${A}`)}}(x),this.navigateByUrl(this.createUrlTree(x,j),j)}serializeUrl(x){return this.urlSerializer.serialize(x)}parseUrl(x){let j;try{j=this.urlSerializer.parse(x)}catch(K){j=this.malformedUriErrorHandler(K,this.urlSerializer,x)}return j}isActive(x,j){let K;if(K=!0===j?Object.assign({},Na):!1===j?Object.assign({},Ai):j,ji(x))return Te(this.currentUrlTree,x,K);const ne=this.parseUrl(x);return Te(this.currentUrlTree,ne,K)}removeEmptyProps(x){return Object.keys(x).reduce((j,K)=>{const ne=x[K];return null!=ne&&(j[K]=ne),j},{})}processNavigations(){this.navigations.subscribe(x=>{this.navigated=!0,this.lastSuccessfulId=x.id,this.currentPageId=x.targetPageId,this.events.next(new vr(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,x.resolve(!0)},x=>{this.console.warn(`Unhandled Navigation Error: ${x}`)})}scheduleNavigation(x,j,K,ne,Oe){var Ue,Ot;if(this.disposed)return Promise.resolve(!1);let hn,Cn,Bn;Oe?(hn=Oe.resolve,Cn=Oe.reject,Bn=Oe.promise):Bn=new Promise(($s,ci)=>{hn=$s,Cn=ci});const _r=++this.navigationId;let Er;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(K=this.location.getState()),Er=K&&K.\u0275routerPageId?K.\u0275routerPageId:ne.replaceUrl||ne.skipLocationChange?null!==(Ue=this.browserPageId)&&void 0!==Ue?Ue:0:(null!==(Ot=this.browserPageId)&&void 0!==Ot?Ot:0)+1):Er=0,this.setTransition({id:_r,targetPageId:Er,source:j,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:x,extras:ne,resolve:hn,reject:Cn,promise:Bn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bn.catch($s=>Promise.reject($s))}setBrowserUrl(x,j){const K=this.urlSerializer.serialize(x),ne=Object.assign(Object.assign({},j.extras.state),this.generateNgRouterState(j.id,j.targetPageId));this.location.isCurrentPathEqualTo(K)||j.extras.replaceUrl?this.location.replaceState(K,"",ne):this.location.go(K,"",ne)}restoreHistory(x,j=!1){var K,ne;if("computed"===this.canceledNavigationResolution){const Oe=this.currentPageId-x.targetPageId;"popstate"!==x.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)||0===Oe?this.currentUrlTree===(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.finalUrl)&&0===Oe&&(this.resetState(x),this.browserUrlTree=x.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Oe)}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(x),this.resetUrlToCurrentUrlTree())}resetState(x){this.routerState=x.currentRouterState,this.currentUrlTree=x.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,x.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(x,j){const K=new Tr(x.id,this.serializeUrl(x.extractedUrl),j);this.triggerEvent(K),x.resolve(!1)}generateNgRouterState(x,j){return"computed"===this.canceledNavigationResolution?{navigationId:x,\u0275routerPageId:j}:{navigationId:x}}}return R.\u0275fac=function(x){_.$Z()},R.\u0275prov=_.Yz7({token:R,factory:R.\u0275fac}),R})();function Ps(R){return"imperative"!==R}let sa=(()=>{class R{constructor(x,j,K){this.router=x,this.route=j,this.locationStrategy=K,this.commands=null,this.href=null,this.onChanges=new Xt.x,this.subscription=x.events.subscribe(ne=>{ne instanceof vr&&this.updateTargetUrlAndHref()})}set routerLink(x){this.commands=null!=x?Array.isArray(x)?x:[x]:null}ngOnChanges(x){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(x,j,K,ne,Oe){if(0!==x||j||K||ne||Oe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ue={skipLocationChange:gi(this.skipLocationChange),replaceUrl:gi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ue),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gi(this.preserveFragment)})}}return R.\u0275fac=function(x){return new(x||R)(_.Y36(Zi),_.Y36(Ht),_.Y36(Xn.S$))},R.\u0275dir=_.lG2({type:R,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(x,j){1&x&&_.NdJ("click",function(ne){return j.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&x&&_.uIk("target",j.target)("href",j.href,_.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_.TTD]}),R})();function gi(R){return""===R||!!R}class Xa{}class sn{preload(A,x){return(0,$e.of)(null)}}let Vr=(()=>{class R{constructor(x,j,K,ne){this.router=x,this.injector=K,this.preloadingStrategy=ne,this.loader=new Gl(K,j,Ot=>x.triggerEvent(new Ln(Ot)),Ot=>x.triggerEvent(new Ur(Ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xe.h)(x=>x instanceof vr),(0,dr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const x=this.injector.get(_.h0i);return this.processRoutes(x,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(x,j){const K=[];for(const ne of j)if(ne.loadChildren&&!ne.canLoad&&ne._loadedConfig){const Oe=ne._loadedConfig;K.push(this.processRoutes(Oe.module,Oe.routes))}else ne.loadChildren&&!ne.canLoad?K.push(this.preloadConfig(x,ne)):ne.children&&K.push(this.processRoutes(x,ne.children));return(0,Se.D)(K).pipe((0,kn.J)(),(0,Pt.U)(ne=>{}))}preloadConfig(x,j){return this.preloadingStrategy.preload(j,()=>(j._loadedConfig?(0,$e.of)(j._loadedConfig):this.loader.load(x.injector,j)).pipe((0,qn.z)(ne=>(j._loadedConfig=ne,this.processRoutes(ne.module,ne.routes)))))}}return R.\u0275fac=function(x){return new(x||R)(_.LFG(Zi),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(Xa))},R.\u0275prov=_.Yz7({token:R,factory:R.\u0275fac}),R})(),Lo=(()=>{class R{constructor(x,j,K={}){this.router=x,this.viewportScroller=j,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(x=>{x instanceof pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=x.navigationTrigger,this.restoredId=x.restoredState?x.restoredState.navigationId:0):x instanceof vr&&(this.lastId=x.id,this.scheduleScrollEvent(x,this.router.parseUrl(x.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(x=>{x instanceof er&&(x.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(x.position):x.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(x.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(x,j){this.router.triggerEvent(new er(x,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return R.\u0275fac=function(x){_.$Z()},R.\u0275prov=_.Yz7({token:R,factory:R.\u0275fac}),R})();const _n=new _.OlP("ROUTER_CONFIGURATION"),M=new _.OlP("ROUTER_FORROOT_GUARD"),k=[Xn.Ye,{provide:si,useClass:hi},{provide:Zi,useFactory:function vs(R,A,x,j,K,ne,Oe={},Ue,Ot){const hn=new Zi(null,R,A,x,j,K,Gr(ne));return Ue&&(hn.urlHandlingStrategy=Ue),Ot&&(hn.routeReuseStrategy=Ot),function oa(R,A){R.errorHandler&&(A.errorHandler=R.errorHandler),R.malformedUriErrorHandler&&(A.malformedUriErrorHandler=R.malformedUriErrorHandler),R.onSameUrlNavigation&&(A.onSameUrlNavigation=R.onSameUrlNavigation),R.paramsInheritanceStrategy&&(A.paramsInheritanceStrategy=R.paramsInheritanceStrategy),R.relativeLinkResolution&&(A.relativeLinkResolution=R.relativeLinkResolution),R.urlUpdateStrategy&&(A.urlUpdateStrategy=R.urlUpdateStrategy),R.canceledNavigationResolution&&(A.canceledNavigationResolution=R.canceledNavigationResolution)}(Oe,hn),Oe.enableTracing&&hn.events.subscribe(Cn=>{var Bn,_r;null===(Bn=console.group)||void 0===Bn||Bn.call(console,`Router Event: ${Cn.constructor.name}`),console.log(Cn.toString()),console.log(Cn),null===(_r=console.groupEnd)||void 0===_r||_r.call(console)}),hn},deps:[si,Ys,Xn.Ye,_.zs3,_.Sil,js,_n,[class Ya{},new _.FiY],[class Go{},new _.FiY]]},Ys,{provide:Ht,useFactory:function La(R){return R.routerState.root},deps:[Zi]},Vr,sn,class Tl{preload(A,x){return x().pipe((0,cn.K)(()=>(0,$e.of)(null)))}},{provide:_n,useValue:{enableTracing:!1}}];function q(){return new _.PXZ("Router",Zi)}let re=(()=>{class R{constructor(x,j){}static forRoot(x,j){return{ngModule:R,providers:[k,Si(x),{provide:M,useFactory:wi,deps:[[Zi,new _.FiY,new _.tp0]]},{provide:_n,useValue:j||{}},{provide:Xn.S$,useFactory:ln,deps:[Xn.lw,[new _.tBr(Xn.mr),new _.FiY],_n]},{provide:Lo,useFactory:Ge,deps:[Zi,Xn.EM,_n]},{provide:Xa,useExisting:j&&j.preloadingStrategy?j.preloadingStrategy:sn},{provide:_.PXZ,multi:!0,useFactory:q},[xl,{provide:_.ip1,multi:!0,useFactory:Ta,deps:[xl]},{provide:Ko,useFactory:Fa,deps:[xl]},{provide:_.tb,multi:!0,useExisting:Ko}]]}}static forChild(x){return{ngModule:R,providers:[Si(x)]}}}return R.\u0275fac=function(x){return new(x||R)(_.LFG(M,8),_.LFG(Zi,8))},R.\u0275mod=_.oAB({type:R}),R.\u0275inj=_.cJS({}),R})();function Ge(R,A,x){return x.scrollOffset&&A.setOffset(x.scrollOffset),new Lo(R,A,x)}function ln(R,A,x={}){return x.useHash?new Xn.Do(R,A):new Xn.b0(R,A)}function wi(R){return"guarded"}function Si(R){return[{provide:_.deG,multi:!0,useValue:R},{provide:js,multi:!0,useValue:R}]}let xl=(()=>{class R{constructor(x){this.injector=x,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xt.x}appInitializer(){return this.injector.get(Xn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let j=null;const K=new Promise(Ue=>j=Ue),ne=this.injector.get(Zi),Oe=this.injector.get(_n);return"disabled"===Oe.initialNavigation?(ne.setUpLocationChangeListener(),j(!0)):"enabled"===Oe.initialNavigation||"enabledBlocking"===Oe.initialNavigation?(ne.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,j(!0),this.resultOfPreactivationDone),ne.initialNavigation()):j(!0),K})}bootstrapListener(x){const j=this.injector.get(_n),K=this.injector.get(Vr),ne=this.injector.get(Lo),Oe=this.injector.get(Zi),Ue=this.injector.get(_.z2F);x===Ue.components[0]&&(("enabledNonBlocking"===j.initialNavigation||void 0===j.initialNavigation)&&Oe.initialNavigation(),K.setUpPreloading(),ne.init(),Oe.resetRootComponentType(Ue.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return R.\u0275fac=function(x){return new(x||R)(_.LFG(_.zs3))},R.\u0275prov=_.Yz7({token:R,factory:R.\u0275fac}),R})();function Ta(R){return R.appInitializer.bind(R)}function Fa(R){return R.bootstrapListener.bind(R)}const Ko=new _.OlP("Router Initializer")},3942:(je,ve,L)=>{"use strict";L.d(ve,{Z:()=>dt});var _=L(2090),Z=L(4859),ie=L(9681),Se=L(1877);class de{constructor(yt,lt){this._delegate=yt,this.firebase=lt,(0,ie._addComponent)(yt,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ie.deleteApp)(this._delegate)))}_getService(yt,lt=ie._DEFAULT_ENTRY_NAME){var Le;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(yt);return!Dt.isInitialized()&&"EXPLICIT"===(null===(Le=Dt.getComponent())||void 0===Le?void 0:Le.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:lt})}_removeServiceInstance(yt,lt=ie._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(lt)}_addComponent(yt){(0,ie._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,ie._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function De(){const ht=function me(ht){const yt={},lt={__esModule:!0,initializeApp:function ct(Ut,ge={}){const Xt=ie.initializeApp(Ut,ge);if((0,_.r3)(yt,Xt.name))return yt[Xt.name];const Xe=new ht(Xt,lt);return yt[Xt.name]=Xe,Xe},app:Dt,registerVersion:ie.registerVersion,setLogLevel:ie.setLogLevel,onLog:ie.onLog,apps:null,SDK_VERSION:ie.SDK_VERSION,INTERNAL:{registerComponent:function bt(Ut){const ge=Ut.name,Xt=ge.replace("-compat","");if(ie._registerComponent(Ut)&&"PUBLIC"===Ut.type){const Xe=(st=Dt())=>{if("function"!=typeof st[Xt])throw Ae.create("invalid-app-argument",{appName:ge});return st[Xt]()};void 0!==Ut.serviceProps&&(0,_.ZB)(Xe,Ut.serviceProps),lt[Xt]=Xe,ht.prototype[Xt]=function(...st){return this._getService.bind(this,ge).apply(this,Ut.multipleInstances?st:[])}}return"PUBLIC"===Ut.type?lt[Xt]:null},removeApp:function Le(Ut){delete yt[Ut]},useAsService:function Rt(Ut,ge){return"serverAuth"===ge?null:ge},modularAPIs:ie}};function Dt(Ut){if(!(0,_.r3)(yt,Ut=Ut||ie._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Ut});return yt[Ut]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function $e(){return Object.keys(yt).map(Ut=>yt[Ut])}}),Dt.App=ht,lt}(de);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function yt(lt){(0,_.ZB)(ht,lt)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),ht}(),he=new Se.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=ce;!function nt(ht){(0,ie.registerVersion)("@firebase/app-compat","0.1.23",ht)}()},9681:(je,ve,L)=>{"use strict";L.r(ve),L.d(ve,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>gn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>dr,_apps:()=>Bt,_clearComponents:()=>kn,_components:()=>jt,_getProvider:()=>qn,_registerComponent:()=>on,_removeServiceInstance:()=>Gt,deleteApp:()=>Br,getApp:()=>br,getApps:()=>zr,initializeApp:()=>Tr,onLog:()=>lr,registerVersion:()=>$n,setLogLevel:()=>Ln});var _=L(5861),Z=L(4859),ie=L(1877),Se=L(2090);class de{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(te=>{if(function Ne(dn){const we=dn.getComponent();return"VERSION"===(null==we?void 0:we.type)}(te)){const _e=te.getImmediate();return`${_e.library}/${_e.version}`}return null}).filter(te=>te).join(" ")}}const Ae="@firebase/app",De=new ie.Yd("@firebase/app"),gn="[DEFAULT]",Mn={[Ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,jt=new Map;function cn(dn,we){try{dn.container.addComponent(we)}catch(te){De.debug(`Component ${we.name} failed to register with FirebaseApp ${dn.name}`,te)}}function dr(dn,we){dn.container.addOrOverwriteComponent(we)}function on(dn){const we=dn.name;if(jt.has(we))return De.debug(`There were multiple attempts to register component ${we}.`),!1;jt.set(we,dn);for(const te of Bt.values())cn(te,dn);return!0}function qn(dn,we){const te=dn.container.getProvider("heartbeat").getImmediate({optional:!0});return te&&te.triggerHeartbeat(),dn.container.getProvider(we)}function Gt(dn,we,te=gn){qn(dn,we).clearInstance(te)}function kn(){jt.clear()}const Un=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class pr{constructor(we,te,_e){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},te),this._name=te.name,this._automaticDataCollectionEnabled=te.automaticDataCollectionEnabled,this._container=_e,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const vr="9.7.0";function Tr(dn,we={}){"object"!=typeof we&&(we={name:we});const te=Object.assign({name:gn,automaticDataCollectionEnabled:!1},we),_e=te.name;if("string"!=typeof _e||!_e)throw Un.create("bad-app-name",{appName:String(_e)});const it=Bt.get(_e);if(it){if((0,Se.vZ)(dn,it.options)&&(0,Se.vZ)(te,it.config))return it;throw Un.create("duplicate-app",{appName:_e})}const St=new Z.H0(_e);for(const Ee of jt.values())St.addComponent(Ee);const Te=new pr(dn,te,St);return Bt.set(_e,Te),Te}function br(dn=gn){const we=Bt.get(dn);if(!we)throw Un.create("no-app",{appName:dn});return we}function zr(){return Array.from(Bt.values())}function Br(dn){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,_.Z)(function*(dn){const we=dn.name;Bt.has(we)&&(Bt.delete(we),yield Promise.all(dn.container.getProviders().map(te=>te.delete())),dn.isDeleted=!0)})).apply(this,arguments)}function $n(dn,we,te){var _e;let it=null!==(_e=Mn[dn])&&void 0!==_e?_e:dn;te&&(it+=`-${te}`);const St=it.match(/\s|\//),Te=we.match(/\s|\//);if(St||Te){const Ee=[`Unable to register library "${it}" with version "${we}":`];return St&&Ee.push(`library name "${it}" contains illegal characters (whitespace or "/")`),St&&Te&&Ee.push("and"),Te&&Ee.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void De.warn(Ee.join(" "))}on(new Z.wA(`${it}-version`,()=>({library:it,version:we}),"VERSION"))}function lr(dn,we){if(null!==dn&&"function"!=typeof dn)throw Un.create("invalid-log-argument");(0,ie.Am)(dn,we)}function Ln(dn){(0,ie.Ub)(dn)}const Mr="firebase-heartbeat-store";let rn=null;function xr(){return rn||(rn=(0,Se.X3)("firebase-heartbeat-database",1,(dn,we)=>{0===we&&dn.createObjectStore(Mr)}).catch(dn=>{throw Un.create("storage-open",{originalErrorMessage:dn.message})})),rn}function qt(){return(qt=(0,_.Z)(function*(dn){try{return(yield xr()).transaction(Mr).objectStore(Mr).get(Or(dn))}catch(we){throw Un.create("storage-get",{originalErrorMessage:we.message})}})).apply(this,arguments)}function tn(dn,we){return an.apply(this,arguments)}function an(){return(an=(0,_.Z)(function*(dn,we){try{const _e=(yield xr()).transaction(Mr,"readwrite");return yield _e.objectStore(Mr).put(we,Or(dn)),_e.complete}catch(te){throw Un.create("storage-set",{originalErrorMessage:te.message})}})).apply(this,arguments)}function Or(dn){return`${dn.name}!${dn.options.appId}`}class Wr{constructor(we){this.container=we,this._heartbeatsCache=null;const te=this.container.getProvider("app").getImmediate();this._storage=new Tn(te),this._heartbeatsCachePromise=this._storage.read().then(_e=>(this._heartbeatsCache=_e,_e))}triggerHeartbeat(){var we=this;return(0,_.Z)(function*(){const _e=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=Qr();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==it&&!we._heartbeatsCache.heartbeats.some(St=>St.date===it))return we._heartbeatsCache.heartbeats.push({date:it,agent:_e}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(St=>{const Te=new Date(St.date).valueOf();return Date.now()-Te<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,_.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const te=Qr(),{heartbeatsToSend:_e,unsentEntries:it}=function kr(dn,we=1024){const te=[];let _e=dn.slice();for(const it of dn){const St=te.find(Te=>Te.agent===it.agent);if(St){if(St.dates.push(it.date),Gr(te)>we){St.dates.pop();break}}else if(te.push({agent:it.agent,dates:[it.date]}),Gr(te)>we){te.pop();break}_e=_e.slice(1)}return{heartbeatsToSend:te,unsentEntries:_e}}(we._heartbeatsCache.heartbeats),St=(0,Se.L)(JSON.stringify({version:2,heartbeats:_e}));return we._heartbeatsCache.lastSentHeartbeatDate=te,it.length>0?(we._heartbeatsCache.heartbeats=it,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),St})()}}function Qr(){return(new Date).toISOString().substring(0,10)}class Tn{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,_.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function er(dn){return qt.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var te=this;return(0,_.Z)(function*(){var _e;if(yield te._canUseIndexedDBPromise){const St=yield te.read();return tn(te.app,{lastSentHeartbeatDate:null!==(_e=we.lastSentHeartbeatDate)&&void 0!==_e?_e:St.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var te=this;return(0,_.Z)(function*(){var _e;if(yield te._canUseIndexedDBPromise){const St=yield te.read();return tn(te.app,{lastSentHeartbeatDate:null!==(_e=we.lastSentHeartbeatDate)&&void 0!==_e?_e:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...we.heartbeats]})}})()}}function Gr(dn){return(0,Se.L)(JSON.stringify({version:2,heartbeats:dn})).length}!function Jn(dn){on(new Z.wA("platform-logger",we=>new de(we),"PRIVATE")),on(new Z.wA("heartbeat",we=>new Wr(we),"PRIVATE")),$n(Ae,"0.7.22",dn),$n(Ae,"0.7.22","esm2017"),$n("fire-js","")}("")},4859:(je,ve,L)=>{"use strict";L.d(ve,{H0:()=>me,wA:()=>ie});var _=L(5861),Z=L(2090);class ie{constructor(ce,he,be){this.name=ce,this.instanceFactory=he,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const Se="[DEFAULT]";class de{constructor(ce,he){this.name=ce,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const he=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(he)){const be=new Z.BH;if(this.instancesDeferred.set(he,be),this.isInitialized(he)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:he});Ye&&be.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(he).promise}getImmediate(ce){var he;const be=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),Ye=null!==(he=null==ce?void 0:ce.optional)&&void 0!==he&&he;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(nt){if(Ye)return null;throw nt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Ae(De){return"EAGER"===De.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(he){}for(const[he,be]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(he);try{const nt=this.getOrInitializeService({instanceIdentifier:Ye});be.resolve(nt)}catch(nt){}}}}clearInstance(ce=Se){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,_.Z)(function*(){const he=Array.from(ce.instances.values());yield Promise.all([...he.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...he.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=Se){return this.instances.has(ce)}getOptions(ce=Se){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:he={}}=ce,be=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:be,options:he});for(const[nt,dt]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(nt)&&dt.resolve(Ye);return Ye}onInit(ce,he){var be;const Ye=this.normalizeInstanceIdentifier(he),nt=null!==(be=this.onInitCallbacks.get(Ye))&&void 0!==be?be:new Set;nt.add(ce),this.onInitCallbacks.set(Ye,nt);const dt=this.instances.get(Ye);return dt&&ce(dt,Ye),()=>{nt.delete(ce)}}invokeOnInitCallbacks(ce,he){const be=this.onInitCallbacks.get(he);if(be)for(const Ye of be)try{Ye(ce,he)}catch(nt){}}getOrInitializeService({instanceIdentifier:ce,options:he={}}){let be=this.instances.get(ce);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(De=ce,De===Se?void 0:De),options:he}),this.instances.set(ce,be),this.instancesOptions.set(ce,he),this.invokeOnInitCallbacks(be,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,be)}catch(Ye){}var De;return be||null}normalizeInstanceIdentifier(ce=Se){return this.component?this.component.multipleInstances?ce:Se:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const he=this.getProvider(ce.name);if(he.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);he.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const he=new de(ce,this);return this.providers.set(ce,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(je,ve,L)=>{"use strict";L.d(ve,{Am:()=>De,Ub:()=>me,Yd:()=>Ae,in:()=>Z});const _=[];var Z=(()=>{return(ce=Z||(Z={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",Z;var ce})();const ie={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},Se=Z.INFO,de={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Ne=(ce,he,...be)=>{if(he<ce.logLevel)return;const Ye=(new Date).toISOString(),nt=de[he];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[nt](`[${Ye}]  ${ce.name}:`,...be)};class Ae{constructor(he){this.name=he,this._logLevel=Se,this._logHandler=Ne,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in Z))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?ie[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...he),this._logHandler(this,Z.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...he),this._logHandler(this,Z.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...he),this._logHandler(this,Z.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...he),this._logHandler(this,Z.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...he),this._logHandler(this,Z.ERROR,...he)}}function me(ce){_.forEach(he=>{he.setLogLevel(ce)})}function De(ce,he){for(const be of _){let Ye=null;he&&he.level&&(Ye=ie[he.level]),be.userLogHandler=null===ce?null:(nt,dt,...ht)=>{const yt=ht.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch(Le){return null}}).filter(lt=>lt).join(" ");dt>=(null!=Ye?Ye:nt.logLevel)&&ce({level:Z[dt].toLowerCase(),message:yt,args:ht,type:nt.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1749),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(je){const ve={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},L="function"==typeof je?je():je,ie=Object.assign({},ve,{features:L.features||!!L.logOnly&&{pause:!0,export:!0,test:!0}||ve.features},L);if(ie.maxAge&&ie.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${ie.maxAge}`);return ie}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ve,L){if(this.action=ve,this.timestamp=L,this.type=PERFORM_ACTION,void 0===ve.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ve){this.timestamp=ve,this.type=RESET}}class Rollback{constructor(ve){this.timestamp=ve,this.type=ROLLBACK}}class Commit{constructor(ve){this.timestamp=ve,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ve){this.id=ve,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ve,L,_=!0){this.start=ve,this.end=L,this.active=_,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ve){this.index=ve,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ve){this.actionId=ve,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ve){this.nextLiftedState=ve,this.type=IMPORT_STATE}}class LockChanges{constructor(ve){this.status=ve,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ve){this.status=ve,this.type=PAUSE_RECORDING}}function difference(je,ve){return je.filter(L=>ve.indexOf(L)<0)}function unliftState(je){const{computedStates:ve,currentStateIndex:L}=je;if(L>=ve.length){const{state:Z}=ve[ve.length-1];return Z}const{state:_}=ve[L];return _}function unliftAction(je){return je.actionsById[je.nextActionId-1]}function liftAction(je){return new PerformAction(je,+Date.now())}function sanitizeActions(je,ve){return Object.keys(ve).reduce((L,_)=>{const Z=Number(_);return L[Z]=sanitizeAction(je,ve[Z],Z),L},{})}function sanitizeAction(je,ve,L){return Object.assign(Object.assign({},ve),{action:je(ve.action,L)})}function sanitizeStates(je,ve){return ve.map((L,_)=>({state:sanitizeState(je,L.state,_),error:L.error}))}function sanitizeState(je,ve,L){return je(ve,L)}function shouldFilterActions(je){return je.predicate||je.actionsSafelist||je.actionsBlocklist}function filterLiftedState(je,ve,L,_){const Z=[],ie={},Se=[];return je.stagedActionIds.forEach((de,Ne)=>{const Ae=je.actionsById[de];!Ae||Ne&&isActionFiltered(je.computedStates[Ne],Ae,ve,L,_)||(ie[de]=Ae,Z.push(de),Se.push(je.computedStates[Ne]))}),Object.assign(Object.assign({},je),{stagedActionIds:Z,actionsById:ie,computedStates:Se})}function isActionFiltered(je,ve,L,_,Z){const ie=L&&!L(je,ve.action),Se=_&&!ve.action.type.match(_.map(Ne=>escapeRegExp(Ne)).join("|")),de=Z&&ve.action.type.match(Z.map(Ne=>escapeRegExp(Ne)).join("|"));return ie||Se||de}function escapeRegExp(je){return je.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(je,ve,L,_,Z){if(_)return{state:L,error:"Interrupted by an error up the chain"};let Se,ie=L;try{ie=je(L,ve)}catch(de){Se=de.toString(),Z.handleError(de)}return{state:ie,error:Se}}function recomputeStates(je,ve,L,_,Z,ie,Se,de,Ne){if(ve>=je.length&&je.length===ie.length)return je;const Ae=je.slice(0,ve),me=ie.length-(Ne?1:0);for(let De=ve;De<me;De++){const ce=ie[De],he=Z[ce].action,be=Ae[De-1],Ye=be?be.state:_,nt=be?be.error:void 0,ht=Se.indexOf(ce)>-1?be:computeNextEntry(L,he,Ye,nt,de);Ae.push(ht)}return Ne&&Ae.push(je[je.length-1]),Ae}function liftInitialState(je,ve){return{monitorState:ve(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:je,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(je,ve,L,_,Z={}){return ie=>(Se,de)=>{let{monitorState:Ne,actionsById:Ae,nextActionId:me,stagedActionIds:De,skippedActionIds:ce,committedState:he,currentStateIndex:be,computedStates:Ye,isLocked:nt,isPaused:dt}=Se||ve;function ht(Le){let Dt=Le,ct=De.slice(1,Dt+1);for(let $e=0;$e<ct.length;$e++){if(Ye[$e+1].error){Dt=$e,ct=De.slice(1,Dt+1);break}delete Ae[ct[$e]]}ce=ce.filter($e=>-1===ct.indexOf($e)),De=[0,...De.slice(Dt+1)],he=Ye[Dt].state,Ye=Ye.slice(Dt),be=be>Dt?be-Dt:0}function yt(){Ae={0:liftAction(INIT_ACTION)},me=1,De=[0],ce=[],he=Ye[be].state,be=0,Ye=[]}Se||(Ae=Object.create(Ae));let lt=0;switch(de.type){case LOCK_CHANGES:nt=de.status,lt=1/0;break;case PAUSE_RECORDING:dt=de.status,dt?(De=[...De,me],Ae[me]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),me++,lt=De.length-1,Ye=Ye.concat(Ye[Ye.length-1]),be===De.length-2&&be++,lt=1/0):yt();break;case RESET:Ae={0:liftAction(INIT_ACTION)},me=1,De=[0],ce=[],he=je,be=0,Ye=[];break;case COMMIT:yt();break;case ROLLBACK:Ae={0:liftAction(INIT_ACTION)},me=1,De=[0],ce=[],be=0,Ye=[];break;case TOGGLE_ACTION:{const{id:Le}=de;ce=-1===ce.indexOf(Le)?[Le,...ce]:ce.filter(ct=>ct!==Le),lt=De.indexOf(Le);break}case SET_ACTIONS_ACTIVE:{const{start:Le,end:Dt,active:ct}=de,$e=[];for(let bt=Le;bt<Dt;bt++)$e.push(bt);ce=ct?difference(ce,$e):[...ce,...$e],lt=De.indexOf(Le);break}case JUMP_TO_STATE:be=de.index,lt=1/0;break;case JUMP_TO_ACTION:{const Le=De.indexOf(de.actionId);-1!==Le&&(be=Le),lt=1/0;break}case SWEEP:De=difference(De,ce),ce=[],be=Math.min(be,De.length-1);break;case PERFORM_ACTION:{if(nt)return Se||ve;if(dt||Se&&isActionFiltered(Se.computedStates[be],de,Z.predicate,Z.actionsSafelist,Z.actionsBlocklist)){const Dt=Ye[Ye.length-1];Ye=[...Ye.slice(0,-1),computeNextEntry(ie,de.action,Dt.state,Dt.error,L)],lt=1/0;break}Z.maxAge&&De.length===Z.maxAge&&ht(1),be===De.length-1&&be++;const Le=me++;Ae[Le]=de,De=[...De,Le],lt=De.length-1;break}case IMPORT_STATE:({monitorState:Ne,actionsById:Ae,nextActionId:me,stagedActionIds:De,skippedActionIds:ce,committedState:he,currentStateIndex:be,computedStates:Ye,isLocked:nt,isPaused:dt}=de.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:lt=0,Z.maxAge&&De.length>Z.maxAge&&(Ye=recomputeStates(Ye,lt,ie,he,Ae,De,ce,L,dt),ht(De.length-Z.maxAge),lt=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ye.filter(Dt=>Dt.error).length>0)lt=0,Z.maxAge&&De.length>Z.maxAge&&(Ye=recomputeStates(Ye,lt,ie,he,Ae,De,ce,L,dt),ht(De.length-Z.maxAge),lt=1/0);else{if(!dt&&!nt){be===De.length-1&&be++;const Dt=me++;Ae[Dt]=new PerformAction(de,+Date.now()),De=[...De,Dt],lt=De.length-1,Ye=recomputeStates(Ye,lt,ie,he,Ae,De,ce,L,dt)}Ye=Ye.map(Dt=>Object.assign(Object.assign({},Dt),{state:ie(Dt.state,RECOMPUTE_ACTION)})),be=De.length-1,Z.maxAge&&De.length>Z.maxAge&&ht(De.length-Z.maxAge),lt=1/0}break;default:lt=1/0}return Ye=recomputeStates(Ye,lt,ie,he,Ae,De,ce,L,dt),Ne=_(Ne,de),{monitorState:Ne,actionsById:Ae,nextActionId:me,stagedActionIds:De,skippedActionIds:ce,committedState:he,currentStateIndex:be,computedStates:Ye,isLocked:nt,isPaused:dt}}}let DevtoolsDispatcher=(()=>{class je extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return je.\u0275fac=function(){let ve;return function(_){return(ve||(ve=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(je)))(_||je)}}(),je.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:je,factory:je.\u0275fac}),je})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(je,ve,L){this.config=ve,this.dispatcher=L,this.devtoolsExtension=je,this.createActionStreams()}notify(je,ve){if(this.devtoolsExtension)if(je.type===PERFORM_ACTION){if(ve.isLocked||ve.isPaused)return;const L=unliftState(ve);if(shouldFilterActions(this.config)&&isActionFiltered(L,je,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const _=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,L,ve.currentStateIndex):L,Z=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,je,ve.nextActionId):je;this.sendToReduxDevtools(()=>this.extensionConnection.send(Z,_))}else{const L=Object.assign(Object.assign({},ve),{stagedActionIds:ve.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ve.actionsById):ve.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ve.computedStates):ve.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,L,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(je=>{const ve=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ve,ve.init(),ve.subscribe(L=>je.next(L)),ve.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const je=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ve=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===ExtensionActionTypes.START)),L=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===ExtensionActionTypes.STOP)),_=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(de=>this.unwrapAction(de.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(de=>de.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Ne=>Ne.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>de),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(de)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(de))),ie=je.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(de=>de.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(de=>this.unwrapAction(de.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L)),Se=_.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L));this.start$=ve.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(L)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ie)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Se))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(je){var ve;const L={name:je.name,features:je.features,serialize:je.serialize,autoPause:null!==(ve=je.autoPause)&&void 0!==ve&&ve};return!1!==je.maxAge&&(L.maxAge=je.maxAge),L}sendToReduxDevtools(je){try{je()}catch(ve){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ve)}}}return DevtoolsExtension.\u0275fac=function je(ve){return new(ve||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class je{constructor(L,_,Z,ie,Se,de,Ne,Ae){const me=liftInitialState(Ne,Ae.monitor),De=liftReducerWith(Ne,me,de,Ae.monitor,Ae),ce=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(_.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),ie.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),L,ie.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),he=Z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(De)),be=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ye=ce.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(he),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:yt},[lt,Le])=>{let Dt=Le(yt,lt);return lt.type!==PERFORM_ACTION&&shouldFilterActions(Ae)&&(Dt=filterLiftedState(Dt,Ae.predicate,Ae.actionsSafelist,Ae.actionsBlocklist)),ie.notify(lt,Dt),{state:Dt,action:lt}},{state:me,action:null})).subscribe(({state:yt,action:lt})=>{be.next(yt),lt.type===PERFORM_ACTION&&Se.next(lt.action)}),nt=ie.start$.subscribe(()=>{this.refresh()}),dt=be.asObservable(),ht=dt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=nt,this.stateSubscription=Ye,this.dispatcher=L,this.liftedState=dt,this.state=ht}dispatch(L){this.dispatcher.next(L)}next(L){this.dispatcher.next(L)}error(L){}complete(){}performAction(L){this.dispatch(new PerformAction(L,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(L){this.dispatch(new ToggleAction(L))}jumpToAction(L){this.dispatch(new JumpToAction(L))}jumpToState(L){this.dispatch(new JumpToState(L))}importState(L){this.dispatch(new ImportState(L))}lockChanges(L){this.dispatch(new LockChanges(L))}pauseRecording(L){this.dispatch(new PauseRecording(L))}}return je.\u0275fac=function(L){return new(L||je)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},je.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:je,factory:je.\u0275fac}),je})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(je,ve){return Boolean(je)||ve.monitor!==noMonitor}function createReduxDevtoolsExtension(){const je="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[je]?window[je]:null}function createStateObservable(je){return je.state}let StoreDevtoolsModule=(()=>{class je{static instrument(L={}){return{ngModule:je,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:L},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return je.\u0275fac=function(L){return new(L||je)},je.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:je}),je.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),je})()},5620:(je,ve,L)=>{"use strict";L.d(ve,{UO:()=>Rt,qg:()=>bt,Y6:()=>Xe,mK:()=>Ft,n$:()=>Br,Y$:()=>Ur,FR:()=>Mr,yh:()=>qt,Aw:()=>Nr,wb:()=>$n,PH:()=>nt,Lq:()=>Sn,on:()=>Zr,Ky:()=>dt});var _=L(5e3),Z=L(1135),ie=L(8306),Se=L(7579),de=L(233),Ne=L(4004),me=L(5363),De=L(1365),ce=L(5026),he=L(1884);const be={};function nt(Ce,vt){if(be[Ce]=(be[Ce]||0)+1,"function"==typeof vt)return yt(Ce,(..._t)=>Object.assign(Object.assign({},vt(..._t)),{type:Ce}));switch(vt?vt._as:"empty"){case"empty":return yt(Ce,()=>({type:Ce}));case"props":return yt(Ce,_t=>Object.assign(Object.assign({},_t),{type:Ce}));default:throw new Error("Unexpected config.")}}function dt(){return{_as:"props",_p:void 0}}function yt(Ce,vt){return Object.defineProperty(vt,"type",{value:Ce,writable:!1})}const bt="@ngrx/store/init";let Rt=(()=>{class Ce extends Z.X{constructor(){super({type:bt})}next(qe){if("function"==typeof qe)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===qe)throw new TypeError("Actions must be objects");if(void 0===qe.type)throw new TypeError("Actions must have a type property");super.next(qe)}complete(){}ngOnDestroy(){super.complete()}}return Ce.\u0275fac=function(qe){return new(qe||Ce)},Ce.\u0275prov=_.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const Ut=[Rt],ge=new _.OlP("@ngrx/store Internal Root Guard"),Xt=new _.OlP("@ngrx/store Internal Initial State"),Xe=new _.OlP("@ngrx/store Initial State"),st=new _.OlP("@ngrx/store Reducer Factory"),et=new _.OlP("@ngrx/store Internal Reducer Factory Provider"),ut=new _.OlP("@ngrx/store Initial Reducers"),ot=new _.OlP("@ngrx/store Internal Initial Reducers"),Mt=new _.OlP("@ngrx/store Store Features"),Pt=new _.OlP("@ngrx/store Internal Store Reducers"),gn=new _.OlP("@ngrx/store Internal Feature Reducers"),Mn=new _.OlP("@ngrx/store Internal Feature Configs"),Bt=new _.OlP("@ngrx/store Internal Store Features"),jt=new _.OlP("@ngrx/store Internal Feature Reducers Token"),cn=new _.OlP("@ngrx/store Feature Reducers"),dr=new _.OlP("@ngrx/store User Provided Meta Reducers"),on=new _.OlP("@ngrx/store Meta Reducers"),qn=new _.OlP("@ngrx/store Internal Resolved Meta Reducers"),Gt=new _.OlP("@ngrx/store User Runtime Checks Config"),kn=new _.OlP("@ngrx/store Internal User Runtime Checks Config"),Xn=new _.OlP("@ngrx/store Internal Runtime Checks"),Un=new _.OlP("@ngrx/store Check if Action types are unique");function pr(Ce,vt={}){const qe=Object.keys(Ce),_t={};for(let $t=0;$t<qe.length;$t++){const Hn=qe[$t];"function"==typeof Ce[Hn]&&(_t[Hn]=Ce[Hn])}const Ht=Object.keys(_t);return function(Hn,Pe){Hn=void 0===Hn?vt:Hn;let xe=!1;const ye={};for(let ze=0;ze<Ht.length;ze++){const It=Ht[ze],nr=Hn[It],ar=(0,_t[It])(nr,Pe);ye[It]=ar,xe=xe||ar!==nr}return xe?ye:Hn}}function Tr(...Ce){return function(vt){if(0===Ce.length)return vt;const qe=Ce[Ce.length-1];return Ce.slice(0,-1).reduceRight((Ht,$t)=>$t(Ht),qe(vt))}}function br(Ce,vt){return Array.isArray(vt)&&vt.length>0&&(Ce=Tr.apply(null,[...vt,Ce])),(qe,_t)=>{const Ht=Ce(qe);return($t,Hn)=>Ht($t=void 0===$t?_t:$t,Hn)}}class Br extends ie.y{}class Ft extends Rt{}const $n="@ngrx/store/update-reducers";let lr=(()=>{class Ce extends Z.X{constructor(qe,_t,Ht,$t){super($t(Ht,_t)),this.dispatcher=qe,this.initialState=_t,this.reducers=Ht,this.reducerFactory=$t}get currentReducers(){return this.reducers}addFeature(qe){this.addFeatures([qe])}addFeatures(qe){const _t=qe.reduce((Ht,{reducers:$t,reducerFactory:Hn,metaReducers:Pe,initialState:xe,key:ye})=>{const ze="function"==typeof $t?function zr(Ce){const vt=Array.isArray(Ce)&&Ce.length>0?Tr(...Ce):qe=>qe;return(qe,_t)=>(qe=vt(qe),(Ht,$t)=>qe(Ht=void 0===Ht?_t:Ht,$t))}(Pe)($t,xe):br(Hn,Pe)($t,xe);return Ht[ye]=ze,Ht},{});this.addReducers(_t)}removeFeature(qe){this.removeFeatures([qe])}removeFeatures(qe){this.removeReducers(qe.map(_t=>_t.key))}addReducer(qe,_t){this.addReducers({[qe]:_t})}addReducers(qe){this.reducers=Object.assign(Object.assign({},this.reducers),qe),this.updateReducers(Object.keys(qe))}removeReducer(qe){this.removeReducers([qe])}removeReducers(qe){qe.forEach(_t=>{this.reducers=function vr(Ce,vt){return Object.keys(Ce).filter(qe=>qe!==vt).reduce((qe,_t)=>Object.assign(qe,{[_t]:Ce[_t]}),{})}(this.reducers,_t)}),this.updateReducers(qe)}updateReducers(qe){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:$n,features:qe})}ngOnDestroy(){this.complete()}}return Ce.\u0275fac=function(qe){return new(qe||Ce)(_.LFG(Ft),_.LFG(Xe),_.LFG(ut),_.LFG(st))},Ce.\u0275prov=_.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const Ln=[lr,{provide:Br,useExisting:lr},{provide:Ft,useExisting:Rt}];let Ur=(()=>{class Ce extends Se.x{ngOnDestroy(){this.complete()}}return Ce.\u0275fac=function(){let vt;return function(_t){return(vt||(vt=_.n5z(Ce)))(_t||Ce)}}(),Ce.\u0275prov=_.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const Li=[Ur];class Mr extends ie.y{}let rn=(()=>{class Ce extends Z.X{constructor(qe,_t,Ht,$t){super($t);const ye=qe.pipe((0,me.Q)(de.N)).pipe((0,De.M)(_t)).pipe((0,ce.R)(xr,{state:$t}));this.stateSubscription=ye.subscribe(({state:ze,action:It})=>{this.next(ze),Ht.next(It)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Ce.INIT=bt,Ce.\u0275fac=function(qe){return new(qe||Ce)(_.LFG(Rt),_.LFG(Br),_.LFG(Ur),_.LFG(Xe))},Ce.\u0275prov=_.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();function xr(Ce={state:void 0},[vt,qe]){const{state:_t}=Ce;return{state:qe(_t,vt),action:vt}}const er=[rn,{provide:Mr,useExisting:rn}];let qt=(()=>{class Ce extends ie.y{constructor(qe,_t,Ht){super(),this.actionsObserver=_t,this.reducerManager=Ht,this.source=qe}select(qe,..._t){return an.call(null,qe,..._t)(this)}lift(qe){const _t=new Ce(this,this.actionsObserver,this.reducerManager);return _t.operator=qe,_t}dispatch(qe){this.actionsObserver.next(qe)}next(qe){this.actionsObserver.next(qe)}error(qe){this.actionsObserver.error(qe)}complete(){this.actionsObserver.complete()}addReducer(qe,_t){this.reducerManager.addReducer(qe,_t)}removeReducer(qe){this.reducerManager.removeReducer(qe)}}return Ce.\u0275fac=function(qe){return new(qe||Ce)(_.LFG(Mr),_.LFG(Rt),_.LFG(lr))},Ce.\u0275prov=_.Yz7({token:Ce,factory:Ce.\u0275fac}),Ce})();const tn=[qt];function an(Ce,vt,...qe){return function(Ht){let $t;if("string"==typeof Ce){const Hn=[vt,...qe].filter(Boolean);$t=Ht.pipe(function Ae(...Ce){const vt=Ce.length;if(0===vt)throw new Error("list of properties cannot be empty.");return(0,Ne.U)(qe=>{let _t=qe;for(let Ht=0;Ht<vt;Ht++){const $t=null==_t?void 0:_t[Ce[Ht]];if(void 0===$t)return;_t=$t}return _t})}(Ce,...Hn))}else{if("function"!=typeof Ce)throw new TypeError(`Unexpected type '${typeof Ce}' in select operator, expected 'string' or 'function'`);$t=Ht.pipe((0,Ne.U)(Hn=>Ce(Hn,vt)))}return $t.pipe((0,he.x)())}}const Or="https://ngrx.io/guide/store/configuration/runtime-checks";function jr(Ce){return void 0===Ce}function Pn(Ce){return null===Ce}function Wr(Ce){return Array.isArray(Ce)}function Gr(Ce){return"object"==typeof Ce&&null!==Ce}function we(Ce){return"function"==typeof Ce}function si(Ce){Object.freeze(Ce);const vt=we(Ce);return Object.getOwnPropertyNames(Ce).forEach(qe=>{if(!qe.startsWith("\u0275")&&function _e(Ce,vt){return Object.prototype.hasOwnProperty.call(Ce,vt)}(Ce,qe)&&(!vt||"caller"!==qe&&"callee"!==qe&&"arguments"!==qe)){const _t=Ce[qe];(Gr(_t)||we(_t))&&!Object.isFrozen(_t)&&si(_t)}}),Ce}function Ti(Ce,vt=[]){return(jr(Ce)||Pn(Ce))&&0===vt.length?{path:["root"],value:Ce}:Object.keys(Ce).reduce((_t,Ht)=>{if(_t)return _t;const $t=Ce[Ht];return function te(Ce){return we(Ce)&&Ce.hasOwnProperty("\u0275cmp")}($t)?_t:!(jr($t)||Pn($t)||function Tn(Ce){return"number"==typeof Ce}($t)||function kr(Ce){return"boolean"==typeof Ce}($t)||function Qr(Ce){return"string"==typeof Ce}($t)||Wr($t))&&(function dn(Ce){if(!function Jn(Ce){return Gr(Ce)&&!Wr(Ce)}(Ce))return!1;const vt=Object.getPrototypeOf(Ce);return vt===Object.prototype||null===vt}($t)?Ti($t,[...vt,Ht]):{path:[...vt,Ht],value:$t})},!1)}function ai(Ce,vt){if(!1===Ce)return;const qe=Ce.path.join("."),_t=new Error(`Detected unserializable ${vt} at "${qe}". ${Or}#strict${vt}serializability`);throw _t.value=Ce.value,_t.unserializablePath=qe,_t}function Fr(Ce){return(0,_.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Ce):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Pi({strictActionSerializability:Ce,strictStateSerializability:vt}){return qe=>Ce||vt?function hi(Ce,vt){return function(qe,_t){vt.action(_t)&&ai(Ti(_t),"action");const Ht=Ce(qe,_t);return vt.state()&&ai(Ti(Ht),"state"),Ht}}(qe,{action:_t=>Ce&&!Vt(_t),state:()=>vt}):qe}function Nn({strictActionImmutability:Ce,strictStateImmutability:vt}){return qe=>Ce||vt?function cr(Ce,vt){return function(qe,_t){const Ht=vt.action(_t)?si(_t):_t,$t=Ce(qe,Ht);return vt.state()?si($t):$t}}(qe,{action:_t=>Ce&&!Vt(_t),state:()=>vt}):qe}function Vt(Ce){return Ce.type.startsWith("@ngrx")}function jn({strictActionWithinNgZone:Ce}){return vt=>Ce?function ni(Ce,vt){return function(qe,_t){if(vt.action(_t)&&!_.R0b.isInAngularZone())throw new Error(`Action '${_t.type}' running outside NgZone. ${Or}#strictactionwithinngzone`);return Ce(qe,_t)}}(vt,{action:qe=>Ce&&!Vt(qe)}):vt}function hr(Ce){return[{provide:kn,useValue:Ce},{provide:Gt,useFactory:Fi,deps:[kn]},{provide:Xn,deps:[Gt],useFactory:Fr},{provide:on,multi:!0,deps:[Xn],useFactory:Nn},{provide:on,multi:!0,deps:[Xn],useFactory:Pi},{provide:on,multi:!0,deps:[Xn],useFactory:jn}]}function Kr(){return[{provide:Un,multi:!0,deps:[Xn],useFactory:Hr}]}function Fi(Ce){return Ce}function Hr(Ce){if(!Ce.strictActionTypeUniqueness)return;const vt=Object.entries(be).filter(([,qe])=>qe>1).map(([qe])=>qe);if(vt.length)throw new Error(`Action types are registered more than once, ${vt.map(qe=>`"${qe}"`).join(", ")}. ${Or}#strictactiontypeuniqueness`)}let fi=(()=>{class Ce{constructor(qe,_t,Ht,$t,Hn,Pe){}}return Ce.\u0275fac=function(qe){return new(qe||Ce)(_.LFG(Rt),_.LFG(Br),_.LFG(Ur),_.LFG(qt),_.LFG(ge,8),_.LFG(Un,8))},Ce.\u0275mod=_.oAB({type:Ce}),Ce.\u0275inj=_.cJS({}),Ce})(),fr=(()=>{class Ce{constructor(qe,_t,Ht,$t,Hn){this.features=qe,this.featureReducers=_t,this.reducerManager=Ht;const Pe=qe.map((xe,ye)=>{const It=_t.shift()[ye];return Object.assign(Object.assign({},xe),{reducers:It,initialState:Vi(xe.initialState)})});Ht.addFeatures(Pe)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Ce.\u0275fac=function(qe){return new(qe||Ce)(_.LFG(Bt),_.LFG(cn),_.LFG(lr),_.LFG(fi),_.LFG(Un,8))},Ce.\u0275mod=_.oAB({type:Ce}),Ce.\u0275inj=_.cJS({}),Ce})(),Nr=(()=>{class Ce{static forRoot(qe,_t={}){return{ngModule:fi,providers:[{provide:ge,useFactory:bi,deps:[[qt,new _.FiY,new _.tp0]]},{provide:Xt,useValue:_t.initialState},{provide:Xe,useFactory:Vi,deps:[Xt]},{provide:ot,useValue:qe},{provide:Pt,useExisting:qe instanceof _.OlP?qe:ot},{provide:ut,deps:[_.zs3,ot,[new _.tBr(Pt)]],useFactory:qr},{provide:dr,useValue:_t.metaReducers?_t.metaReducers:[]},{provide:qn,deps:[on,dr],useFactory:vi},{provide:et,useValue:_t.reducerFactory?_t.reducerFactory:pr},{provide:st,deps:[et,qn],useFactory:br},Ut,Ln,Li,er,tn,hr(_t.runtimeChecks),Kr()]}}static forFeature(qe,_t,Ht={}){return{ngModule:fr,providers:[{provide:Mn,multi:!0,useValue:qe instanceof Object?{}:Ht},{provide:Mt,multi:!0,useValue:{key:qe instanceof Object?qe.name:qe,reducerFactory:Ht instanceof _.OlP||!Ht.reducerFactory?pr:Ht.reducerFactory,metaReducers:Ht instanceof _.OlP||!Ht.metaReducers?[]:Ht.metaReducers,initialState:Ht instanceof _.OlP||!Ht.initialState?void 0:Ht.initialState}},{provide:Bt,deps:[_.zs3,Mn,Mt],useFactory:Zn},{provide:gn,multi:!0,useValue:qe instanceof Object?qe.reducer:_t},{provide:jt,multi:!0,useExisting:_t instanceof _.OlP?_t:gn},{provide:cn,multi:!0,deps:[_.zs3,gn,[new _.tBr(jt)]],useFactory:Xr},Kr()]}}}return Ce.\u0275fac=function(qe){return new(qe||Ce)},Ce.\u0275mod=_.oAB({type:Ce}),Ce.\u0275inj=_.cJS({}),Ce})();function qr(Ce,vt){return vt instanceof _.OlP?Ce.get(vt):vt}function Zn(Ce,vt,qe){return qe.map((_t,Ht)=>{if(vt[Ht]instanceof _.OlP){const $t=Ce.get(vt[Ht]);return{key:_t.key,reducerFactory:$t.reducerFactory?$t.reducerFactory:pr,metaReducers:$t.metaReducers?$t.metaReducers:[],initialState:$t.initialState}}return _t})}function Xr(Ce,vt){return vt.map(_t=>_t instanceof _.OlP?Ce.get(_t):_t)}function Vi(Ce){return"function"==typeof Ce?Ce():Ce}function vi(Ce,vt){return Ce.concat(vt)}function bi(Ce){if(Ce)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Zr(...Ce){return{reducer:Ce.pop(),types:Ce.map(_t=>_t.type)}}function Sn(Ce,...vt){const qe=new Map;for(const _t of vt)for(const Ht of _t.types){const $t=qe.get(Ht);qe.set(Ht,$t?(Pe,xe)=>_t.reducer($t(Pe,xe),xe):_t.reducer)}return function(_t=Ce,Ht){const $t=qe.get(Ht.type);return $t?$t(_t,Ht):_t}}},483:(je,ve,L)=>{"use strict";L.d(ve,{jh:()=>Nm,vQ:()=>Qg});var _=L(5e3);const ie="undefined"==typeof window?function(l){return l()}:window.requestAnimationFrame;function Se(l,a,s){const u=s||(y=>Array.prototype.slice.call(y));let h=!1,g=[];return function(...y){g=u(y),h||(h=!0,ie.call(window,()=>{h=!1,l.apply(a,g)}))}}const Ne=l=>"start"===l?"left":"end"===l?"right":"center",Ae=(l,a,s)=>"start"===l?a:"end"===l?s:(a+s)/2;function De(){}const ce=function(){let l=0;return function(){return l++}}();function he(l){return null==l}function be(l){if(Array.isArray&&Array.isArray(l))return!0;const a=Object.prototype.toString.call(l);return"[object"===a.substr(0,7)&&"Array]"===a.substr(-6)}function Ye(l){return null!==l&&"[object Object]"===Object.prototype.toString.call(l)}const nt=l=>("number"==typeof l||l instanceof Number)&&isFinite(+l);function dt(l,a){return nt(l)?l:a}function ht(l,a){return void 0===l?a:l}const lt=(l,a)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100*a:+l;function Le(l,a,s){if(l&&"function"==typeof l.call)return l.apply(s,a)}function Dt(l,a,s,u){let h,g,y;if(be(l))if(g=l.length,u)for(h=g-1;h>=0;h--)a.call(s,l[h],h);else for(h=0;h<g;h++)a.call(s,l[h],h);else if(Ye(l))for(y=Object.keys(l),g=y.length,h=0;h<g;h++)a.call(s,l[y[h]],y[h])}function ct(l,a){let s,u,h,g;if(!l||!a||l.length!==a.length)return!1;for(s=0,u=l.length;s<u;++s)if(h=l[s],g=a[s],h.datasetIndex!==g.datasetIndex||h.index!==g.index)return!1;return!0}function $e(l){if(be(l))return l.map($e);if(Ye(l)){const a=Object.create(null),s=Object.keys(l),u=s.length;let h=0;for(;h<u;++h)a[s[h]]=$e(l[s[h]]);return a}return l}function bt(l){return-1===["__proto__","prototype","constructor"].indexOf(l)}function Rt(l,a,s,u){if(!bt(l))return;const h=a[l],g=s[l];Ye(h)&&Ye(g)?Ut(h,g,u):a[l]=$e(g)}function Ut(l,a,s){const u=be(a)?a:[a],h=u.length;if(!Ye(l))return l;const g=(s=s||{}).merger||Rt;for(let y=0;y<h;++y){if(!Ye(a=u[y]))continue;const E=Object.keys(a);for(let T=0,P=E.length;T<P;++T)g(E[T],l,a,s)}return l}function ge(l,a){return Ut(l,a,{merger:Xt})}function Xt(l,a,s){if(!bt(l))return;const u=a[l],h=s[l];Ye(u)&&Ye(h)?ge(u,h):Object.prototype.hasOwnProperty.call(a,l)||(a[l]=$e(h))}function ut(l,a){const s=l.indexOf(".",a);return-1===s?l.length:s}function ot(l,a){if(""===a)return l;let s=0,u=ut(a,s);for(;l&&u>s;)l=l[a.substr(s,u-s)],s=u+1,u=ut(a,s);return l}function Mt(l){return l.charAt(0).toUpperCase()+l.slice(1)}const Pt=l=>void 0!==l,gn=l=>"function"==typeof l,Mn=(l,a)=>{if(l.size!==a.size)return!1;for(const s of l)if(!a.has(s))return!1;return!0},jt=Math.PI,cn=2*jt,dr=cn+jt,on=Number.POSITIVE_INFINITY,qn=jt/180,Gt=jt/2,kn=jt/4,Xn=2*jt/3,Un=Math.log10,pr=Math.sign;function vr(l){const a=Math.round(l);l=zr(l,a,l/1e3)?a:l;const s=Math.pow(10,Math.floor(Un(l))),u=l/s;return(u<=1?1:u<=2?2:u<=5?5:10)*s}function br(l){return!isNaN(parseFloat(l))&&isFinite(l)}function zr(l,a,s){return Math.abs(l-a)<s}function Ft(l,a,s){let u,h,g;for(u=0,h=l.length;u<h;u++)g=l[u][s],isNaN(g)||(a.min=Math.min(a.min,g),a.max=Math.max(a.max,g))}function $n(l){return l*(jt/180)}function lr(l){return l*(180/jt)}function Ln(l){if(!nt(l))return;let a=1,s=0;for(;Math.round(l*a)/a!==l;)a*=10,s++;return s}function Ur(l,a){const s=a.x-l.x,u=a.y-l.y,h=Math.sqrt(s*s+u*u);let g=Math.atan2(u,s);return g<-.5*jt&&(g+=cn),{angle:g,distance:h}}function Li(l,a){return Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2))}function Mr(l,a){return(l-a+dr)%cn-jt}function rn(l){return(l%cn+cn)%cn}function xr(l,a,s,u){const h=rn(l),g=rn(a),y=rn(s),E=rn(g-h),T=rn(y-h),P=rn(h-g),G=rn(h-y);return h===g||h===y||u&&g===y||E>T&&P<G}function er(l,a,s){return Math.max(a,Math.min(s,l))}function tn(l,a,s,u=1e-6){return l>=Math.min(a,s)-u&&l<=Math.max(a,s)+u}const an=l=>0===l||1===l,Or=(l,a,s)=>-Math.pow(2,10*(l-=1))*Math.sin((l-a)*cn/s),jr=(l,a,s)=>Math.pow(2,-10*l)*Math.sin((l-a)*cn/s)+1,Pn={linear:l=>l,easeInQuad:l=>l*l,easeOutQuad:l=>-l*(l-2),easeInOutQuad:l=>(l/=.5)<1?.5*l*l:-.5*(--l*(l-2)-1),easeInCubic:l=>l*l*l,easeOutCubic:l=>(l-=1)*l*l+1,easeInOutCubic:l=>(l/=.5)<1?.5*l*l*l:.5*((l-=2)*l*l+2),easeInQuart:l=>l*l*l*l,easeOutQuart:l=>-((l-=1)*l*l*l-1),easeInOutQuart:l=>(l/=.5)<1?.5*l*l*l*l:-.5*((l-=2)*l*l*l-2),easeInQuint:l=>l*l*l*l*l,easeOutQuint:l=>(l-=1)*l*l*l*l+1,easeInOutQuint:l=>(l/=.5)<1?.5*l*l*l*l*l:.5*((l-=2)*l*l*l*l+2),easeInSine:l=>1-Math.cos(l*Gt),easeOutSine:l=>Math.sin(l*Gt),easeInOutSine:l=>-.5*(Math.cos(jt*l)-1),easeInExpo:l=>0===l?0:Math.pow(2,10*(l-1)),easeOutExpo:l=>1===l?1:1-Math.pow(2,-10*l),easeInOutExpo:l=>an(l)?l:l<.5?.5*Math.pow(2,10*(2*l-1)):.5*(2-Math.pow(2,-10*(2*l-1))),easeInCirc:l=>l>=1?l:-(Math.sqrt(1-l*l)-1),easeOutCirc:l=>Math.sqrt(1-(l-=1)*l),easeInOutCirc:l=>(l/=.5)<1?-.5*(Math.sqrt(1-l*l)-1):.5*(Math.sqrt(1-(l-=2)*l)+1),easeInElastic:l=>an(l)?l:Or(l,.075,.3),easeOutElastic:l=>an(l)?l:jr(l,.075,.3),easeInOutElastic:l=>an(l)?l:l<.5?.5*Or(2*l,.1125,.45):.5+.5*jr(2*l-1,.1125,.45),easeInBack:l=>l*l*(2.70158*l-1.70158),easeOutBack:l=>(l-=1)*l*(2.70158*l+1.70158)+1,easeInOutBack(l){let a=1.70158;return(l/=.5)<1?l*l*((1+(a*=1.525))*l-a)*.5:.5*((l-=2)*l*((1+(a*=1.525))*l+a)+2)},easeInBounce:l=>1-Pn.easeOutBounce(1-l),easeOutBounce:l=>l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375,easeInOutBounce:l=>l<.5?.5*Pn.easeInBounce(2*l):.5*Pn.easeOutBounce(2*l-1)+.5},Wr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qr="0123456789ABCDEF",kr=l=>Qr[15&l],Tn=l=>Qr[(240&l)>>4]+Qr[15&l],Gr=l=>(240&l)>>4==(15&l);function te(l){return l+.5|0}const _e=(l,a,s)=>Math.max(Math.min(l,s),a);function it(l){return _e(te(2.55*l),0,255)}function St(l){return _e(te(255*l),0,255)}function Te(l){return _e(te(l/2.55)/100,0,1)}function Ee(l){return _e(te(100*l),0,100)}const Fe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Zt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vn(l,a,s){const u=a*Math.min(s,1-s),h=(g,y=(g+l/30)%12)=>s-u*Math.max(Math.min(y-3,9-y,1),-1);return[h(0),h(8),h(4)]}function bn(l,a,s){const u=(h,g=(h+l/60)%6)=>s-s*a*Math.max(Math.min(g,4-g,1),0);return[u(5),u(3),u(1)]}function Rn(l,a,s){const u=vn(l,1,.5);let h;for(a+s>1&&(h=1/(a+s),a*=h,s*=h),h=0;h<3;h++)u[h]*=1-a-s,u[h]+=a;return u}function tr(l){const s=l.r/255,u=l.g/255,h=l.b/255,g=Math.max(s,u,h),y=Math.min(s,u,h),E=(g+y)/2;let T,P,G;return g!==y&&(G=g-y,P=E>.5?G/(2-g-y):G/(g+y),T=g===s?(u-h)/G+(u<h?6:0):g===u?(h-s)/G+2:(s-u)/G+4,T=60*T+.5),[0|T,P||0,E]}function yr(l,a,s,u){return(Array.isArray(a)?l(a[0],a[1],a[2]):l(a,s,u)).map(St)}function On(l,a,s){return yr(vn,l,a,s)}function hi(l){return(l%360+360)%360}const Fr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pi={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Vt;function hr(l,a,s){if(l){let u=tr(l);u[a]=Math.max(0,Math.min(u[a]+u[a]*s,0===a?360:1)),u=On(u),l.r=u[0],l.g=u[1],l.b=u[2]}}function Kr(l,a){return l&&Object.assign(a||{},l)}function Fi(l){var a={r:0,g:0,b:0,a:255};return Array.isArray(l)?l.length>=3&&(a={r:l[0],g:l[1],b:l[2],a:255},l.length>3&&(a.a=St(l[3]))):(a=Kr(l,{r:0,g:0,b:0,a:1})).a=St(a.a),a}function Hr(l){return"r"===l.charAt(0)?function ft(l){const a=Fe.exec(l);let u,h,g,s=255;if(a){if(a[7]!==u){const y=+a[7];s=255&(a[8]?it(y):255*y)}return u=+a[1],h=+a[3],g=+a[5],u=255&(a[2]?it(u):u),h=255&(a[4]?it(h):h),g=255&(a[6]?it(g):g),{r:u,g:h,b:g,a:s}}}(l):function Ti(l){const a=Zt.exec(l);let u,s=255;if(!a)return;a[5]!==u&&(s=a[6]?it(+a[5]):St(+a[5]));const h=hi(+a[2]),g=+a[3]/100,y=+a[4]/100;return u="hwb"===a[1]?function cr(l,a,s){return yr(Rn,l,a,s)}(h,g,y):"hsv"===a[1]?function si(l,a,s){return yr(bn,l,a,s)}(h,g,y):On(h,g,y),{r:u[0],g:u[1],b:u[2],a:s}}(l)}class fi{constructor(a){if(a instanceof fi)return a;const s=typeof a;let u;"object"===s?u=Fi(a):"string"===s&&(u=function dn(l){var s,a=l.length;return"#"===l[0]&&(4===a||5===a?s={r:255&17*Wr[l[1]],g:255&17*Wr[l[2]],b:255&17*Wr[l[3]],a:5===a?17*Wr[l[4]]:255}:(7===a||9===a)&&(s={r:Wr[l[1]]<<4|Wr[l[2]],g:Wr[l[3]]<<4|Wr[l[4]],b:Wr[l[5]]<<4|Wr[l[6]],a:9===a?Wr[l[7]]<<4|Wr[l[8]]:255})),s}(a)||function jn(l){Vt||(Vt=function Nn(){const l={},a=Object.keys(Pi),s=Object.keys(Fr);let u,h,g,y,E;for(u=0;u<a.length;u++){for(y=E=a[u],h=0;h<s.length;h++)g=s[h],E=E.replace(g,Fr[g]);g=parseInt(Pi[y],16),l[E]=[g>>16&255,g>>8&255,255&g]}return l}(),Vt.transparent=[0,0,0,0]);const a=Vt[l.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:4===a.length?a[3]:255}}(a)||Hr(a)),this._rgb=u,this._valid=!!u}get valid(){return this._valid}get rgb(){var a=Kr(this._rgb);return a&&(a.a=Te(a.a)),a}set rgb(a){this._rgb=Fi(a)}rgbString(){return this._valid?function rt(l){return l&&(l.a<255?`rgba(${l.r}, ${l.g}, ${l.b}, ${Te(l.a)})`:`rgb(${l.r}, ${l.g}, ${l.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function we(l){var a=function Jn(l){return Gr(l.r)&&Gr(l.g)&&Gr(l.b)&&Gr(l.a)}(l)?kr:Tn;return l&&"#"+a(l.r)+a(l.g)+a(l.b)+(l.a<255?a(l.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function ni(l){if(!l)return;const a=tr(l),s=a[0],u=Ee(a[1]),h=Ee(a[2]);return l.a<255?`hsla(${s}, ${u}%, ${h}%, ${Te(l.a)})`:`hsl(${s}, ${u}%, ${h}%)`}(this._rgb):this._rgb}mix(a,s){const u=this;if(a){const h=u.rgb,g=a.rgb;let y;const E=s===y?.5:s,T=2*E-1,P=h.a-g.a,G=((T*P==-1?T:(T+P)/(1+T*P))+1)/2;y=1-G,h.r=255&G*h.r+y*g.r+.5,h.g=255&G*h.g+y*g.g+.5,h.b=255&G*h.b+y*g.b+.5,h.a=E*h.a+(1-E)*g.a,u.rgb=h}return u}clone(){return new fi(this.rgb)}alpha(a){return this._rgb.a=St(a),this}clearer(a){return this._rgb.a*=1-a,this}greyscale(){const a=this._rgb,s=te(.3*a.r+.59*a.g+.11*a.b);return a.r=a.g=a.b=s,this}opaquer(a){return this._rgb.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return hr(this._rgb,2,a),this}darken(a){return hr(this._rgb,2,-a),this}saturate(a){return hr(this._rgb,1,a),this}desaturate(a){return hr(this._rgb,1,-a),this}rotate(a){return function ai(l,a){var s=tr(l);s[0]=hi(s[0]+a),s=On(s),l.r=s[0],l.g=s[1],l.b=s[2]}(this._rgb,a),this}}function fr(l){return new fi(l)}const Nr=l=>l instanceof CanvasGradient||l instanceof CanvasPattern;function qr(l){return Nr(l)?l:fr(l)}function Zn(l){return Nr(l)?l:fr(l).saturate(.5).darken(.1).hexString()}const Xr=Object.create(null),Vi=Object.create(null);function vi(l,a){if(!a)return l;const s=a.split(".");for(let u=0,h=s.length;u<h;++u){const g=s[u];l=l[g]||(l[g]=Object.create(null))}return l}function bi(l,a,s){return"string"==typeof a?Ut(vi(l,a),s):Ut(vi(l,""),a)}var Sn=new class Zr{constructor(a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,u)=>Zn(u.backgroundColor),this.hoverBorderColor=(s,u)=>Zn(u.borderColor),this.hoverColor=(s,u)=>Zn(u.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(a)}set(a,s){return bi(this,a,s)}get(a){return vi(this,a)}describe(a,s){return bi(Vi,a,s)}override(a,s){return bi(Xr,a,s)}route(a,s,u,h){const g=vi(this,a),y=vi(this,u),E="_"+s;Object.defineProperties(g,{[E]:{value:g[s],writable:!0},[s]:{enumerable:!0,get(){const T=this[E],P=y[h];return Ye(T)?Object.assign({},P,T):ht(T,P)},set(T){this[E]=T}}})}}({_scriptable:l=>!l.startsWith("on"),_indexable:l=>"events"!==l,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function vt(l,a,s,u,h){let g=a[h];return g||(g=a[h]=l.measureText(h).width,s.push(h)),g>u&&(u=g),u}function qe(l,a,s,u){let h=(u=u||{}).data=u.data||{},g=u.garbageCollect=u.garbageCollect||[];u.font!==a&&(h=u.data={},g=u.garbageCollect=[],u.font=a),l.save(),l.font=a;let y=0;const E=s.length;let T,P,G,ee,fe;for(T=0;T<E;T++)if(ee=s[T],null!=ee&&!0!==be(ee))y=vt(l,h,g,y,ee);else if(be(ee))for(P=0,G=ee.length;P<G;P++)fe=ee[P],null!=fe&&!be(fe)&&(y=vt(l,h,g,y,fe));l.restore();const Me=g.length/2;if(Me>s.length){for(T=0;T<Me;T++)delete h[g[T]];g.splice(0,Me)}return y}function _t(l,a,s){const u=l.currentDevicePixelRatio,h=0!==s?Math.max(s/2,.5):0;return Math.round((a-h)*u)/u+h}function Ht(l,a){(a=a||l.getContext("2d")).save(),a.resetTransform(),a.clearRect(0,0,l.width,l.height),a.restore()}function $t(l,a,s,u){let h,g,y,E,T;const P=a.pointStyle,G=a.rotation,ee=a.radius;let fe=(G||0)*qn;if(P&&"object"==typeof P&&(h=P.toString(),"[object HTMLImageElement]"===h||"[object HTMLCanvasElement]"===h))return l.save(),l.translate(s,u),l.rotate(fe),l.drawImage(P,-P.width/2,-P.height/2,P.width,P.height),void l.restore();if(!(isNaN(ee)||ee<=0)){switch(l.beginPath(),P){default:l.arc(s,u,ee,0,cn),l.closePath();break;case"triangle":l.moveTo(s+Math.sin(fe)*ee,u-Math.cos(fe)*ee),fe+=Xn,l.lineTo(s+Math.sin(fe)*ee,u-Math.cos(fe)*ee),fe+=Xn,l.lineTo(s+Math.sin(fe)*ee,u-Math.cos(fe)*ee),l.closePath();break;case"rectRounded":T=.516*ee,E=ee-T,g=Math.cos(fe+kn)*E,y=Math.sin(fe+kn)*E,l.arc(s-g,u-y,T,fe-jt,fe-Gt),l.arc(s+y,u-g,T,fe-Gt,fe),l.arc(s+g,u+y,T,fe,fe+Gt),l.arc(s-y,u+g,T,fe+Gt,fe+jt),l.closePath();break;case"rect":if(!G){E=Math.SQRT1_2*ee,l.rect(s-E,u-E,2*E,2*E);break}fe+=kn;case"rectRot":g=Math.cos(fe)*ee,y=Math.sin(fe)*ee,l.moveTo(s-g,u-y),l.lineTo(s+y,u-g),l.lineTo(s+g,u+y),l.lineTo(s-y,u+g),l.closePath();break;case"crossRot":fe+=kn;case"cross":g=Math.cos(fe)*ee,y=Math.sin(fe)*ee,l.moveTo(s-g,u-y),l.lineTo(s+g,u+y),l.moveTo(s+y,u-g),l.lineTo(s-y,u+g);break;case"star":g=Math.cos(fe)*ee,y=Math.sin(fe)*ee,l.moveTo(s-g,u-y),l.lineTo(s+g,u+y),l.moveTo(s+y,u-g),l.lineTo(s-y,u+g),fe+=kn,g=Math.cos(fe)*ee,y=Math.sin(fe)*ee,l.moveTo(s-g,u-y),l.lineTo(s+g,u+y),l.moveTo(s+y,u-g),l.lineTo(s-y,u+g);break;case"line":g=Math.cos(fe)*ee,y=Math.sin(fe)*ee,l.moveTo(s-g,u-y),l.lineTo(s+g,u+y);break;case"dash":l.moveTo(s,u),l.lineTo(s+Math.cos(fe)*ee,u+Math.sin(fe)*ee)}l.fill(),a.borderWidth>0&&l.stroke()}}function Hn(l,a,s){return s=s||.5,!a||l&&l.x>a.left-s&&l.x<a.right+s&&l.y>a.top-s&&l.y<a.bottom+s}function Pe(l,a){l.save(),l.beginPath(),l.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),l.clip()}function xe(l){l.restore()}function ye(l,a,s,u,h){if(!a)return l.lineTo(s.x,s.y);if("middle"===h){const g=(a.x+s.x)/2;l.lineTo(g,a.y),l.lineTo(g,s.y)}else"after"===h!=!!u?l.lineTo(a.x,s.y):l.lineTo(s.x,a.y);l.lineTo(s.x,s.y)}function ze(l,a,s,u){if(!a)return l.lineTo(s.x,s.y);l.bezierCurveTo(u?a.cp1x:a.cp2x,u?a.cp1y:a.cp2y,u?s.cp2x:s.cp1x,u?s.cp2y:s.cp1y,s.x,s.y)}function It(l,a,s,u,h,g={}){const y=be(a)?a:[a],E=g.strokeWidth>0&&""!==g.strokeColor;let T,P;for(l.save(),l.font=h.string,function In(l,a){a.translation&&l.translate(a.translation[0],a.translation[1]),he(a.rotation)||l.rotate(a.rotation),a.color&&(l.fillStyle=a.color),a.textAlign&&(l.textAlign=a.textAlign),a.textBaseline&&(l.textBaseline=a.textBaseline)}(l,g),T=0;T<y.length;++T)P=y[T],E&&(g.strokeColor&&(l.strokeStyle=g.strokeColor),he(g.strokeWidth)||(l.lineWidth=g.strokeWidth),l.strokeText(P,s,u,g.maxWidth)),l.fillText(P,s,u,g.maxWidth),nr(l,s,u,P,g),u+=h.lineHeight;l.restore()}function nr(l,a,s,u,h){if(h.strikethrough||h.underline){const g=l.measureText(u),y=a-g.actualBoundingBoxLeft,E=a+g.actualBoundingBoxRight,T=s-g.actualBoundingBoxAscent,P=s+g.actualBoundingBoxDescent,G=h.strikethrough?(T+P)/2:P;l.strokeStyle=l.fillStyle,l.beginPath(),l.lineWidth=h.decorationWidth||2,l.moveTo(y,G),l.lineTo(E,G),l.stroke()}}function ar(l,a){const{x:s,y:u,w:h,h:g,radius:y}=a;l.arc(s+y.topLeft,u+y.topLeft,y.topLeft,-Gt,jt,!0),l.lineTo(s,u+g-y.bottomLeft),l.arc(s+y.bottomLeft,u+g-y.bottomLeft,y.bottomLeft,jt,Gt,!0),l.lineTo(s+h-y.bottomRight,u+g),l.arc(s+h-y.bottomRight,u+g-y.bottomRight,y.bottomRight,Gt,0,!0),l.lineTo(s+h,u+y.topRight),l.arc(s+h-y.topRight,u+y.topRight,y.topRight,0,-Gt,!0),l.lineTo(s+y.topLeft,u)}const Bi=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Zs=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Qe(l,a){const s=(""+l).match(Bi);if(!s||"normal"===s[1])return 1.2*a;switch(l=+s[2],s[3]){case"px":return l;case"%":l/=100}return a*l}const We=l=>+l||0;function pt(l,a){const s={},u=Ye(a),h=u?Object.keys(a):a,g=Ye(l)?u?y=>ht(l[y],l[a[y]]):y=>l[y]:()=>l;for(const y of h)s[y]=We(g(y));return s}function kt(l){return pt(l,{top:"y",right:"x",bottom:"y",left:"x"})}function Kt(l){return pt(l,["topLeft","topRight","bottomLeft","bottomRight"])}function pn(l){const a=kt(l);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function Yn(l,a){let s=ht((l=l||{}).size,(a=a||Sn.font).size);"string"==typeof s&&(s=parseInt(s,10));let u=ht(l.style,a.style);u&&!(""+u).match(Zs)&&(console.warn('Invalid font style specified: "'+u+'"'),u="");const h={family:ht(l.family,a.family),lineHeight:Qe(ht(l.lineHeight,a.lineHeight),s),size:s,style:u,weight:ht(l.weight,a.weight),string:""};return h.string=function Ce(l){return!l||he(l.size)||he(l.family)?null:(l.style?l.style+" ":"")+(l.weight?l.weight+" ":"")+l.size+"px "+l.family}(h),h}function li(l,a,s,u){let g,y,E,h=!0;for(g=0,y=l.length;g<y;++g)if(E=l[g],void 0!==E&&(void 0!==a&&"function"==typeof E&&(E=E(a),h=!1),void 0!==s&&be(E)&&(E=E[s%E.length],h=!1),void 0!==E))return u&&!h&&(u.cacheable=!1),E}function pi(l,a){return Object.assign(Object.create(l),a)}function Ui(l,a,s){s=s||(y=>l[y]<a);let g,u=l.length-1,h=0;for(;u-h>1;)g=h+u>>1,s(g)?h=g:u=g;return{lo:h,hi:u}}const Ri=(l,a,s)=>Ui(l,s,u=>l[u][a]<s),so=(l,a,s)=>Ui(l,s,u=>l[u][a]>=s),Ls=["push","pop","shift","splice","unshift"];function Gi(l,a){const s=l._chartjs;if(!s)return;const u=s.listeners,h=u.indexOf(a);-1!==h&&u.splice(h,1),!(u.length>0)&&(Ls.forEach(g=>{delete l[g]}),delete l._chartjs)}function ki(l){const a=new Set;let s,u;for(s=0,u=l.length;s<u;++s)a.add(l[s]);return a.size===u?l:Array.from(a)}function Os(l,a=[""],s=l,u,h=(()=>l[0])){Pt(u)||(u=Do("_fallback",l));const g={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:l,_rootScopes:s,_fallback:u,_getTarget:h,override:y=>Os([y,...l],a,s,u)};return new Proxy(g,{deleteProperty:(y,E)=>(delete y[E],delete y._keys,delete l[0][E],!0),get:(y,E)=>Es(y,E,()=>function Eo(l,a,s,u){let h;for(const g of a)if(h=Do(ao(g,l),s),Pt(h))return us(l,h)?hs(s,u,l,h):h}(E,a,l,y)),getOwnPropertyDescriptor:(y,E)=>Reflect.getOwnPropertyDescriptor(y._scopes[0],E),getPrototypeOf:()=>Reflect.getPrototypeOf(l[0]),has:(y,E)=>Hi(y).includes(E),ownKeys:y=>Hi(y),set(y,E,T){const P=y._storage||(y._storage=h());return y[E]=P[E]=T,delete y._keys,!0}})}function Ni(l,a,s,u){const h={_cacheable:!1,_proxy:l,_context:a,_subProxy:s,_stack:new Set,_descriptors:Ki(l,u),setContext:g=>Ni(l,g,s,u),override:g=>Ni(l.override(g),a,s,u)};return new Proxy(h,{deleteProperty:(g,y)=>(delete g[y],delete l[y],!0),get:(g,y,E)=>Es(g,y,()=>function ji(l,a,s){const{_proxy:u,_context:h,_subProxy:g,_descriptors:y}=l;let E=u[a];return gn(E)&&y.isScriptable(a)&&(E=function Ar(l,a,s,u){const{_proxy:h,_context:g,_subProxy:y,_stack:E}=s;if(E.has(l))throw new Error("Recursion detected: "+Array.from(E).join("->")+"->"+l);return E.add(l),a=a(g,y||u),E.delete(l),us(l,a)&&(a=hs(h._scopes,h,l,a)),a}(a,E,l,s)),be(E)&&E.length&&(E=function lo(l,a,s,u){const{_proxy:h,_context:g,_subProxy:y,_descriptors:E}=s;if(Pt(g.index)&&u(l))a=a[g.index%a.length];else if(Ye(a[0])){const T=a,P=h._scopes.filter(G=>G!==T);a=[];for(const G of T){const ee=hs(P,h,l,G);a.push(Ni(ee,g,y&&y[l],E))}}return a}(a,E,l,y.isIndexable)),us(a,E)&&(E=Ni(E,h,g&&g[a],y)),E}(g,y,E)),getOwnPropertyDescriptor:(g,y)=>g._descriptors.allKeys?Reflect.has(l,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(l,y),getPrototypeOf:()=>Reflect.getPrototypeOf(l),has:(g,y)=>Reflect.has(l,y),ownKeys:()=>Reflect.ownKeys(l),set:(g,y,E)=>(l[y]=E,delete g[y],!0)})}function Ki(l,a={scriptable:!0,indexable:!0}){const{_scriptable:s=a.scriptable,_indexable:u=a.indexable,_allKeys:h=a.allKeys}=l;return{allKeys:h,scriptable:s,indexable:u,isScriptable:gn(s)?s:()=>s,isIndexable:gn(u)?u:()=>u}}const ao=(l,a)=>l?l+Mt(a):a,us=(l,a)=>Ye(a)&&"adapters"!==l&&(null===Object.getPrototypeOf(a)||a.constructor===Object);function Es(l,a,s){if(Object.prototype.hasOwnProperty.call(l,a))return l[a];const u=s();return l[a]=u,u}function wo(l,a,s){return gn(l)?l(a,s):l}const ds=(l,a)=>!0===l?a:"string"==typeof l?ot(a,l):void 0;function ri(l,a,s,u,h){for(const g of a){const y=ds(s,g);if(y){l.add(y);const E=wo(y._fallback,s,h);if(Pt(E)&&E!==s&&E!==u)return E}else if(!1===y&&Pt(u)&&s!==u)return null}return!1}function hs(l,a,s,u){const h=a._rootScopes,g=wo(a._fallback,s,u),y=[...l,...h],E=new Set;E.add(u);let T=ko(E,y,s,g||s,u);return!(null===T||Pt(g)&&g!==s&&(T=ko(E,y,g,T,u),null===T))&&Os(Array.from(E),[""],h,g,()=>function Ys(l,a,s){const u=l._getTarget();a in u||(u[a]={});const h=u[a];return be(h)&&Ye(s)?s:h}(a,s,u))}function ko(l,a,s,u,h){for(;s;)s=ri(l,a,s,u,h);return s}function Do(l,a){for(const s of a){if(!s)continue;const u=s[l];if(Pt(u))return u}}function Hi(l){let a=l._keys;return a||(a=l._keys=function Co(l){const a=new Set;for(const s of l)for(const u of Object.keys(s).filter(h=>!h.startsWith("_")))a.add(u);return Array.from(a)}(l._scopes)),a}const Qs=Number.EPSILON||1e-14,Ir=(l,a)=>a<l.length&&!l[a].skip&&l[a],$=l=>"x"===l?"y":"x";function se(l,a,s,u){const h=l.skip?a:l,g=a,y=s.skip?a:s,E=Li(g,h),T=Li(y,g);let P=E/(E+T),G=T/(E+T);P=isNaN(P)?0:P,G=isNaN(G)?0:G;const ee=u*P,fe=u*G;return{previous:{x:g.x-ee*(y.x-h.x),y:g.y-ee*(y.y-h.y)},next:{x:g.x+fe*(y.x-h.x),y:g.y+fe*(y.y-h.y)}}}function wt(l,a,s){return Math.max(Math.min(l,s),a)}function un(l,a,s,u,h){let g,y,E,T;if(a.spanGaps&&(l=l.filter(P=>!P.skip)),"monotone"===a.cubicInterpolationMode)!function Be(l,a="x"){const s=$(a),u=l.length,h=Array(u).fill(0),g=Array(u);let y,E,T,P=Ir(l,0);for(y=0;y<u;++y)if(E=T,T=P,P=Ir(l,y+1),T){if(P){const G=P[a]-T[a];h[y]=0!==G?(P[s]-T[s])/G:0}g[y]=E?P?pr(h[y-1])!==pr(h[y])?0:(h[y-1]+h[y])/2:h[y-1]:h[y]}(function H(l,a,s){const u=l.length;let h,g,y,E,T,P=Ir(l,0);for(let G=0;G<u-1;++G)if(T=P,P=Ir(l,G+1),T&&P){if(zr(a[G],0,Qs)){s[G]=s[G+1]=0;continue}h=s[G]/a[G],g=s[G+1]/a[G],E=Math.pow(h,2)+Math.pow(g,2),!(E<=9)&&(y=3/Math.sqrt(E),s[G]=h*y*a[G],s[G+1]=g*y*a[G])}})(l,h,g),function ue(l,a,s="x"){const u=$(s),h=l.length;let g,y,E,T=Ir(l,0);for(let P=0;P<h;++P){if(y=E,E=T,T=Ir(l,P+1),!E)continue;const G=E[s],ee=E[u];y&&(g=(G-y[s])/3,E[`cp1${s}`]=G-g,E[`cp1${u}`]=ee-g*a[P]),T&&(g=(T[s]-G)/3,E[`cp2${s}`]=G+g,E[`cp2${u}`]=ee+g*a[P])}}(l,g,a)}(l,h);else{let P=u?l[l.length-1]:l[0];for(g=0,y=l.length;g<y;++g)E=l[g],T=se(P,E,l[Math.min(g+1,y-(u?0:1))%y],a.tension),E.cp1x=T.previous.x,E.cp1y=T.previous.y,E.cp2x=T.next.x,E.cp2y=T.next.y,P=E}a.capBezierPoints&&function Nt(l,a){let s,u,h,g,y,E=Hn(l[0],a);for(s=0,u=l.length;s<u;++s)y=g,g=E,E=s<u-1&&Hn(l[s+1],a),g&&(h=l[s],y&&(h.cp1x=wt(h.cp1x,a.left,a.right),h.cp1y=wt(h.cp1y,a.top,a.bottom)),E&&(h.cp2x=wt(h.cp2x,a.left,a.right),h.cp2y=wt(h.cp2y,a.top,a.bottom)))}(l,s)}function $r(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Pr(l){let a=l.parentNode;return a&&"[object ShadowRoot]"===a.toString()&&(a=a.host),a}function rr(l,a,s){let u;return"string"==typeof l?(u=parseInt(l,10),-1!==l.indexOf("%")&&(u=u/100*a.parentNode[s])):u=l,u}const gr=l=>window.getComputedStyle(l,null),Jr=["top","right","bottom","left"];function Lr(l,a,s){const u={};s=s?"-"+s:"";for(let h=0;h<4;h++){const g=Jr[h];u[g]=parseFloat(l[a+"-"+g+s])||0}return u.width=u.left+u.right,u.height=u.top+u.bottom,u}function zn(l,a){const{canvas:s,currentDevicePixelRatio:u}=a,h=gr(s),g="border-box"===h.boxSizing,y=Lr(h,"padding"),E=Lr(h,"border","width"),{x:T,y:P,box:G}=function is(l,a){const s=l.native||l,u=s.touches,h=u&&u.length?u[0]:s,{offsetX:g,offsetY:y}=h;let T,P,E=!1;if(((l,a,s)=>(l>0||a>0)&&(!s||!s.shadowRoot))(g,y,s.target))T=g,P=y;else{const G=a.getBoundingClientRect();T=h.clientX-G.left,P=h.clientY-G.top,E=!0}return{x:T,y:P,box:E}}(l,s),ee=y.left+(G&&E.left),fe=y.top+(G&&E.top);let{width:Me,height:Ve}=a;return g&&(Me-=y.width+E.width,Ve-=y.height+E.height),{x:Math.round((T-ee)/Me*s.width/u),y:Math.round((P-fe)/Ve*s.height/u)}}const Is=l=>Math.round(10*l)/10;function co(l,a,s){const u=a||1,h=Math.floor(l.height*u),g=Math.floor(l.width*u);l.height=h/u,l.width=g/u;const y=l.canvas;return y.style&&(s||!y.style.height&&!y.style.width)&&(y.style.height=`${l.height}px`,y.style.width=`${l.width}px`),(l.currentDevicePixelRatio!==u||y.height!==h||y.width!==g)&&(l.currentDevicePixelRatio=u,y.height=h,y.width=g,l.ctx.setTransform(u,0,0,u,0,0),!0)}const z=function(){let l=!1;try{const a={get passive(){return l=!0,!1}};window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch(a){}return l}();function U(l,a){const s=function oi(l,a){return gr(l).getPropertyValue(a)}(l,a),u=s&&s.match(/^(\d+)(\.\d+)?px$/);return u?+u[1]:void 0}function V(l,a,s,u){return{x:l.x+s*(a.x-l.x),y:l.y+s*(a.y-l.y)}}function Y(l,a,s,u){return{x:l.x+s*(a.x-l.x),y:"middle"===u?s<.5?l.y:a.y:"after"===u?s<1?l.y:a.y:s>0?a.y:l.y}}function Je(l,a,s,u){const h={x:l.cp2x,y:l.cp2y},g={x:a.cp1x,y:a.cp1y},y=V(l,h,s),E=V(h,g,s),T=V(g,a,s),P=V(y,E,s),G=V(E,T,s);return V(P,G,s)}const Dn=new Map;function xi(l,a,s){return function ir(l,a){a=a||{};const s=l+JSON.stringify(a);let u=Dn.get(s);return u||(u=new Intl.NumberFormat(l,a),Dn.set(s,u)),u}(a,s).format(l)}function Ts(l,a,s){return l?function(l,a){return{x:s=>l+l+a-s,setWidth(s){a=s},textAlign:s=>"center"===s?s:"right"===s?"left":"right",xPlus:(s,u)=>s-u,leftForLtr:(s,u)=>s-u}}(a,s):{x:l=>l,setWidth(l){},textAlign:l=>l,xPlus:(l,a)=>l+a,leftForLtr:(l,a)=>l}}function Vs(l,a){let s,u;("ltr"===a||"rtl"===a)&&(s=l.canvas.style,u=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",a,"important"),l.prevTextDirection=u)}function _a(l,a){void 0!==a&&(delete l.prevTextDirection,l.canvas.style.setProperty("direction",a[0],a[1]))}function va(l){return"angle"===l?{between:xr,compare:Mr,normalize:rn}:{between:tn,compare:(a,s)=>a-s,normalize:a=>a}}function ba({start:l,end:a,count:s,loop:u,style:h}){return{start:l%s,end:a%s,loop:u&&(a-l+1)%s==0,style:h}}function fs(l,a,s){if(!s)return[l];const{property:u,start:h,end:g}=s,y=a.length,{compare:E,between:T,normalize:P}=va(u),{start:G,end:ee,loop:fe,style:Me}=function _s(l,a,s){const{property:u,start:h,end:g}=s,{between:y,normalize:E}=va(u),T=a.length;let fe,Me,{start:P,end:G,loop:ee}=l;if(ee){for(P+=T,G+=T,fe=0,Me=T;fe<Me&&y(E(a[P%T][u]),h,g);++fe)P--,G--;P%=T,G%=T}return G<P&&(G+=T),{start:P,end:G,loop:ee,style:l.style}}(l,a,s),Ve=[];let Et,zt,wn,Ke=!1,mt=null;for(let Gn=G,or=G;Gn<=ee;++Gn)zt=a[Gn%y],!zt.skip&&(Et=P(zt[u]),Et!==wn&&(Ke=T(Et,h,g),null===mt&&(Ke||T(h,wn,Et)&&0!==E(h,wn))&&(mt=0===E(Et,h)?Gn:or),null!==mt&&(!Ke||0===E(g,Et)||T(g,wn,Et))&&(Ve.push(ba({start:mt,end:Gn,loop:fe,count:y,style:Me})),mt=null),or=Gn,wn=Et));return null!==mt&&Ve.push(ba({start:mt,end:ee,loop:fe,count:y,style:Me})),Ve}function Bs(l,a){const s=[],u=l.segments;for(let h=0;h<u.length;h++){const g=fs(u[h],l.points,a);g.length&&s.push(...g)}return s}function Ho(l){return{backgroundColor:l.backgroundColor,borderCapStyle:l.borderCapStyle,borderDash:l.borderDash,borderDashOffset:l.borderDashOffset,borderJoinStyle:l.borderJoinStyle,borderWidth:l.borderWidth,borderColor:l.borderColor}}function Ea(l,a){return a&&JSON.stringify(l)!==JSON.stringify(a)}var Us=new class $o{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(a,s,u,h){const y=s.duration;s.listeners[h].forEach(E=>E({chart:a,initial:s.initial,numSteps:y,currentStep:Math.min(u-s.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=ie.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(a=Date.now()){let s=0;this._charts.forEach((u,h)=>{if(!u.running||!u.items.length)return;const g=u.items;let T,y=g.length-1,E=!1;for(;y>=0;--y)T=g[y],T._active?(T._total>u.duration&&(u.duration=T._total),T.tick(a),E=!0):(g[y]=g[g.length-1],g.pop());E&&(h.draw(),this._notify(h,u,a,"progress")),g.length||(u.running=!1,this._notify(h,u,a,"complete"),u.initial=!1),s+=g.length}),this._lastDate=a,0===s&&(this._running=!1)}_getAnims(a){const s=this._charts;let u=s.get(a);return u||(u={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(a,u)),u}listen(a,s,u){this._getAnims(a).listeners[s].push(u)}add(a,s){!s||!s.length||this._getAnims(a).items.push(...s)}has(a){return this._getAnims(a).items.length>0}start(a){const s=this._charts.get(a);!s||(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((u,h)=>Math.max(u,h._duration),0),this._refresh())}running(a){if(!this._running)return!1;const s=this._charts.get(a);return!(!s||!s.running||!s.items.length)}stop(a){const s=this._charts.get(a);if(!s||!s.items.length)return;const u=s.items;let h=u.length-1;for(;h>=0;--h)u[h].cancel();s.items=[],this._notify(a,s,Date.now(),"complete")}remove(a){return this._charts.delete(a)}};const na="transparent",ra={boolean:(l,a,s)=>s>.5?a:l,color(l,a,s){const u=qr(l||na),h=u.valid&&qr(a||na);return h&&h.valid?h.mix(u,s).hexString():a},number:(l,a,s)=>l+(a-l)*s};class Ra{constructor(a,s,u,h){const g=s[u];h=li([a.to,h,g,a.from]);const y=li([a.from,g,h]);this._active=!0,this._fn=a.fn||ra[a.type||typeof y],this._easing=Pn[a.easing]||Pn.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=s,this._prop=u,this._from=y,this._to=h,this._promises=void 0}active(){return this._active}update(a,s,u){if(this._active){this._notify(!1);const h=this._target[this._prop],g=u-this._start,y=this._duration-g;this._start=u,this._duration=Math.floor(Math.max(y,a.duration)),this._total+=g,this._loop=!!a.loop,this._to=li([a.to,s,h,a.from]),this._from=li([a.from,h,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(a){const s=a-this._start,u=this._duration,h=this._prop,g=this._from,y=this._loop,E=this._to;let T;if(this._active=g!==E&&(y||s<u),!this._active)return this._target[h]=E,void this._notify(!0);s<0?this._target[h]=g:(T=s/u%2,T=y&&T>1?2-T:T,T=this._easing(Math.min(1,Math.max(0,T))),this._target[h]=this._fn(g,E,T))}wait(){const a=this._promises||(this._promises=[]);return new Promise((s,u)=>{a.push({res:s,rej:u})})}_notify(a){const s=a?"res":"rej",u=this._promises||[];for(let h=0;h<u.length;h++)u[h][s]()}}Sn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Da=Object.keys(Sn.animation);Sn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:l=>"onProgress"!==l&&"onComplete"!==l&&"fn"!==l}),Sn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Sn.describe("animations",{_fallback:"animation"}),Sn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:l=>0|l}}}});class ho{constructor(a,s){this._chart=a,this._properties=new Map,this.configure(s)}configure(a){if(!Ye(a))return;const s=this._properties;Object.getOwnPropertyNames(a).forEach(u=>{const h=a[u];if(!Ye(h))return;const g={};for(const y of Da)g[y]=h[y];(be(h.properties)&&h.properties||[u]).forEach(y=>{(y===u||!s.has(y))&&s.set(y,g)})})}_animateOptions(a,s){const u=s.options,h=function qa(l,a){if(!a)return;let s=l.options;if(s)return s.$shared&&(l.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s;l.options=a}(a,u);if(!h)return[];const g=this._createAnimations(h,u);return u.$shared&&function Ca(l,a){const s=[],u=Object.keys(a);for(let h=0;h<u.length;h++){const g=l[u[h]];g&&g.active()&&s.push(g.wait())}return Promise.all(s)}(a.options.$animations,u).then(()=>{a.options=u},()=>{}),g}_createAnimations(a,s){const u=this._properties,h=[],g=a.$animations||(a.$animations={}),y=Object.keys(s),E=Date.now();let T;for(T=y.length-1;T>=0;--T){const P=y[T];if("$"===P.charAt(0))continue;if("options"===P){h.push(...this._animateOptions(a,s));continue}const G=s[P];let ee=g[P];const fe=u.get(P);if(ee){if(fe&&ee.active()){ee.update(fe,G,E);continue}ee.cancel()}fe&&fe.duration?(g[P]=ee=new Ra(fe,a,P,G),h.push(ee)):a[P]=G}return h}update(a,s){if(0===this._properties.size)return void Object.assign(a,s);const u=this._createAnimations(a,s);return u.length?(Us.add(this._chart,u),!0):void 0}}function Wo(l,a){const s=l&&l.options||{},u=s.reverse,h=void 0===s.min?a:0,g=void 0===s.max?a:0;return{start:u?g:h,end:u?h:g}}function es(l,a){const s=[],u=l._getSortedDatasetMetas(a);let h,g;for(h=0,g=u.length;h<g;++h)s.push(u[h].index);return s}function Go(l,a,s,u={}){const h=l.keys,g="single"===u.mode;let y,E,T,P;if(null!==a){for(y=0,E=h.length;y<E;++y){if(T=+h[y],T===s){if(u.all)continue;break}P=l.values[T],nt(P)&&(g||0===a||pr(a)===pr(P))&&(a+=P)}return a}}function ia(l,a){const s=l&&l.options.stacked;return s||void 0===s&&void 0!==a.stack}function Ya(l,a,s){const u=l[a]||(l[a]={});return u[s]||(u[s]={})}function Ia(l,a,s,u){for(const h of a.getMatchingVisibleMetas(u).reverse()){const g=l[h.index];if(s&&g>0||!s&&g<0)return h.index}return null}function ka(l,a){const{chart:s,_cachedMeta:u}=l,h=s._stacks||(s._stacks={}),{iScale:g,vScale:y,index:E}=u,T=g.axis,P=y.axis,G=function js(l,a,s){return`${l.id}.${a.id}.${s.stack||s.type}`}(g,y,u),ee=a.length;let fe;for(let Me=0;Me<ee;++Me){const Ve=a[Me],{[T]:Ke,[P]:mt}=Ve;fe=(Ve._stacks||(Ve._stacks={}))[P]=Ya(h,G,Ke),fe[E]=mt,fe._top=Ia(fe,y,!0,u.type),fe._bottom=Ia(fe,y,!1,u.type)}}function Hs(l,a){const s=l.scales;return Object.keys(s).filter(u=>s[u].axis===a).shift()}function Ai(l,a){const s=l.controller.index,u=l.vScale&&l.vScale.axis;if(u){a=a||l._parsed;for(const h of a){const g=h._stacks;if(!g||void 0===g[u]||void 0===g[u][s])return;delete g[u][s]}}}const Zi=l=>"reset"===l||"none"===l,Qa=(l,a)=>a?l:Object.assign({},l);let ps=(()=>{class l{constructor(s,u){this.chart=s,this._ctx=s.ctx,this.index=u,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=ia(s.vScale,s),this.addElements()}updateIndex(s){this.index!==s&&Ai(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,u=this._cachedMeta,h=this.getDataset(),g=(fe,Me,Ve,Ke)=>"x"===fe?Me:"r"===fe?Ke:Ve,y=u.xAxisID=ht(h.xAxisID,Hs(s,"x")),E=u.yAxisID=ht(h.yAxisID,Hs(s,"y")),T=u.rAxisID=ht(h.rAxisID,Hs(s,"r")),P=u.indexAxis,G=u.iAxisID=g(P,y,E,T),ee=u.vAxisID=g(P,E,y,T);u.xScale=this.getScaleForId(y),u.yScale=this.getScaleForId(E),u.rScale=this.getScaleForId(T),u.iScale=this.getScaleForId(G),u.vScale=this.getScaleForId(ee)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const u=this._cachedMeta;return s===u.iScale?u.vScale:u.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&Gi(this._data,this),s._stacked&&Ai(s)}_dataCheck(){const s=this.getDataset(),u=s.data||(s.data=[]),h=this._data;if(Ye(u))this._data=function $i(l){const a=Object.keys(l),s=new Array(a.length);let u,h,g;for(u=0,h=a.length;u<h;++u)g=a[u],s[u]={x:g,y:l[g]};return s}(u);else if(h!==u){if(h){Gi(h,this);const g=this._cachedMeta;Ai(g),g._parsed=[]}u&&Object.isExtensible(u)&&function oo(l,a){l._chartjs?l._chartjs.listeners.push(a):(Object.defineProperty(l,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),Ls.forEach(s=>{const u="_onData"+Mt(s),h=l[s];Object.defineProperty(l,s,{configurable:!0,enumerable:!1,value(...g){const y=h.apply(this,g);return l._chartjs.listeners.forEach(E=>{"function"==typeof E[u]&&E[u](...g)}),y}})}))}(u,this),this._syncList=[],this._data=u}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const u=this._cachedMeta,h=this.getDataset();let g=!1;this._dataCheck();const y=u._stacked;u._stacked=ia(u.vScale,u),u.stack!==h.stack&&(g=!0,Ai(u),u.stack=h.stack),this._resyncElements(s),(g||y!==u._stacked)&&ka(this,u._parsed)}configure(){const s=this.chart.config,u=s.datasetScopeKeys(this._type),h=s.getOptionScopes(this.getDataset(),u,!0);this.options=s.createResolver(h,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,u){const{_cachedMeta:h,_data:g}=this,{iScale:y,_stacked:E}=h,T=y.axis;let ee,fe,Me,P=0===s&&u===g.length||h._sorted,G=s>0&&h._parsed[s-1];if(!1===this._parsing)h._parsed=g,h._sorted=!0,Me=g;else{Me=be(g[s])?this.parseArrayData(h,g,s,u):Ye(g[s])?this.parseObjectData(h,g,s,u):this.parsePrimitiveData(h,g,s,u);const Ve=()=>null===fe[T]||G&&fe[T]<G[T];for(ee=0;ee<u;++ee)h._parsed[ee+s]=fe=Me[ee],P&&(Ve()&&(P=!1),G=fe);h._sorted=P}E&&ka(this,Me)}parsePrimitiveData(s,u,h,g){const{iScale:y,vScale:E}=s,T=y.axis,P=E.axis,G=y.getLabels(),ee=y===E,fe=new Array(g);let Me,Ve,Ke;for(Me=0,Ve=g;Me<Ve;++Me)Ke=Me+h,fe[Me]={[T]:ee||y.parse(G[Ke],Ke),[P]:E.parse(u[Ke],Ke)};return fe}parseArrayData(s,u,h,g){const{xScale:y,yScale:E}=s,T=new Array(g);let P,G,ee,fe;for(P=0,G=g;P<G;++P)ee=P+h,fe=u[ee],T[P]={x:y.parse(fe[0],ee),y:E.parse(fe[1],ee)};return T}parseObjectData(s,u,h,g){const{xScale:y,yScale:E}=s,{xAxisKey:T="x",yAxisKey:P="y"}=this._parsing,G=new Array(g);let ee,fe,Me,Ve;for(ee=0,fe=g;ee<fe;++ee)Me=ee+h,Ve=u[Me],G[ee]={x:y.parse(ot(Ve,T),Me),y:E.parse(ot(Ve,P),Me)};return G}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,u,h){const y=this._cachedMeta,E=u[s.axis];return Go({keys:es(this.chart,!0),values:u._stacks[s.axis]},E,y.index,{mode:h})}updateRangeFromParsed(s,u,h,g){const y=h[u.axis];let E=null===y?NaN:y;const T=g&&h._stacks[u.axis];g&&T&&(g.values=T,E=Go(g,y,this._cachedMeta.index)),s.min=Math.min(s.min,E),s.max=Math.max(s.max,E)}getMinMax(s,u){const h=this._cachedMeta,g=h._parsed,y=h._sorted&&s===h.iScale,E=g.length,T=this._getOtherScale(s),P=((l,a,s)=>l&&!a.hidden&&a._stacked&&{keys:es(this.chart,!0),values:null})(u,h),G={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:ee,max:fe}=function Gl(l){const{min:a,max:s,minDefined:u,maxDefined:h}=l.getUserBounds();return{min:u?a:Number.NEGATIVE_INFINITY,max:h?s:Number.POSITIVE_INFINITY}}(T);let Me,Ve;function Ke(){Ve=g[Me];const mt=Ve[T.axis];return!nt(Ve[s.axis])||ee>mt||fe<mt}for(Me=0;Me<E&&(Ke()||(this.updateRangeFromParsed(G,s,Ve,P),!y));++Me);if(y)for(Me=E-1;Me>=0;--Me)if(!Ke()){this.updateRangeFromParsed(G,s,Ve,P);break}return G}getAllParsedValues(s){const u=this._cachedMeta._parsed,h=[];let g,y,E;for(g=0,y=u.length;g<y;++g)E=u[g][s.axis],nt(E)&&h.push(E);return h}getMaxOverflow(){return!1}getLabelAndValue(s){const u=this._cachedMeta,h=u.iScale,g=u.vScale,y=this.getParsed(s);return{label:h?""+h.getLabelForValue(y[h.axis]):"",value:g?""+g.getLabelForValue(y[g.axis]):""}}_update(s){const u=this._cachedMeta;this.update(s||"default"),u._clip=function Za(l){let a,s,u,h;return Ye(l)?(a=l.top,s=l.right,u=l.bottom,h=l.left):a=s=u=h=l,{top:a,right:s,bottom:u,left:h,disabled:!1===l}}(ht(this.options.clip,function fo(l,a,s){if(!1===s)return!1;const u=Wo(l,s),h=Wo(a,s);return{top:h.end,right:u.end,bottom:h.start,left:u.start}}(u.xScale,u.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,h=this._cachedMeta,g=h.data||[],y=this.chart.chartArea,E=[],T=this._drawStart||0,P=this._drawCount||g.length-T,G=this.options.drawActiveElementsOnTop;let ee;for(h.dataset&&h.dataset.draw(s,y,T,P),ee=T;ee<T+P;++ee){const fe=g[ee];fe.hidden||(fe.active&&G?E.push(fe):fe.draw(s,y))}for(ee=0;ee<E.length;++ee)E[ee].draw(s,y)}getStyle(s,u){const h=u?"active":"default";return void 0===s&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(h):this.resolveDataElementOptions(s||0,h)}getContext(s,u,h){const g=this.getDataset();let y;if(s>=0&&s<this._cachedMeta.data.length){const E=this._cachedMeta.data[s];y=E.$context||(E.$context=function Na(l,a,s){return pi(l,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:s,index:a,mode:"default",type:"data"})}(this.getContext(),s,E)),y.parsed=this.getParsed(s),y.raw=g.data[s],y.index=y.dataIndex=s}else y=this.$context||(this.$context=function No(l,a){return pi(l,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),y.dataset=g,y.index=y.datasetIndex=this.index;return y.active=!!u,y.mode=h,y}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,u){return this._resolveElementOptions(this.dataElementType.id,u,s)}_resolveElementOptions(s,u="default",h){const g="active"===u,y=this._cachedDataOpts,E=s+"-"+u,T=y[E],P=this.enableOptionSharing&&Pt(h);if(T)return Qa(T,P);const G=this.chart.config,ee=G.datasetElementScopeKeys(this._type,s),fe=g?[`${s}Hover`,"hover",s,""]:[s,""],Me=G.getOptionScopes(this.getDataset(),ee),Ve=Object.keys(Sn.elements[s]),mt=G.resolveNamedOptions(Me,Ve,()=>this.getContext(h,g),fe);return mt.$shared&&(mt.$shared=P,y[E]=Object.freeze(Qa(mt,P))),mt}_resolveAnimations(s,u,h){const g=this.chart,y=this._cachedDataOpts,E=`animation-${u}`,T=y[E];if(T)return T;let P;if(!1!==g.options.animation){const ee=this.chart.config,fe=ee.datasetAnimationScopeKeys(this._type,u),Me=ee.getOptionScopes(this.getDataset(),fe);P=ee.createResolver(Me,this.getContext(s,h,u))}const G=new ho(g,P&&P.animations);return P&&P._cacheable&&(y[E]=Object.freeze(G)),G}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,u){return!u||Zi(s)||this.chart._animationsDisabled}updateElement(s,u,h,g){Zi(g)?Object.assign(s,h):this._resolveAnimations(u,g).update(s,h)}updateSharedOptions(s,u,h){s&&!Zi(u)&&this._resolveAnimations(void 0,u).update(s,h)}_setStyle(s,u,h,g){s.active=g;const y=this.getStyle(u,g);this._resolveAnimations(u,h,g).update(s,{options:!g&&this.getSharedOptions(y)||y})}removeHoverStyle(s,u,h){this._setStyle(s,h,"active",!1)}setHoverStyle(s,u,h){this._setStyle(s,h,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const u=this._data,h=this._cachedMeta.data;for(const[T,P,G]of this._syncList)this[T](P,G);this._syncList=[];const g=h.length,y=u.length,E=Math.min(y,g);E&&this.parse(0,E),y>g?this._insertElements(g,y-g,s):y<g&&this._removeElements(y,g-y)}_insertElements(s,u,h=!0){const g=this._cachedMeta,y=g.data,E=s+u;let T;const P=G=>{for(G.length+=u,T=G.length-1;T>=E;T--)G[T]=G[T-u]};for(P(y),T=s;T<E;++T)y[T]=new this.dataElementType;this._parsing&&P(g._parsed),this.parse(s,u),h&&this.updateElements(y,s,u,"reset")}updateElements(s,u,h,g){}_removeElements(s,u){const h=this._cachedMeta;if(this._parsing){const g=h._parsed.splice(s,u);h._stacked&&Ai(h,g)}h.data.splice(s,u)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[u,h,g]=s;this[u](h,g)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,u){u&&this._sync(["_removeElements",s,u]);const h=arguments.length-2;h&&this._sync(["_insertElements",s,h])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return l.defaults={},l})();function gi(l){const a=l.iScale,s=function sa(l,a){if(!l._cache.$bar){const s=l.getMatchingVisibleMetas(a);let u=[];for(let h=0,g=s.length;h<g;h++)u=u.concat(s[h].controller.getAllParsedValues(l));l._cache.$bar=ki(u.sort((h,g)=>h-g))}return l._cache.$bar}(a,l.type);let h,g,y,E,u=a._length;const T=()=>{32767===y||-32768===y||(Pt(E)&&(u=Math.min(u,Math.abs(y-E)||u)),E=y)};for(h=0,g=s.length;h<g;++h)y=a.getPixelForValue(s[h]),T();for(E=void 0,h=0,g=a.ticks.length;h<g;++h)y=a.getPixelForTick(h),T();return u}function Tl(l,a,s,u){return be(l)?function Xa(l,a,s,u){const h=s.parse(l[0],u),g=s.parse(l[1],u),y=Math.min(h,g),E=Math.max(h,g);let T=y,P=E;Math.abs(y)>Math.abs(E)&&(T=E,P=y),a[s.axis]=P,a._custom={barStart:T,barEnd:P,start:h,end:g,min:y,max:E}}(l,a,s,u):a[s.axis]=s.parse(l,u),a}function sn(l,a,s,u){const h=l.iScale,g=l.vScale,y=h.getLabels(),E=h===g,T=[];let P,G,ee,fe;for(P=s,G=s+u;P<G;++P)fe=a[P],ee={},ee[h.axis]=E||h.parse(y[P],P),T.push(Tl(fe,ee,g,P));return T}function Vr(l){return l&&void 0!==l.barStart&&void 0!==l.barEnd}function _n(l,a,s,u){let h=a.borderSkipped;const g={};if(!h)return void(l.borderSkipped=g);const{start:y,end:E,reverse:T,top:P,bottom:G}=function To(l){let a,s,u,h,g;return l.horizontal?(a=l.base>l.x,s="left",u="right"):(a=l.base<l.y,s="bottom",u="top"),a?(h="end",g="start"):(h="start",g="end"),{start:s,end:u,reverse:a,top:h,bottom:g}}(l);"middle"===h&&s&&(l.enableBorderRadius=!0,(s._top||0)===u?h=P:(s._bottom||0)===u?h=G:(g[M(G,y,E,T)]=!0,h=P)),g[M(h,y,E,T)]=!0,l.borderSkipped=g}function M(l,a,s,u){return u?(l=function k(l,a,s){return l===a?s:l===s?a:l}(l,a,s),l=q(l,s,a)):l=q(l,a,s),l}function q(l,a,s){return"start"===l?a:"end"===l?s:l}function re(l,{inflateAmount:a},s){l.inflateAmount="auto"===a?1===s?.33:0:a}ps.prototype.datasetElementType=null,ps.prototype.dataElementType=null;let Ge=(()=>{class l extends ps{parsePrimitiveData(s,u,h,g){return sn(s,u,h,g)}parseArrayData(s,u,h,g){return sn(s,u,h,g)}parseObjectData(s,u,h,g){const{iScale:y,vScale:E}=s,{xAxisKey:T="x",yAxisKey:P="y"}=this._parsing,G="x"===y.axis?T:P,ee="x"===E.axis?T:P,fe=[];let Me,Ve,Ke,mt;for(Me=h,Ve=h+g;Me<Ve;++Me)mt=u[Me],Ke={},Ke[y.axis]=y.parse(ot(mt,G),Me),fe.push(Tl(ot(mt,ee),Ke,E,Me));return fe}updateRangeFromParsed(s,u,h,g){super.updateRangeFromParsed(s,u,h,g);const y=h._custom;y&&u===this._cachedMeta.vScale&&(s.min=Math.min(s.min,y.min),s.max=Math.max(s.max,y.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const u=this._cachedMeta,{iScale:h,vScale:g}=u,y=this.getParsed(s),E=y._custom,T=Vr(E)?"["+E.start+", "+E.end+"]":""+g.getLabelForValue(y[g.axis]);return{label:""+h.getLabelForValue(y[h.axis]),value:T}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(s){const u=this._cachedMeta;this.updateElements(u.data,0,u.data.length,s)}updateElements(s,u,h,g){const y="reset"===g,{index:E,_cachedMeta:{vScale:T}}=this,P=T.getBasePixel(),G=T.isHorizontal(),ee=this._getRuler(),fe=this.resolveDataElementOptions(u,g),Me=this.getSharedOptions(fe),Ve=this.includeOptions(g,Me);this.updateSharedOptions(Me,g,fe);for(let Ke=u;Ke<u+h;Ke++){const mt=this.getParsed(Ke),Et=y||he(mt[T.axis])?{base:P,head:P}:this._calculateBarValuePixels(Ke),zt=this._calculateBarIndexPixels(Ke,ee),wn=(mt._stacks||{})[T.axis],nn={horizontal:G,base:Et.base,enableBorderRadius:!wn||Vr(mt._custom)||E===wn._top||E===wn._bottom,x:G?Et.head:zt.center,y:G?zt.center:Et.head,height:G?zt.size:Math.abs(Et.size),width:G?Math.abs(Et.size):zt.size};Ve&&(nn.options=Me||this.resolveDataElementOptions(Ke,s[Ke].active?"active":g));const Wt=nn.options||s[Ke].options;_n(nn,Wt,wn,E),re(nn,Wt,ee.ratio),this.updateElement(s[Ke],Ke,nn,g)}}_getStacks(s,u){const g=this._cachedMeta.iScale,y=g.getMatchingVisibleMetas(this._type),E=g.options.stacked,T=y.length,P=[];let G,ee;for(G=0;G<T;++G)if(ee=y[G],ee.controller.options.grouped){if(void 0!==u){const fe=ee.controller.getParsed(u)[ee.controller._cachedMeta.vScale.axis];if(he(fe)||isNaN(fe))continue}if((!1===E||-1===P.indexOf(ee.stack)||void 0===E&&void 0===ee.stack)&&P.push(ee.stack),ee.index===s)break}return P.length||P.push(void 0),P}_getStackCount(s){return this._getStacks(void 0,s).length}_getStackIndex(s,u,h){const g=this._getStacks(s,h),y=void 0!==u?g.indexOf(u):-1;return-1===y?g.length-1:y}_getRuler(){const s=this.options,u=this._cachedMeta,h=u.iScale,g=[];let y,E;for(y=0,E=u.data.length;y<E;++y)g.push(h.getPixelForValue(this.getParsed(y)[h.axis],y));const T=s.barThickness;return{min:T||gi(u),pixels:g,start:h._startPixel,end:h._endPixel,stackCount:this._getStackCount(),scale:h,grouped:s.grouped,ratio:T?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:u,_stacked:h},options:{base:g,minBarLength:y}}=this,E=g||0,T=this.getParsed(s),P=T._custom,G=Vr(P);let Ve,Ke,ee=T[u.axis],fe=0,Me=h?this.applyStack(u,T,h):ee;Me!==ee&&(fe=Me-ee,Me=ee),G&&(ee=P.barStart,Me=P.barEnd-P.barStart,0!==ee&&pr(ee)!==pr(P.barEnd)&&(fe=0),fe+=ee);const mt=he(g)||G?fe:g;let Et=u.getPixelForValue(mt);if(Ve=this.chart.getDataVisibility(s)?u.getPixelForValue(fe+Me):Et,Ke=Ve-Et,Math.abs(Ke)<y&&(Ke=function Lo(l,a,s){return 0!==l?pr(l):(a.isHorizontal()?1:-1)*(a.min>=s?1:-1)}(Ke,u,E)*y,ee===E&&(Et-=Ke/2),Ve=Et+Ke),Et===u.getPixelForValue(E)){const zt=pr(Ke)*u.getLineWidthForValue(E)/2;Et+=zt,Ke-=zt}return{size:Ke,base:Et,head:Ve,center:Ve+Ke/2}}_calculateBarIndexPixels(s,u){const h=u.scale,g=this.options,y=g.skipNull,E=ht(g.maxBarThickness,1/0);let T,P;if(u.grouped){const G=y?this._getStackCount(s):u.stackCount,ee="flex"===g.barThickness?function Io(l,a,s,u){const h=a.pixels,g=h[l];let y=l>0?h[l-1]:null,E=l<h.length-1?h[l+1]:null;const T=s.categoryPercentage;null===y&&(y=g-(null===E?a.end-a.start:E-g)),null===E&&(E=g+g-y);const P=g-(g-Math.min(y,E))/2*T;return{chunk:Math.abs(E-y)/2*T/u,ratio:s.barPercentage,start:P}}(s,u,g,G):function ss(l,a,s,u){const h=s.barThickness;let g,y;return he(h)?(g=a.min*s.categoryPercentage,y=s.barPercentage):(g=h*u,y=1),{chunk:g/u,ratio:y,start:a.pixels[l]-g/2}}(s,u,g,G),fe=this._getStackIndex(this.index,this._cachedMeta.stack,y?s:void 0);T=ee.start+ee.chunk*fe+ee.chunk/2,P=Math.min(E,ee.chunk*ee.ratio)}else T=h.getPixelForValue(this.getParsed(s)[h.axis],s),P=Math.min(E,u.min*u.ratio);return{base:T-P/2,head:T+P/2,center:T,size:P}}draw(){const s=this._cachedMeta,u=s.vScale,h=s.data,g=h.length;let y=0;for(;y<g;++y)null!==this.getParsed(y)[u.axis]&&h[y].draw(this._ctx)}}return l.id="bar",l.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},l.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},l})(),ln=(()=>{class l extends ps{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,u,h,g){const y=super.parsePrimitiveData(s,u,h,g);for(let E=0;E<y.length;E++)y[E]._custom=this.resolveDataElementOptions(E+h).radius;return y}parseArrayData(s,u,h,g){const y=super.parseArrayData(s,u,h,g);for(let E=0;E<y.length;E++)y[E]._custom=ht(u[h+E][2],this.resolveDataElementOptions(E+h).radius);return y}parseObjectData(s,u,h,g){const y=super.parseObjectData(s,u,h,g);for(let E=0;E<y.length;E++){const T=u[h+E];y[E]._custom=ht(T&&T.r&&+T.r,this.resolveDataElementOptions(E+h).radius)}return y}getMaxOverflow(){const s=this._cachedMeta.data;let u=0;for(let h=s.length-1;h>=0;--h)u=Math.max(u,s[h].size(this.resolveDataElementOptions(h))/2);return u>0&&u}getLabelAndValue(s){const u=this._cachedMeta,{xScale:h,yScale:g}=u,y=this.getParsed(s),E=h.getLabelForValue(y.x),T=g.getLabelForValue(y.y),P=y._custom;return{label:u.label,value:"("+E+", "+T+(P?", "+P:"")+")"}}update(s){const u=this._cachedMeta.data;this.updateElements(u,0,u.length,s)}updateElements(s,u,h,g){const y="reset"===g,{iScale:E,vScale:T}=this._cachedMeta,P=this.resolveDataElementOptions(u,g),G=this.getSharedOptions(P),ee=this.includeOptions(g,G),fe=E.axis,Me=T.axis;for(let Ve=u;Ve<u+h;Ve++){const Ke=s[Ve],mt=!y&&this.getParsed(Ve),Et={},zt=Et[fe]=y?E.getPixelForDecimal(.5):E.getPixelForValue(mt[fe]),wn=Et[Me]=y?T.getBasePixel():T.getPixelForValue(mt[Me]);Et.skip=isNaN(zt)||isNaN(wn),ee&&(Et.options=this.resolveDataElementOptions(Ve,Ke.active?"active":g),y&&(Et.options.radius=0)),this.updateElement(Ke,Ve,Et,g)}this.updateSharedOptions(G,g,P)}resolveDataElementOptions(s,u){const h=this.getParsed(s);let g=super.resolveDataElementOptions(s,u);g.$shared&&(g=Object.assign({},g,{$shared:!1}));const y=g.radius;return"active"!==u&&(g.radius=0),g.radius+=ht(h&&h._custom,y),g}}return l.id="bubble",l.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},l.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},l})(),Si=(()=>{class l extends ps{constructor(s,u){super(s,u),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,u){const h=this.getDataset().data,g=this._cachedMeta;if(!1===this._parsing)g._parsed=h;else{let E,T,y=P=>+h[P];if(Ye(h[s])){const{key:P="value"}=this._parsing;y=G=>+ot(h[G],P)}for(E=s,T=s+u;E<T;++E)g._parsed[E]=y(E)}}_getRotation(){return $n(this.options.rotation-90)}_getCircumference(){return $n(this.options.circumference)}_getRotationExtents(){let s=cn,u=-cn;for(let h=0;h<this.chart.data.datasets.length;++h)if(this.chart.isDatasetVisible(h)){const g=this.chart.getDatasetMeta(h).controller,y=g._getRotation(),E=g._getCircumference();s=Math.min(s,y),u=Math.max(u,y+E)}return{rotation:s,circumference:u-s}}update(s){const u=this.chart,{chartArea:h}=u,g=this._cachedMeta,y=g.data,E=this.getMaxBorderWidth()+this.getMaxOffset(y)+this.options.spacing,T=Math.max((Math.min(h.width,h.height)-E)/2,0),P=Math.min(((l,a)=>"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:l/a)(this.options.cutout,T),1),G=this._getRingWeight(this.index),{circumference:ee,rotation:fe}=this._getRotationExtents(),{ratioX:Me,ratioY:Ve,offsetX:Ke,offsetY:mt}=function wi(l,a,s){let u=1,h=1,g=0,y=0;if(a<cn){const E=l,T=E+a,P=Math.cos(E),G=Math.sin(E),ee=Math.cos(T),fe=Math.sin(T),Me=(wn,nn,Wt)=>xr(wn,E,T,!0)?1:Math.max(nn,nn*s,Wt,Wt*s),Ve=(wn,nn,Wt)=>xr(wn,E,T,!0)?-1:Math.min(nn,nn*s,Wt,Wt*s),Ke=Me(0,P,ee),mt=Me(Gt,G,fe),Et=Ve(jt,P,ee),zt=Ve(jt+Gt,G,fe);u=(Ke-Et)/2,h=(mt-zt)/2,g=-(Ke+Et)/2,y=-(mt+zt)/2}return{ratioX:u,ratioY:h,offsetX:g,offsetY:y}}(fe,ee,P),wn=Math.max(Math.min((h.width-E)/Me,(h.height-E)/Ve)/2,0),nn=lt(this.options.radius,wn),En=(nn-Math.max(nn*P,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Ke*nn,this.offsetY=mt*nn,g.total=this.calculateTotal(),this.outerRadius=nn-En*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-En*G,0),this.updateElements(y,0,y.length,s)}_circumference(s,u){const h=this.options,g=this._cachedMeta,y=this._getCircumference();return u&&h.animation.animateRotate||!this.chart.getDataVisibility(s)||null===g._parsed[s]||g.data[s].hidden?0:this.calculateCircumference(g._parsed[s]*y/cn)}updateElements(s,u,h,g){const y="reset"===g,E=this.chart,T=E.chartArea,ee=(T.left+T.right)/2,fe=(T.top+T.bottom)/2,Me=y&&E.options.animation.animateScale,Ve=Me?0:this.innerRadius,Ke=Me?0:this.outerRadius,mt=this.resolveDataElementOptions(u,g),Et=this.getSharedOptions(mt),zt=this.includeOptions(g,Et);let nn,wn=this._getRotation();for(nn=0;nn<u;++nn)wn+=this._circumference(nn,y);for(nn=u;nn<u+h;++nn){const Wt=this._circumference(nn,y),En=s[nn],xn={x:ee+this.offsetX,y:fe+this.offsetY,startAngle:wn,endAngle:wn+Wt,circumference:Wt,outerRadius:Ke,innerRadius:Ve};zt&&(xn.options=Et||this.resolveDataElementOptions(nn,En.active?"active":g)),wn+=Wt,this.updateElement(En,nn,xn,g)}this.updateSharedOptions(Et,g,mt)}calculateTotal(){const s=this._cachedMeta,u=s.data;let g,h=0;for(g=0;g<u.length;g++){const y=s._parsed[g];null!==y&&!isNaN(y)&&this.chart.getDataVisibility(g)&&!u[g].hidden&&(h+=Math.abs(y))}return h}calculateCircumference(s){const u=this._cachedMeta.total;return u>0&&!isNaN(s)?cn*(Math.abs(s)/u):0}getLabelAndValue(s){const h=this.chart,g=h.data.labels||[],y=xi(this._cachedMeta._parsed[s],h.options.locale);return{label:g[s]||"",value:y}}getMaxBorderWidth(s){let u=0;const h=this.chart;let g,y,E,T,P;if(!s)for(g=0,y=h.data.datasets.length;g<y;++g)if(h.isDatasetVisible(g)){E=h.getDatasetMeta(g),s=E.data,T=E.controller;break}if(!s)return 0;for(g=0,y=s.length;g<y;++g)P=T.resolveDataElementOptions(g),"inner"!==P.borderAlign&&(u=Math.max(u,P.borderWidth||0,P.hoverBorderWidth||0));return u}getMaxOffset(s){let u=0;for(let h=0,g=s.length;h<g;++h){const y=this.resolveDataElementOptions(h);u=Math.max(u,y.offset||0,y.hoverOffset||0)}return u}_getRingWeightOffset(s){let u=0;for(let h=0;h<s;++h)this.chart.isDatasetVisible(h)&&(u+=this._getRingWeight(h));return u}_getRingWeight(s){return Math.max(ht(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return l.id="doughnut",l.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},l.descriptors={_scriptable:a=>"spacing"!==a,_indexable:a=>"spacing"!==a},l.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const s=a.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:u}}=a.legend.options;return s.labels.map((h,g)=>{const E=a.getDatasetMeta(0).controller.getStyle(g);return{text:h,fillStyle:E.backgroundColor,strokeStyle:E.borderColor,lineWidth:E.borderWidth,pointStyle:u,hidden:!a.getDataVisibility(g),index:g}})}return[]}},onClick(a,s,u){u.chart.toggleDataVisibility(s.index),u.chart.update()}},tooltip:{callbacks:{title:()=>"",label(a){let s=a.label;const u=": "+a.formattedValue;return be(s)?(s=s.slice(),s[0]+=u):s+=u,s}}}}},l})(),vs=(()=>{class l extends ps{initialize(){this.enableOptionSharing=!0,super.initialize()}update(s){const u=this._cachedMeta,{dataset:h,data:g=[],_dataset:y}=u,E=this.chart._animationsDisabled;let{start:T,count:P}=function oa(l,a,s){const u=a.length;let h=0,g=u;if(l._sorted){const{iScale:y,_parsed:E}=l,T=y.axis,{min:P,max:G,minDefined:ee,maxDefined:fe}=y.getUserBounds();ee&&(h=er(Math.min(Ri(E,y.axis,P).lo,s?u:Ri(a,T,y.getPixelForValue(P)).lo),0,u-1)),g=fe?er(Math.max(Ri(E,y.axis,G).hi+1,s?0:Ri(a,T,y.getPixelForValue(G)).hi+1),h,u)-h:u-h}return{start:h,count:g}}(u,g,E);this._drawStart=T,this._drawCount=P,function La(l){const{xScale:a,yScale:s,_scaleRanges:u}=l,h={xmin:a.min,xmax:a.max,ymin:s.min,ymax:s.max};if(!u)return l._scaleRanges=h,!0;const g=u.xmin!==a.min||u.xmax!==a.max||u.ymin!==s.min||u.ymax!==s.max;return Object.assign(u,h),g}(u)&&(T=0,P=g.length),h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!y._decimated,h.points=g;const G=this.resolveDatasetElementOptions(s);this.options.showLine||(G.borderWidth=0),G.segment=this.options.segment,this.updateElement(h,void 0,{animated:!E,options:G},s),this.updateElements(g,T,P,s)}updateElements(s,u,h,g){const y="reset"===g,{iScale:E,vScale:T,_stacked:P,_dataset:G}=this._cachedMeta,ee=this.resolveDataElementOptions(u,g),fe=this.getSharedOptions(ee),Me=this.includeOptions(g,fe),Ve=E.axis,Ke=T.axis,{spanGaps:mt,segment:Et}=this.options,zt=br(mt)?mt:Number.POSITIVE_INFINITY,wn=this.chart._animationsDisabled||y||"none"===g;let nn=u>0&&this.getParsed(u-1);for(let Wt=u;Wt<u+h;++Wt){const En=s[Wt],xn=this.getParsed(Wt),Gn=wn?En:{},or=he(xn[Ke]),Di=Gn[Ve]=E.getPixelForValue(xn[Ve],Wt),yi=Gn[Ke]=y||or?T.getBasePixel():T.getPixelForValue(P?this.applyStack(T,xn,P):xn[Ke],Wt);Gn.skip=isNaN(Di)||isNaN(yi)||or,Gn.stop=Wt>0&&xn[Ve]-nn[Ve]>zt,Et&&(Gn.parsed=xn,Gn.raw=G.data[Wt]),Me&&(Gn.options=fe||this.resolveDataElementOptions(Wt,En.active?"active":g)),wn||this.updateElement(En,Wt,Gn,g),nn=xn}this.updateSharedOptions(fe,g,ee)}getMaxOverflow(){const s=this._cachedMeta,u=s.dataset,h=u.options&&u.options.borderWidth||0,g=s.data||[];if(!g.length)return h;const y=g[0].size(this.resolveDataElementOptions(0)),E=g[g.length-1].size(this.resolveDataElementOptions(g.length-1));return Math.max(h,y,E)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}return l.id="line",l.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},l.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},l})(),xl=(()=>{class l extends ps{constructor(s,u){super(s,u),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const h=this.chart,g=h.data.labels||[],y=xi(this._cachedMeta._parsed[s].r,h.options.locale);return{label:g[s]||"",value:y}}update(s){const u=this._cachedMeta.data;this._updateRadius(),this.updateElements(u,0,u.length,s)}_updateRadius(){const s=this.chart,u=s.chartArea,h=s.options,g=Math.min(u.right-u.left,u.bottom-u.top),y=Math.max(g/2,0),T=(y-Math.max(h.cutoutPercentage?y/100*h.cutoutPercentage:1,0))/s.getVisibleDatasetCount();this.outerRadius=y-T*this.index,this.innerRadius=this.outerRadius-T}updateElements(s,u,h,g){const y="reset"===g,E=this.chart,T=this.getDataset(),G=E.options.animation,ee=this._cachedMeta.rScale,fe=ee.xCenter,Me=ee.yCenter,Ve=ee.getIndexAngle(0)-.5*jt;let mt,Ke=Ve;const Et=360/this.countVisibleElements();for(mt=0;mt<u;++mt)Ke+=this._computeAngle(mt,g,Et);for(mt=u;mt<u+h;mt++){const zt=s[mt];let wn=Ke,nn=Ke+this._computeAngle(mt,g,Et),Wt=E.getDataVisibility(mt)?ee.getDistanceFromCenterForValue(T.data[mt]):0;Ke=nn,y&&(G.animateScale&&(Wt=0),G.animateRotate&&(wn=nn=Ve));const En={x:fe,y:Me,innerRadius:0,outerRadius:Wt,startAngle:wn,endAngle:nn,options:this.resolveDataElementOptions(mt,zt.active?"active":g)};this.updateElement(zt,mt,En,g)}}countVisibleElements(){const s=this.getDataset();let h=0;return this._cachedMeta.data.forEach((g,y)=>{!isNaN(s.data[y])&&this.chart.getDataVisibility(y)&&h++}),h}_computeAngle(s,u,h){return this.chart.getDataVisibility(s)?$n(this.resolveDataElementOptions(s,u).angle||h):0}}return l.id="polarArea",l.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},l.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const s=a.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:u}}=a.legend.options;return s.labels.map((h,g)=>{const E=a.getDatasetMeta(0).controller.getStyle(g);return{text:h,fillStyle:E.backgroundColor,strokeStyle:E.borderColor,lineWidth:E.borderWidth,pointStyle:u,hidden:!a.getDataVisibility(g),index:g}})}return[]}},onClick(a,s,u){u.chart.toggleDataVisibility(s.index),u.chart.update()}},tooltip:{callbacks:{title:()=>"",label:a=>a.chart.data.labels[a.dataIndex]+": "+a.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},l})(),Ta=(()=>{class l extends Si{}return l.id="pie",l.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},l})(),Fa=(()=>{class l extends ps{getLabelAndValue(s){const u=this._cachedMeta.vScale,h=this.getParsed(s);return{label:u.getLabels()[s],value:""+u.getLabelForValue(h[u.axis])}}update(s){const u=this._cachedMeta,h=u.dataset,g=u.data||[],y=u.iScale.getLabels();if(h.points=g,"resize"!==s){const E=this.resolveDatasetElementOptions(s);this.options.showLine||(E.borderWidth=0),this.updateElement(h,void 0,{_loop:!0,_fullLoop:y.length===g.length,options:E},s)}this.updateElements(g,0,g.length,s)}updateElements(s,u,h,g){const y=this.getDataset(),E=this._cachedMeta.rScale,T="reset"===g;for(let P=u;P<u+h;P++){const G=s[P],ee=this.resolveDataElementOptions(P,G.active?"active":g),fe=E.getPointPositionForValue(P,y.data[P]),Me=T?E.xCenter:fe.x,Ve=T?E.yCenter:fe.y,Ke={x:Me,y:Ve,angle:fe.angle,skip:isNaN(Me)||isNaN(Ve),options:ee};this.updateElement(G,P,Ke,g)}}}return l.id="radar",l.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},l.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},l})(),Ko=(()=>{class l extends vs{}return l.id="scatter",l.defaults={showLine:!1,fill:!1},l.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:a=>"("+a.label+", "+a.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},l})();function xs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var A={_date:(()=>{class l{constructor(s){this.options=s||{}}formats(){return xs()}parse(s,u){return xs()}format(s,u){return xs()}add(s,u,h){return xs()}diff(s,u,h){return xs()}startOf(s,u,h){return xs()}endOf(s,u){return xs()}}return l.override=function(a){Object.assign(l.prototype,a)},l})()};function x(l,a){return"native"in l?{x:l.x,y:l.y}:zn(l,a)}function K(l,a,s,u){const{controller:h,data:g,_sorted:y}=l,E=h._cachedMeta.iScale;if(E&&a===E.axis&&"r"!==a&&y&&g.length){const T=E._reversePixels?so:Ri;if(!u)return T(g,a,s);if(h._sharedOptions){const P=g[0],G="function"==typeof P.getRange&&P.getRange(a);if(G){const ee=T(g,a,s-G),fe=T(g,a,s+G);return{lo:ee.lo,hi:fe.hi}}}}return{lo:0,hi:g.length-1}}function ne(l,a,s,u,h){const g=l.getSortedVisibleDatasetMetas(),y=s[a];for(let E=0,T=g.length;E<T;++E){const{index:P,data:G}=g[E],{lo:ee,hi:fe}=K(g[E],a,y,h);for(let Me=ee;Me<=fe;++Me){const Ve=G[Me];Ve.skip||u(Ve,P,Me)}}}function Ue(l,a,s,u){const h=[];return Hn(a,l.chartArea,l._minPadding)&&ne(l,s,a,function(y,E,T){y.inRange(a.x,a.y,u)&&h.push({element:y,datasetIndex:E,index:T})},!0),h}function Cn(l,a,s,u,h){return Hn(a,l.chartArea,l._minPadding)?"r"!==s||u?function hn(l,a,s,u,h){let g=[];const y=function Oe(l){const a=-1!==l.indexOf("x"),s=-1!==l.indexOf("y");return function(u,h){const g=a?Math.abs(u.x-h.x):0,y=s?Math.abs(u.y-h.y):0;return Math.sqrt(Math.pow(g,2)+Math.pow(y,2))}}(s);let E=Number.POSITIVE_INFINITY;return ne(l,s,a,function T(P,G,ee){const fe=P.inRange(a.x,a.y,h);if(u&&!fe)return;const Me=P.getCenterPoint(h);if(!Hn(Me,l.chartArea,l._minPadding)&&!fe)return;const Ke=y(a,Me);Ke<E?(g=[{element:P,datasetIndex:G,index:ee}],E=Ke):Ke===E&&g.push({element:P,datasetIndex:G,index:ee})}),g}(l,a,s,u,h):function Ot(l,a,s,u){let h=[];return ne(l,s,a,function g(y,E,T){const{startAngle:P,endAngle:G}=y.getProps(["startAngle","endAngle"],u),{angle:ee}=Ur(y,{x:a.x,y:a.y});xr(ee,P,G)&&h.push({element:y,datasetIndex:E,index:T})}),h}(l,a,s,h):[]}function Bn(l,a,s,u){const h=x(a,l),g=[],y=s.axis,E="x"===y?"inXRange":"inYRange";let T=!1;return function j(l,a){const s=l.getSortedVisibleDatasetMetas();let u,h,g;for(let y=0,E=s.length;y<E;++y){({index:u,data:h}=s[y]);for(let T=0,P=h.length;T<P;++T)g=h[T],g.skip||a(g,u,T)}}(l,(P,G,ee)=>{P[E](h[y],u)&&g.push({element:P,datasetIndex:G,index:ee}),P.inRange(h.x,h.y,u)&&(T=!0)}),s.intersect&&!T?[]:g}var _r={modes:{index(l,a,s,u){const h=x(a,l),g=s.axis||"x",y=s.intersect?Ue(l,h,g,u):Cn(l,h,g,!1,u),E=[];return y.length?(l.getSortedVisibleDatasetMetas().forEach(T=>{const P=y[0].index,G=T.data[P];G&&!G.skip&&E.push({element:G,datasetIndex:T.index,index:P})}),E):[]},dataset(l,a,s,u){const h=x(a,l),g=s.axis||"xy";let y=s.intersect?Ue(l,h,g,u):Cn(l,h,g,!1,u);if(y.length>0){const E=y[0].datasetIndex,T=l.getDatasetMeta(E).data;y=[];for(let P=0;P<T.length;++P)y.push({element:T[P],datasetIndex:E,index:P})}return y},point:(l,a,s,u)=>Ue(l,x(a,l),s.axis||"xy",u),nearest:(l,a,s,u)=>Cn(l,x(a,l),s.axis||"xy",s.intersect,u),x:(l,a,s,u)=>Bn(l,a,{axis:"x",intersect:s.intersect},u),y:(l,a,s,u)=>Bn(l,a,{axis:"y",intersect:s.intersect},u)}};const Er=["left","top","right","bottom"];function $s(l,a){return l.filter(s=>s.pos===a)}function ci(l,a){return l.filter(s=>-1===Er.indexOf(s.pos)&&s.box.axis===a)}function qo(l,a){return l.sort((s,u)=>{const h=a?u:s,g=a?s:u;return h.weight===g.weight?h.index-g.index:h.weight-g.weight})}function Kl(l,a,s,u){return Math.max(l[s],a[s])+Math.max(l[u],a[u])}function aa(l,a){l.top=Math.max(l.top,a.top),l.left=Math.max(l.left,a.left),l.bottom=Math.max(l.bottom,a.bottom),l.right=Math.max(l.right,a.right)}function Tc(l,a,s,u){const{pos:h,box:g}=s,y=l.maxPadding;if(!Ye(h)){s.size&&(l[h]-=s.size);const ee=u[s.stack]||{size:0,count:1};ee.size=Math.max(ee.size,s.horizontal?g.height:g.width),s.size=ee.size/ee.count,l[h]+=s.size}g.getPadding&&aa(y,g.getPadding());const E=Math.max(0,a.outerWidth-Kl(y,l,"left","right")),T=Math.max(0,a.outerHeight-Kl(y,l,"top","bottom")),P=E!==l.w,G=T!==l.h;return l.w=E,l.h=T,s.horizontal?{same:P,other:G}:{same:G,other:P}}function Mi(l,a){const s=a.maxPadding;return function u(h){const g={left:0,top:0,right:0,bottom:0};return h.forEach(y=>{g[y]=Math.max(a[y],s[y])}),g}(l?["left","right"]:["top","bottom"])}function el(l,a,s,u){const h=[];let g,y,E,T,P,G;for(g=0,y=l.length,P=0;g<y;++g){E=l[g],T=E.box,T.update(E.width||a.w,E.height||a.h,Mi(E.horizontal,a));const{same:ee,other:fe}=Tc(a,s,E,u);P|=ee&&h.length,G=G||fe,T.fullSize||h.push(E)}return P&&el(h,a,s,u)||G}function ou(l,a,s,u,h){l.top=s,l.left=a,l.right=a+u,l.bottom=s+h,l.width=u,l.height=h}function mn(l,a,s,u){const h=s.padding;let{x:g,y}=a;for(const E of l){const T=E.box,P=u[E.stack]||{count:1,placed:0,weight:1},G=E.stackWeight/P.weight||1;if(E.horizontal){const ee=a.w*G,fe=P.size||T.height;Pt(P.start)&&(y=P.start),T.fullSize?ou(T,h.left,y,s.outerWidth-h.right-h.left,fe):ou(T,a.left+P.placed,y,ee,fe),P.start=y,P.placed+=ee,y=T.bottom}else{const ee=a.h*G,fe=P.size||T.width;Pt(P.start)&&(g=P.start),T.fullSize?ou(T,g,h.top,fe,s.outerHeight-h.bottom-h.top):ou(T,g,a.top+P.placed,fe,ee),P.start=g,P.placed+=ee,g=T.right}}a.x=g,a.y=y}Sn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ks={addBox(l,a){l.boxes||(l.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(s){a.draw(s)}}]},l.boxes.push(a)},removeBox(l,a){const s=l.boxes?l.boxes.indexOf(a):-1;-1!==s&&l.boxes.splice(s,1)},configure(l,a,s){a.fullSize=s.fullSize,a.position=s.position,a.weight=s.weight},update(l,a,s,u){if(!l)return;const h=pn(l.options.layout.padding),g=Math.max(a-h.width,0),y=Math.max(s-h.height,0),E=function su(l){const a=function Rs(l){const a=[];let s,u,h,g,y,E;for(s=0,u=(l||[]).length;s<u;++s)h=l[s],({position:g,options:{stack:y,stackWeight:E=1}}=h),a.push({index:s,box:h,pos:g,horizontal:h.isHorizontal(),weight:h.weight,stack:y&&g+y,stackWeight:E});return a}(l),s=qo(a.filter(P=>P.box.fullSize),!0),u=qo($s(a,"left"),!0),h=qo($s(a,"right")),g=qo($s(a,"top"),!0),y=qo($s(a,"bottom")),E=ci(a,"x"),T=ci(a,"y");return{fullSize:s,leftAndTop:u.concat(g),rightAndBottom:h.concat(T).concat(y).concat(E),chartArea:$s(a,"chartArea"),vertical:u.concat(h).concat(T),horizontal:g.concat(y).concat(E)}}(l.boxes),T=E.vertical,P=E.horizontal;Dt(l.boxes,Ke=>{"function"==typeof Ke.beforeLayout&&Ke.beforeLayout()});const G=T.reduce((Ke,mt)=>mt.box.options&&!1===mt.box.options.display?Ke:Ke+1,0)||1,ee=Object.freeze({outerWidth:a,outerHeight:s,padding:h,availableWidth:g,availableHeight:y,vBoxMaxWidth:g/2/G,hBoxMaxHeight:y/2}),fe=Object.assign({},h);aa(fe,pn(u));const Me=Object.assign({maxPadding:fe,w:g,h:y,x:h.left,y:h.top},h),Ve=function As(l,a){const s=function ui(l){const a={};for(const s of l){const{stack:u,pos:h,stackWeight:g}=s;if(!u||!Er.includes(h))continue;const y=a[u]||(a[u]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=g}return a}(l),{vBoxMaxWidth:u,hBoxMaxHeight:h}=a;let g,y,E;for(g=0,y=l.length;g<y;++g){E=l[g];const{fullSize:T}=E.box,P=s[E.stack],G=P&&E.stackWeight/P.weight;E.horizontal?(E.width=G?G*u:T&&a.availableWidth,E.height=h):(E.width=u,E.height=G?G*h:T&&a.availableHeight)}return s}(T.concat(P),ee);el(E.fullSize,Me,ee,Ve),el(T,Me,ee,Ve),el(P,Me,ee,Ve)&&el(T,Me,ee,Ve),function Ja(l){const a=l.maxPadding;function s(u){const h=Math.max(a[u]-l[u],0);return l[u]+=h,h}l.y+=s("top"),l.x+=s("left"),s("right"),s("bottom")}(Me),mn(E.leftAndTop,Me,ee,Ve),Me.x+=Me.w,Me.y+=Me.h,mn(E.rightAndBottom,Me,ee,Ve),l.chartArea={left:Me.left,top:Me.top,right:Me.left+Me.w,bottom:Me.top+Me.h,height:Me.h,width:Me.w},Dt(E.chartArea,Ke=>{const mt=Ke.box;Object.assign(mt,l.chartArea),mt.update(Me.w,Me.h,{left:0,top:0,right:0,bottom:0})})}};class au{acquireContext(a,s){}releaseContext(a){return!1}addEventListener(a,s,u){}removeEventListener(a,s,u){}getDevicePixelRatio(){return 1}getMaximumSize(a,s,u,h){return s=Math.max(0,s||a.width),u=u||a.height,{width:s,height:Math.max(0,h?Math.floor(s/h):u)}}isAttached(a){return!0}updateConfig(a){}}class Al extends au{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}}const Zo="$chartjs",la={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tl=l=>null===l||""===l,Va=!!z&&{passive:!0};function nl(l,a,s){l.canvas.removeEventListener(a,s,Va)}function Yi(l,a){for(const s of l)if(s===a||s.contains(a))return!0}function po(l,a,s){const u=l.canvas,h=new MutationObserver(g=>{let y=!1;for(const E of g)y=y||Yi(E.addedNodes,u),y=y&&!Yi(E.removedNodes,u);y&&s()});return h.observe(document,{childList:!0,subtree:!0}),h}function ql(l,a,s){const u=l.canvas,h=new MutationObserver(g=>{let y=!1;for(const E of g)y=y||Yi(E.removedNodes,u),y=y&&!Yi(E.addedNodes,u);y&&s()});return h.observe(document,{childList:!0,subtree:!0}),h}const go=new Map;let eo=0;function Ua(){const l=window.devicePixelRatio;l!==eo&&(eo=l,go.forEach((a,s)=>{s.currentDevicePixelRatio!==l&&a()}))}function Rd(l,a,s){const u=l.canvas,h=u&&Pr(u);if(!h)return;const g=Se((E,T)=>{const P=h.clientWidth;s(E,T),P<h.clientWidth&&s()},window),y=new ResizeObserver(E=>{const T=E[0],P=T.contentRect.width,G=T.contentRect.height;0===P&&0===G||g(P,G)});return y.observe(h),function zu(l,a){go.size||window.addEventListener("resize",Ua),go.set(l,a)}(l,g),y}function lu(l,a,s){s&&s.disconnect(),"resize"===a&&function Th(l){go.delete(l),go.size||window.removeEventListener("resize",Ua)}(l)}function Qi(l,a,s){const u=l.canvas,h=Se(g=>{null!==l.ctx&&s(function gl(l,a){const s=la[l.type]||l.type,{x:u,y:h}=zn(l,a);return{type:s,chart:a,native:l,x:void 0!==u?u:null,y:void 0!==h?h:null}}(g,l))},l,g=>{const y=g[0];return[y,y.offsetX,y.offsetY]});return function Ba(l,a,s){l.addEventListener(a,s,Va)}(u,a,h),h}class to extends au{acquireContext(a,s){const u=a&&a.getContext&&a.getContext("2d");return u&&u.canvas===a?(function os(l,a){const s=l.style,u=l.getAttribute("height"),h=l.getAttribute("width");if(l[Zo]={initial:{height:u,width:h,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",tl(h)){const g=U(l,"width");void 0!==g&&(l.width=g)}if(tl(u))if(""===l.style.height)l.height=l.width/(a||2);else{const g=U(l,"height");void 0!==g&&(l.height=g)}}(a,s),u):null}releaseContext(a){const s=a.canvas;if(!s[Zo])return!1;const u=s[Zo].initial;["height","width"].forEach(g=>{const y=u[g];he(y)?s.removeAttribute(g):s.setAttribute(g,y)});const h=u.style||{};return Object.keys(h).forEach(g=>{s.style[g]=h[g]}),s.width=s.width,delete s[Zo],!0}addEventListener(a,s,u){this.removeEventListener(a,s),(a.$proxies||(a.$proxies={}))[s]=({attach:po,detach:ql,resize:Rd}[s]||Qi)(a,s,u)}removeEventListener(a,s){const u=a.$proxies||(a.$proxies={}),h=u[s];h&&(({attach:lu,detach:lu,resize:lu}[s]||nl)(a,s,h),u[s]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,s,u,h){return function Fs(l,a,s,u){const h=gr(l),g=Lr(h,"margin"),y=rr(h.maxWidth,l,"clientWidth")||on,E=rr(h.maxHeight,l,"clientHeight")||on,T=function Cs(l,a,s){let u,h;if(void 0===a||void 0===s){const g=Pr(l);if(g){const y=g.getBoundingClientRect(),E=gr(g),T=Lr(E,"border","width"),P=Lr(E,"padding");a=y.width-P.width-T.width,s=y.height-P.height-T.height,u=rr(E.maxWidth,g,"clientWidth"),h=rr(E.maxHeight,g,"clientHeight")}else a=l.clientWidth,s=l.clientHeight}return{width:a,height:s,maxWidth:u||on,maxHeight:h||on}}(l,a,s);let{width:P,height:G}=T;if("content-box"===h.boxSizing){const ee=Lr(h,"border","width"),fe=Lr(h,"padding");P-=fe.width+ee.width,G-=fe.height+ee.height}return P=Math.max(0,P-g.width),G=Math.max(0,u?Math.floor(P/u):G-g.height),P=Is(Math.min(P,y,T.maxWidth)),G=Is(Math.min(G,E,T.maxHeight)),P&&!G&&(G=Is(P/2)),{width:P,height:G}}(a,s,u,h)}isAttached(a){const s=Pr(a);return!(!s||!s.isConnected)}}class Ss{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(a){const{x:s,y:u}=this.getProps(["x","y"],a);return{x:s,y:u}}hasValue(){return br(this.x)&&br(this.y)}getProps(a,s){const u=this.$animations;if(!s||!u)return this;const h={};return a.forEach(g=>{h[g]=u[g]&&u[g].active()?u[g]._to:this[g]}),h}}Ss.defaults={},Ss.defaultRoutes=void 0;const ca={values:l=>be(l)?l:""+l,numeric(l,a,s){if(0===l)return"0";const u=this.chart.options.locale;let h,g=l;if(s.length>1){const P=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(P<1e-4||P>1e15)&&(h="scientific"),g=function rl(l,a){let s=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(s)>=1&&l!==Math.floor(l)&&(s=l-Math.floor(l)),s}(l,s)}const y=Un(Math.abs(g)),E=Math.max(Math.min(-1*Math.floor(y),20),0),T={notation:h,minimumFractionDigits:E,maximumFractionDigits:E};return Object.assign(T,this.options.ticks.format),xi(l,u,T)},logarithmic(l,a,s){if(0===l)return"0";const u=l/Math.pow(10,Math.floor(Un(l)));return 1===u||2===u||5===u?ca.numeric.call(this,l,a,s):""}};var mo={formatters:ca};function Yl(l,a,s,u,h){const g=ht(u,0),y=Math.min(ht(h,l.length),l.length);let T,P,G,E=0;for(s=Math.ceil(s),h&&(T=h-u,s=T/Math.floor(T/s)),G=g;G<0;)E++,G=Math.round(g+E*s);for(P=Math.max(g,0);P<y;P++)P===G&&(a.push(l[P]),E++,G=Math.round(g+E*s))}Sn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(l,a)=>a.lineWidth,tickColor:(l,a)=>a.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mo.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Sn.route("scale.ticks","color","","color"),Sn.route("scale.grid","color","","borderColor"),Sn.route("scale.grid","borderColor","","borderColor"),Sn.route("scale.title","color","","color"),Sn.describe("scale",{_fallback:!1,_scriptable:l=>!l.startsWith("before")&&!l.startsWith("after")&&"callback"!==l&&"parser"!==l,_indexable:l=>"borderDash"!==l&&"tickBorderDash"!==l}),Sn.describe("scales",{_fallback:"scale"}),Sn.describe("scale.ticks",{_scriptable:l=>"backdropPadding"!==l&&"callback"!==l,_indexable:l=>"backdropPadding"!==l});const le=(l,a,s)=>"top"===a||"left"===a?l[a]+s:l[a]-s;function Re(l,a){const s=[],u=l.length/a,h=l.length;let g=0;for(;g<h;g+=u)s.push(l[Math.floor(g)]);return s}function at(l,a,s){const u=l.ticks.length,h=Math.min(a,u-1),g=l._startPixel,y=l._endPixel,E=1e-6;let P,T=l.getPixelForTick(h);if(!(s&&(P=1===u?Math.max(T-g,y-T):0===a?(l.getPixelForTick(1)-T)/2:(T-l.getPixelForTick(h-1))/2,T+=h<a?P:-P,T<g-E||T>y+E)))return T}function Jt(l){return l.drawTicks?l.tickLength:0}function Fn(l,a){if(!l.display)return 0;const s=Yn(l.font,a),u=pn(l.padding);return(be(l.text)?l.text.length:1)*s.lineHeight+u.height}function ei(l,a,s){let u=Ne(l);return(s&&"right"!==a||!s&&"right"===a)&&(u=(l=>"left"===l?"right":"right"===l?"left":l)(u)),u}class gs extends Ss{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,s){return a}getUserBounds(){let{_userMin:a,_userMax:s,_suggestedMin:u,_suggestedMax:h}=this;return a=dt(a,Number.POSITIVE_INFINITY),s=dt(s,Number.NEGATIVE_INFINITY),u=dt(u,Number.POSITIVE_INFINITY),h=dt(h,Number.NEGATIVE_INFINITY),{min:dt(a,u),max:dt(s,h),minDefined:nt(a),maxDefined:nt(s)}}getMinMax(a){let y,{min:s,max:u,minDefined:h,maxDefined:g}=this.getUserBounds();if(h&&g)return{min:s,max:u};const E=this.getMatchingVisibleMetas();for(let T=0,P=E.length;T<P;++T)y=E[T].controller.getMinMax(this,a),h||(s=Math.min(s,y.min)),g||(u=Math.max(u,y.max));return s=g&&s>u?u:s,u=h&&s>u?s:u,{min:dt(s,dt(u,s)),max:dt(u,dt(s,u))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Le(this.options.beforeUpdate,[this])}update(a,s,u){const{beginAtZero:h,grace:g,ticks:y}=this.options,E=y.sampleSize;this.beforeUpdate(),this.maxWidth=a,this.maxHeight=s,this._margins=u=Object.assign({left:0,right:0,top:0,bottom:0},u),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+u.left+u.right:this.height+u.top+u.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function wr(l,a,s){const{min:u,max:h}=l,g=lt(a,(h-u)/2),y=(E,T)=>s&&0===E?0:E+T;return{min:y(u,-Math.abs(g)),max:y(h,g)}}(this,g,h),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const T=E<this.ticks.length;this._convertTicksToLabels(T?Re(this.ticks,E):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||"auto"===y.source)&&(this.ticks=function xc(l,a){const s=l.options.ticks,u=s.maxTicksLimit||function cu(l){const a=l.options.offset,s=l._tickSize();return Math.floor(Math.min(l._length/s+(a?0:1),l._maxLength/s))}(l),h=s.major.enabled?function ja(l){const a=[];let s,u;for(s=0,u=l.length;s<u;s++)l[s].major&&a.push(s);return a}(a):[],g=h.length,y=h[0],E=h[g-1],T=[];if(g>u)return function Zl(l,a,s,u){let y,h=0,g=s[0];for(u=Math.ceil(u),y=0;y<l.length;y++)y===g&&(a.push(l[y]),h++,g=s[h*u])}(a,T,h,g/u),T;const P=function Ac(l,a,s){const u=function B(l){const a=l.length;let s,u;if(a<2)return!1;for(u=l[0],s=1;s<a;++s)if(l[s]-l[s-1]!==u)return!1;return u}(l),h=a.length/s;if(!u)return Math.max(h,1);const g=function Tr(l){const a=[],s=Math.sqrt(l);let u;for(u=1;u<s;u++)l%u==0&&(a.push(u),a.push(l/u));return s===(0|s)&&a.push(s),a.sort((h,g)=>h-g).pop(),a}(u);for(let y=0,E=g.length-1;y<E;y++){const T=g[y];if(T>h)return T}return Math.max(h,1)}(h,a,u);if(g>0){let G,ee;const fe=g>1?Math.round((E-y)/(g-1)):null;for(Yl(a,T,P,he(fe)?0:y-fe,y),G=0,ee=g-1;G<ee;G++)Yl(a,T,P,h[G],h[G+1]);return Yl(a,T,P,E,he(fe)?a.length:E+fe),T}return Yl(a,T,P),T}(this,this.ticks),this._labelSizes=null),T&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s,u,a=this.options.reverse;this.isHorizontal()?(s=this.left,u=this.right):(s=this.top,u=this.bottom,a=!a),this._startPixel=s,this._endPixel=u,this._reversePixels=a,this._length=u-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Le(this.options.afterUpdate,[this])}beforeSetDimensions(){Le(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Le(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),Le(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Le(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(a){const s=this.options.ticks;let u,h,g;for(u=0,h=a.length;u<h;u++)g=a[u],g.label=Le(s.callback,[g.value,u,a],this)}afterTickToLabelConversion(){Le(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Le(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,s=a.ticks,u=this.ticks.length,h=s.minRotation||0,g=s.maxRotation;let E,T,P,y=h;if(!this._isVisible()||!s.display||h>=g||u<=1||!this.isHorizontal())return void(this.labelRotation=h);const G=this._getLabelSizes(),ee=G.widest.width,fe=G.highest.height,Me=er(this.chart.width-ee,0,this.maxWidth);E=a.offset?this.maxWidth/u:Me/(u-1),ee+6>E&&(E=Me/(u-(a.offset?.5:1)),T=this.maxHeight-Jt(a.grid)-s.padding-Fn(a.title,this.chart.options.font),P=Math.sqrt(ee*ee+fe*fe),y=lr(Math.min(Math.asin(er((G.highest.height+6)/E,-1,1)),Math.asin(er(T/P,-1,1))-Math.asin(er(fe/P,-1,1)))),y=Math.max(h,Math.min(g,y))),this.labelRotation=y}afterCalculateLabelRotation(){Le(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Le(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:s,options:{ticks:u,title:h,grid:g}}=this,y=this._isVisible(),E=this.isHorizontal();if(y){const T=Fn(h,s.options.font);if(E?(a.width=this.maxWidth,a.height=Jt(g)+T):(a.height=this.maxHeight,a.width=Jt(g)+T),u.display&&this.ticks.length){const{first:P,last:G,widest:ee,highest:fe}=this._getLabelSizes(),Me=2*u.padding,Ve=$n(this.labelRotation),Ke=Math.cos(Ve),mt=Math.sin(Ve);E?a.height=Math.min(this.maxHeight,a.height+(u.mirror?0:mt*ee.width+Ke*fe.height)+Me):a.width=Math.min(this.maxWidth,a.width+(u.mirror?0:Ke*ee.width+mt*fe.height)+Me),this._calculatePadding(P,G,mt,Ke)}}this._handleMargins(),E?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,s,u,h){const{ticks:{align:g,padding:y},position:E}=this.options,T=0!==this.labelRotation,P="top"!==E&&"x"===this.axis;if(this.isHorizontal()){const G=this.getPixelForTick(0)-this.left,ee=this.right-this.getPixelForTick(this.ticks.length-1);let fe=0,Me=0;T?P?(fe=h*a.width,Me=u*s.height):(fe=u*a.height,Me=h*s.width):"start"===g?Me=s.width:"end"===g?fe=a.width:(fe=a.width/2,Me=s.width/2),this.paddingLeft=Math.max((fe-G+y)*this.width/(this.width-G),0),this.paddingRight=Math.max((Me-ee+y)*this.width/(this.width-ee),0)}else{let G=s.height/2,ee=a.height/2;"start"===g?(G=0,ee=a.height):"end"===g&&(G=s.height,ee=0),this.paddingTop=G+y,this.paddingBottom=ee+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Le(this.options.afterFit,[this])}isHorizontal(){const{axis:a,position:s}=this.options;return"top"===s||"bottom"===s||"x"===a}isFullSize(){return this.options.fullSize}_convertTicksToLabels(a){let s,u;for(this.beforeTickToLabelConversion(),this.generateTickLabels(a),s=0,u=a.length;s<u;s++)he(a[s].label)&&(a.splice(s,1),u--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const s=this.options.ticks.sampleSize;let u=this.ticks;s<u.length&&(u=Re(u,s)),this._labelSizes=a=this._computeLabelSizes(u,u.length)}return a}_computeLabelSizes(a,s){const{ctx:u,_longestTextCache:h}=this,g=[],y=[];let P,G,ee,fe,Me,Ve,Ke,mt,Et,zt,wn,E=0,T=0;for(P=0;P<s;++P){if(fe=a[P].label,Me=this._resolveTickFontOptions(P),u.font=Ve=Me.string,Ke=h[Ve]=h[Ve]||{data:{},gc:[]},mt=Me.lineHeight,Et=zt=0,he(fe)||be(fe)){if(be(fe))for(G=0,ee=fe.length;G<ee;++G)wn=fe[G],!he(wn)&&!be(wn)&&(Et=vt(u,Ke.data,Ke.gc,Et,wn),zt+=mt)}else Et=vt(u,Ke.data,Ke.gc,Et,fe),zt=mt;g.push(Et),y.push(zt),E=Math.max(Et,E),T=Math.max(zt,T)}!function Ct(l,a){Dt(l,s=>{const u=s.gc,h=u.length/2;let g;if(h>a){for(g=0;g<h;++g)delete s.data[u[g]];u.splice(0,h)}})}(h,s);const nn=g.indexOf(E),Wt=y.indexOf(T),En=xn=>({width:g[xn]||0,height:y[xn]||0});return{first:En(0),last:En(s-1),widest:En(nn),highest:En(Wt),widths:g,heights:y}}getLabelForValue(a){return a}getPixelForValue(a,s){return NaN}getValueForPixel(a){}getPixelForTick(a){const s=this.ticks;return a<0||a>s.length-1?null:this.getPixelForValue(s[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const s=this._startPixel+a*this._length;return function qt(l){return er(l,-32768,32767)}(this._alignToPixels?_t(this.chart,s,0):s)}getDecimalForPixel(a){const s=(a-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:s}=this;return a<0&&s<0?s:a>0&&s>0?a:0}getContext(a){const s=this.ticks||[];if(a>=0&&a<s.length){const u=s[a];return u.$context||(u.$context=function Dr(l,a,s){return pi(l,{tick:s,index:a,type:"tick"})}(this.getContext(),a,u))}return this.$context||(this.$context=function Wn(l,a){return pi(l,{scale:a,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const a=this.options.ticks,s=$n(this.labelRotation),u=Math.abs(Math.cos(s)),h=Math.abs(Math.sin(s)),g=this._getLabelSizes(),y=a.autoSkipPadding||0,E=g?g.widest.width+y:0,T=g?g.highest.height+y:0;return this.isHorizontal()?T*u>E*h?E/u:T/h:T*h<E*u?T/u:E/h}_isVisible(){const a=this.options.display;return"auto"!==a?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(a){const s=this.axis,u=this.chart,h=this.options,{grid:g,position:y}=h,E=g.offset,T=this.isHorizontal(),G=this.ticks.length+(E?1:0),ee=Jt(g),fe=[],Me=g.setContext(this.getContext()),Ve=Me.drawBorder?Me.borderWidth:0,Ke=Ve/2,mt=function(ii){return _t(u,ii,Ve)};let Et,zt,wn,nn,Wt,En,xn,Gn,or,Di,yi,_i;if("top"===y)Et=mt(this.bottom),En=this.bottom-ee,Gn=Et-Ke,Di=mt(a.top)+Ke,_i=a.bottom;else if("bottom"===y)Et=mt(this.top),Di=a.top,_i=mt(a.bottom)-Ke,En=Et+Ke,Gn=this.top+ee;else if("left"===y)Et=mt(this.right),Wt=this.right-ee,xn=Et-Ke,or=mt(a.left)+Ke,yi=a.right;else if("right"===y)Et=mt(this.left),or=a.left,yi=mt(a.right)-Ke,Wt=Et+Ke,xn=this.left+ee;else if("x"===s){if("center"===y)Et=mt((a.top+a.bottom)/2+.5);else if(Ye(y)){const ii=Object.keys(y)[0];Et=mt(this.chart.scales[ii].getPixelForValue(y[ii]))}Di=a.top,_i=a.bottom,En=Et+Ke,Gn=En+ee}else if("y"===s){if("center"===y)Et=mt((a.left+a.right)/2);else if(Ye(y)){const ii=Object.keys(y)[0];Et=mt(this.chart.scales[ii].getPixelForValue(y[ii]))}Wt=Et-Ke,xn=Wt-ee,or=a.left,yi=a.right}const Ns=ht(h.ticks.maxTicksLimit,G),Mo=Math.max(1,Math.ceil(G/Ns));for(zt=0;zt<G;zt+=Mo){const ii=g.setContext(this.getContext(zt)),Wi=ii.lineWidth,pl=ii.color,zl=g.borderDash||[],Hu=ii.borderDashOffset,Td=ii.tickWidth,ru=ii.tickColor,Dh=ii.tickBorderDash||[],Ec=ii.tickBorderDashOffset;wn=at(this,zt,E),void 0!==wn&&(nn=_t(u,wn,Wi),T?Wt=xn=or=yi=nn:En=Gn=Di=_i=nn,fe.push({tx1:Wt,ty1:En,tx2:xn,ty2:Gn,x1:or,y1:Di,x2:yi,y2:_i,width:Wi,color:pl,borderDash:zl,borderDashOffset:Hu,tickWidth:Td,tickColor:ru,tickBorderDash:Dh,tickBorderDashOffset:Ec}))}return this._ticksLength=G,this._borderValue=Et,fe}_computeLabelItems(a){const s=this.axis,u=this.options,{position:h,ticks:g}=u,y=this.isHorizontal(),E=this.ticks,{align:T,crossAlign:P,padding:G,mirror:ee}=g,fe=Jt(u.grid),Me=fe+G,Ve=ee?-G:Me,Ke=-$n(this.labelRotation),mt=[];let Et,zt,wn,nn,Wt,En,xn,Gn,or,Di,yi,_i,Ns="middle";if("top"===h)En=this.bottom-Ve,xn=this._getXAxisLabelAlignment();else if("bottom"===h)En=this.top+Ve,xn=this._getXAxisLabelAlignment();else if("left"===h){const ii=this._getYAxisLabelAlignment(fe);xn=ii.textAlign,Wt=ii.x}else if("right"===h){const ii=this._getYAxisLabelAlignment(fe);xn=ii.textAlign,Wt=ii.x}else if("x"===s){if("center"===h)En=(a.top+a.bottom)/2+Me;else if(Ye(h)){const ii=Object.keys(h)[0];En=this.chart.scales[ii].getPixelForValue(h[ii])+Me}xn=this._getXAxisLabelAlignment()}else if("y"===s){if("center"===h)Wt=(a.left+a.right)/2-Me;else if(Ye(h)){const ii=Object.keys(h)[0];Wt=this.chart.scales[ii].getPixelForValue(h[ii])}xn=this._getYAxisLabelAlignment(fe).textAlign}"y"===s&&("start"===T?Ns="top":"end"===T&&(Ns="bottom"));const Mo=this._getLabelSizes();for(Et=0,zt=E.length;Et<zt;++Et){wn=E[Et],nn=wn.label;const ii=g.setContext(this.getContext(Et));Gn=this.getPixelForTick(Et)+g.labelOffset,or=this._resolveTickFontOptions(Et),Di=or.lineHeight,yi=be(nn)?nn.length:1;const Wi=yi/2,pl=ii.color,zl=ii.textStrokeColor,Hu=ii.textStrokeWidth;let Td;if(y?(Wt=Gn,_i="top"===h?"near"===P||0!==Ke?-yi*Di+Di/2:"center"===P?-Mo.highest.height/2-Wi*Di+Di:Di/2-Mo.highest.height:"near"===P||0!==Ke?Di/2:"center"===P?Mo.highest.height/2-Wi*Di:Mo.highest.height-yi*Di,ee&&(_i*=-1)):(En=Gn,_i=(1-yi)*Di/2),ii.showLabelBackdrop){const ru=pn(ii.backdropPadding),Dh=Mo.heights[Et],Ec=Mo.widths[Et];let iu=En+_i-ru.top,Ch=Wt-ru.left;switch(Ns){case"middle":iu-=Dh/2;break;case"bottom":iu-=Dh}switch(xn){case"center":Ch-=Ec/2;break;case"right":Ch-=Ec}Td={left:Ch,top:iu,width:Ec+ru.width,height:Dh+ru.height,color:ii.backdropColor}}mt.push({rotation:Ke,label:nn,font:or,color:pl,strokeColor:zl,strokeWidth:Hu,textOffset:_i,textAlign:xn,textBaseline:Ns,translation:[Wt,En],backdrop:Td})}return mt}_getXAxisLabelAlignment(){const{position:a,ticks:s}=this.options;if(-$n(this.labelRotation))return"top"===a?"left":"right";let h="center";return"start"===s.align?h="left":"end"===s.align&&(h="right"),h}_getYAxisLabelAlignment(a){const{position:s,ticks:{crossAlign:u,mirror:h,padding:g}}=this.options,E=a+g,T=this._getLabelSizes().widest.width;let P,G;return"left"===s?h?(G=this.right+g,"near"===u?P="left":"center"===u?(P="center",G+=T/2):(P="right",G+=T)):(G=this.right-E,"near"===u?P="right":"center"===u?(P="center",G-=T/2):(P="left",G=this.left)):"right"===s?h?(G=this.left+g,"near"===u?P="right":"center"===u?(P="center",G-=T/2):(P="left",G-=T)):(G=this.left+E,"near"===u?P="left":"center"===u?(P="center",G+=T/2):(P="right",G=this.right)):P="right",{textAlign:P,x:G}}_computeLabelArea(){if(this.options.ticks.mirror)return;const a=this.chart,s=this.options.position;return"left"===s||"right"===s?{top:0,left:this.left,bottom:a.height,right:this.right}:"top"===s||"bottom"===s?{top:this.top,left:0,bottom:this.bottom,right:a.width}:void 0}drawBackground(){const{ctx:a,options:{backgroundColor:s},left:u,top:h,width:g,height:y}=this;s&&(a.save(),a.fillStyle=s,a.fillRect(u,h,g,y),a.restore())}getLineWidthForValue(a){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const h=this.ticks.findIndex(g=>g.value===a);return h>=0?s.setContext(this.getContext(h)).lineWidth:0}drawGrid(a){const s=this.options.grid,u=this.ctx,h=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(a));let g,y;const E=(T,P,G)=>{!G.width||!G.color||(u.save(),u.lineWidth=G.width,u.strokeStyle=G.color,u.setLineDash(G.borderDash||[]),u.lineDashOffset=G.borderDashOffset,u.beginPath(),u.moveTo(T.x,T.y),u.lineTo(P.x,P.y),u.stroke(),u.restore())};if(s.display)for(g=0,y=h.length;g<y;++g){const T=h[g];s.drawOnChartArea&&E({x:T.x1,y:T.y1},{x:T.x2,y:T.y2},T),s.drawTicks&&E({x:T.tx1,y:T.ty1},{x:T.tx2,y:T.ty2},{color:T.tickColor,width:T.tickWidth,borderDash:T.tickBorderDash,borderDashOffset:T.tickBorderDashOffset})}}drawBorder(){const{chart:a,ctx:s,options:{grid:u}}=this,h=u.setContext(this.getContext()),g=u.drawBorder?h.borderWidth:0;if(!g)return;const y=u.setContext(this.getContext(0)).lineWidth,E=this._borderValue;let T,P,G,ee;this.isHorizontal()?(T=_t(a,this.left,g)-g/2,P=_t(a,this.right,y)+y/2,G=ee=E):(G=_t(a,this.top,g)-g/2,ee=_t(a,this.bottom,y)+y/2,T=P=E),s.save(),s.lineWidth=h.borderWidth,s.strokeStyle=h.borderColor,s.beginPath(),s.moveTo(T,G),s.lineTo(P,ee),s.stroke(),s.restore()}drawLabels(a){if(!this.options.ticks.display)return;const u=this.ctx,h=this._computeLabelArea();h&&Pe(u,h);const g=this._labelItems||(this._labelItems=this._computeLabelItems(a));let y,E;for(y=0,E=g.length;y<E;++y){const T=g[y],P=T.font,G=T.label;T.backdrop&&(u.fillStyle=T.backdrop.color,u.fillRect(T.backdrop.left,T.backdrop.top,T.backdrop.width,T.backdrop.height)),It(u,G,0,T.textOffset,P,T)}h&&xe(u)}drawTitle(){const{ctx:a,options:{position:s,title:u,reverse:h}}=this;if(!u.display)return;const g=Yn(u.font),y=pn(u.padding),E=u.align;let T=g.lineHeight/2;"bottom"===s||"center"===s||Ye(s)?(T+=y.bottom,be(u.text)&&(T+=g.lineHeight*(u.text.length-1))):T+=y.top;const{titleX:P,titleY:G,maxWidth:ee,rotation:fe}=function Rr(l,a,s,u){const{top:h,left:g,bottom:y,right:E,chart:T}=l,{chartArea:P,scales:G}=T;let fe,Me,Ve,ee=0;const Ke=y-h,mt=E-g;if(l.isHorizontal()){if(Me=Ae(u,g,E),Ye(s)){const Et=Object.keys(s)[0];Ve=G[Et].getPixelForValue(s[Et])+Ke-a}else Ve="center"===s?(P.bottom+P.top)/2+Ke-a:le(l,s,a);fe=E-g}else{if(Ye(s)){const Et=Object.keys(s)[0];Me=G[Et].getPixelForValue(s[Et])-mt+a}else Me="center"===s?(P.left+P.right)/2-mt+a:le(l,s,a);Ve=Ae(u,y,h),ee="left"===s?-Gt:Gt}return{titleX:Me,titleY:Ve,maxWidth:fe,rotation:ee}}(this,T,s,E);It(a,u.text,0,0,g,{color:u.color,maxWidth:ee,rotation:fe,textAlign:ei(E,s,h),textBaseline:"middle",translation:[P,G]})}draw(a){!this._isVisible()||(this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a))}_layers(){const a=this.options,s=a.ticks&&a.ticks.z||0,u=ht(a.grid&&a.grid.z,-1);return this._isVisible()&&this.draw===gs.prototype.draw?[{z:u,draw:h=>{this.drawBackground(),this.drawGrid(h),this.drawTitle()}},{z:u+1,draw:()=>{this.drawBorder()}},{z:s,draw:h=>{this.drawLabels(h)}}]:[{z:s,draw:h=>{this.draw(h)}}]}getMatchingVisibleMetas(a){const s=this.chart.getSortedVisibleDatasetMetas(),u=this.axis+"AxisID",h=[];let g,y;for(g=0,y=s.length;g<y;++g){const E=s[g];E[u]===this.id&&(!a||E.type===a)&&h.push(E)}return h}_resolveTickFontOptions(a){return Yn(this.options.ticks.setContext(this.getContext(a)).font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}}class ti{constructor(a,s,u){this.type=a,this.scope=s,this.override=u,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const s=Object.getPrototypeOf(a);let u;(function ml(l){return"id"in l&&"defaults"in l})(s)&&(u=this.register(s));const h=this.items,g=a.id,y=this.scope+"."+g;if(!g)throw new Error("class does not have id: "+a);return g in h||(h[g]=a,function Ql(l,a,s){const u=Ut(Object.create(null),[s?Sn.get(s):{},Sn.get(a),l.defaults]);Sn.set(a,u),l.defaultRoutes&&function Xl(l,a){Object.keys(a).forEach(s=>{const u=s.split("."),h=u.pop(),g=[l].concat(u).join("."),y=a[s].split("."),E=y.pop(),T=y.join(".");Sn.route(g,h,T,E)})}(a,l.defaultRoutes),l.descriptors&&Sn.describe(a,l.descriptors)}(a,y,u),this.override&&Sn.override(a.id,a.overrides)),y}get(a){return this.items[a]}unregister(a){const s=this.items,u=a.id,h=this.scope;u in s&&delete s[u],h&&u in Sn[h]&&(delete Sn[h][u],this.override&&delete Xr[u])}}var as=new class ws{constructor(){this.controllers=new ti(ps,"datasets",!0),this.elements=new ti(Ss,"elements"),this.plugins=new ti(Object,"plugins"),this.scales=new ti(gs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(a,s,u){[...s].forEach(h=>{const g=u||this._getRegistryForType(h);u||g.isForType(h)||g===this.plugins&&h.id?this._exec(a,g,h):Dt(h,y=>{const E=u||this._getRegistryForType(y);this._exec(a,E,y)})})}_exec(a,s,u){const h=Mt(a);Le(u["before"+h],[],u),s[a](u),Le(u["after"+h],[],u)}_getRegistryForType(a){for(let s=0;s<this._typedRegistries.length;s++){const u=this._typedRegistries[s];if(u.isForType(a))return u}return this.plugins}_get(a,s,u){const h=s.get(a);if(void 0===h)throw new Error('"'+a+'" is not a registered '+u+".");return h}};class Sc{constructor(){this._init=[]}notify(a,s,u,h){"beforeInit"===s&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const g=h?this._descriptors(a).filter(h):this._descriptors(a),y=this._notify(g,a,s,u);return"afterDestroy"===s&&(this._notify(g,a,"stop"),this._notify(this._init,a,"uninstall")),y}_notify(a,s,u,h){h=h||{};for(const g of a){const y=g.plugin;if(!1===Le(y[u],[s,h,g.options],y)&&h.cancelable)return!1}return!0}invalidate(){he(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),s}_createDescriptors(a,s){const u=a&&a.config,h=ht(u.options&&u.options.plugins,{}),g=function kd(l){const a=[],s=Object.keys(as.plugins.items);for(let h=0;h<s.length;h++)a.push(as.getPlugin(s[h]));const u=l.plugins||[];for(let h=0;h<u.length;h++){const g=u[h];-1===a.indexOf(g)&&a.push(g)}return a}(u);return!1!==h||s?function ua(l,a,s,u){const h=[],g=l.getContext();for(let y=0;y<a.length;y++){const E=a[y],P=Jl(s[E.id],u);null!==P&&h.push({plugin:E,options:Wu(l.config,E,P,g)})}return h}(a,g,h,s):[]}_notifyStateChanges(a){const s=this._oldCache||[],u=this._cache,h=(g,y)=>g.filter(E=>!y.some(T=>E.plugin.id===T.plugin.id));this._notify(h(s,u),a,"stop"),this._notify(h(u,s),a,"start")}}function Jl(l,a){return a||!1!==l?!0===l?{}:l:null}function Wu(l,a,s,u){const h=l.pluginScopeKeys(a),g=l.getOptionScopes(s,h);return l.createResolver(g,u,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function da(l,a){return((a.datasets||{})[l]||{}).indexAxis||a.indexAxis||(Sn.datasets[l]||{}).indexAxis||"x"}function il(l,a){return"x"===l||"y"===l?l:a.axis||function Mc(l){return"top"===l||"bottom"===l?"x":"left"===l||"right"===l?"y":void 0}(a.position)||l.charAt(0).toLowerCase()}function ec(l){const a=l.options||(l.options={});a.plugins=ht(a.plugins,{}),a.scales=function Gu(l,a){const s=Xr[l.type]||{scales:{}},u=a.scales||{},h=da(l.type,a),g=Object.create(null),y=Object.create(null);return Object.keys(u).forEach(E=>{const T=u[E];if(!Ye(T))return console.error(`Invalid scale configuration for scale: ${E}`);if(T._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${E}`);const P=il(E,T),G=function du(l,a){return l===a?"_index_":"_value_"}(P,h),ee=s.scales||{};g[P]=g[P]||E,y[E]=ge(Object.create(null),[{axis:P},T,ee[P],ee[G]])}),l.data.datasets.forEach(E=>{const T=E.type||l.type,P=E.indexAxis||da(T,a),ee=(Xr[T]||{}).scales||{};Object.keys(ee).forEach(fe=>{const Me=function uu(l,a){let s=l;return"_index_"===l?s=a:"_value_"===l&&(s="x"===a?"y":"x"),s}(fe,P),Ve=E[Me+"AxisID"]||g[Me]||Me;y[Ve]=y[Ve]||Object.create(null),ge(y[Ve],[{axis:Me},u[Ve],ee[fe]])})}),Object.keys(y).forEach(E=>{const T=y[E];ge(T,[Sn.scales[T.type],Sn.scale])}),y}(l,a)}function ha(l){return(l=l||{}).datasets=l.datasets||[],l.labels=l.labels||[],l}const sl=new Map,Nd=new Set;function Oc(l,a){let s=sl.get(l);return s||(s=a(),sl.set(l,s),Nd.add(s)),s}const Sl=(l,a,s)=>{const u=ot(a,s);void 0!==u&&l.add(u)};class hu{constructor(a){this._config=function yl(l){return(l=l||{}).data=ha(l.data),ec(l),l}(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=ha(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),ec(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return Oc(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,s){return Oc(`${a}.transition.${s}`,()=>[[`datasets.${a}.transitions.${s}`,`transitions.${s}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,s){return Oc(`${a}-${s}`,()=>[[`datasets.${a}.elements.${s}`,`datasets.${a}`,`elements.${s}`,""]])}pluginScopeKeys(a){const s=a.id;return Oc(`${this.type}-plugin-${s}`,()=>[[`plugins.${s}`,...a.additionalOptionScopes||[]]])}_cachedScopes(a,s){const u=this._scopeCache;let h=u.get(a);return(!h||s)&&(h=new Map,u.set(a,h)),h}getOptionScopes(a,s,u){const{options:h,type:g}=this,y=this._cachedScopes(a,u),E=y.get(s);if(E)return E;const T=new Set;s.forEach(G=>{a&&(T.add(a),G.forEach(ee=>Sl(T,a,ee))),G.forEach(ee=>Sl(T,h,ee)),G.forEach(ee=>Sl(T,Xr[g]||{},ee)),G.forEach(ee=>Sl(T,Sn,ee)),G.forEach(ee=>Sl(T,Vi,ee))});const P=Array.from(T);return 0===P.length&&P.push(Object.create(null)),Nd.has(s)&&y.set(s,P),P}chartOptionScopes(){const{options:a,type:s}=this;return[a,Xr[s]||{},Sn.datasets[s]||{},{type:s},Sn,Vi]}resolveNamedOptions(a,s,u,h=[""]){const g={$shared:!0},{resolver:y,subPrefixes:E}=xh(this._resolverCache,a,h);let T=y;(function Ah(l,a){const{isScriptable:s,isIndexable:u}=Ki(l);for(const h of a){const g=s(h),y=u(h),E=(y||g)&&l[h];if(g&&(gn(E)||Uf(E))||y&&be(E))return!0}return!1})(y,s)&&(g.$shared=!1,T=Ni(y,u=gn(u)?u():u,this.createResolver(a,u,E)));for(const P of s)g[P]=T[P];return g}createResolver(a,s,u=[""],h){const{resolver:g}=xh(this._resolverCache,a,u);return Ye(s)?Ni(g,s,void 0,h):g}}function xh(l,a,s){let u=l.get(a);u||(u=new Map,l.set(a,u));const h=s.join();let g=u.get(h);return g||(g={resolver:Os(a,s),subPrefixes:s.filter(E=>!E.toLowerCase().includes("hover"))},u.set(h,g)),g}const Uf=l=>Ye(l)&&Object.getOwnPropertyNames(l).reduce((a,s)=>a||gn(l[s]),!1),fu=["top","bottom","left","right","chartArea"];function tc(l,a){return"top"===l||"bottom"===l||-1===fu.indexOf(l)&&"x"===a}function nc(l,a){return function(s,u){return s[l]===u[l]?s[a]-u[a]:s[l]-u[l]}}function Mh(l){const a=l.chart,s=a.options.animation;a.notifyPlugins("afterRender"),Le(s&&s.onComplete,[l],a)}function Ku(l){const a=l.chart,s=a.options.animation;Le(s&&s.onProgress,[l],a)}function Pc(l){return $r()&&"string"==typeof l?l=document.getElementById(l):l&&l.length&&(l=l[0]),l&&l.canvas&&(l=l.canvas),l}const fa={},pu=l=>{const a=Pc(l);return Object.values(fa).filter(s=>s.canvas===a).pop()};function Ml(l,a,s){const u=Object.keys(l);for(const h of u){const g=+h;if(g>=a){const y=l[h];delete l[h],(s>0||g>a)&&(l[g+s]=y)}}}class xa{constructor(a,s){const u=this.config=new hu(s),h=Pc(a),g=pu(h);if(g)throw new Error("Canvas is already in use. Chart with ID '"+g.id+"' must be destroyed before the canvas can be reused.");const y=u.createResolver(u.chartOptionScopes(),this.getContext());this.platform=new(u.platform||function Oi(l){return!$r()||"undefined"!=typeof OffscreenCanvas&&l instanceof OffscreenCanvas?Al:to}(h)),this.platform.updateConfig(u);const E=this.platform.acquireContext(h,y.aspectRatio),T=E&&E.canvas,P=T&&T.height,G=T&&T.width;this.id=ce(),this.ctx=E,this.canvas=T,this.width=G,this.height=P,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Sc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function de(l,a){let s;return function(...u){return a?(clearTimeout(s),s=setTimeout(l,a,u)):l.apply(this,u),a}}(ee=>this.update(ee),y.resizeDelay||0),this._dataChanges=[],fa[this.id]=this,E&&T?(Us.listen(this,"complete",Mh),Us.listen(this,"progress",Ku),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:a,maintainAspectRatio:s},width:u,height:h,_aspectRatio:g}=this;return he(a)?s&&g?g:h?u/h:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():co(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ht(this.canvas,this.ctx),this}stop(){return Us.stop(this),this}resize(a,s){Us.running(this)?this._resizeBeforeDraw={width:a,height:s}:this._resize(a,s)}_resize(a,s){const u=this.options,y=this.platform.getMaximumSize(this.canvas,a,s,u.maintainAspectRatio&&this.aspectRatio),E=u.devicePixelRatio||this.platform.getDevicePixelRatio(),T=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,co(this,E,!0)&&(this.notifyPlugins("resize",{size:y}),Le(u.onResize,[this,y],this),this.attached&&this._doResize(T)&&this.render())}ensureScalesHaveIDs(){Dt(this.options.scales||{},(u,h)=>{u.id=h})}buildOrUpdateScales(){const a=this.options,s=a.scales,u=this.scales,h=Object.keys(u).reduce((y,E)=>(y[E]=!1,y),{});let g=[];s&&(g=g.concat(Object.keys(s).map(y=>{const E=s[y],T=il(y,E),P="r"===T,G="x"===T;return{options:E,dposition:P?"chartArea":G?"bottom":"left",dtype:P?"radialLinear":G?"category":"linear"}}))),Dt(g,y=>{const E=y.options,T=E.id,P=il(T,E),G=ht(E.type,y.dtype);(void 0===E.position||tc(E.position,P)!==tc(y.dposition))&&(E.position=y.dposition),h[T]=!0;let ee=null;T in u&&u[T].type===G?ee=u[T]:(ee=new(as.getScale(G))({id:T,type:G,ctx:this.ctx,chart:this}),u[ee.id]=ee),ee.init(E,a)}),Dt(h,(y,E)=>{y||delete u[E]}),Dt(u,y=>{ks.configure(this,y,y.options),ks.addBox(this,y)})}_updateMetasets(){const a=this._metasets,s=this.data.datasets.length,u=a.length;if(a.sort((h,g)=>h.index-g.index),u>s){for(let h=s;h<u;++h)this._destroyDatasetMeta(h);a.splice(s,u-s)}this._sortedMetasets=a.slice(0).sort(nc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:a,data:{datasets:s}}=this;a.length>s.length&&delete this._stacks,a.forEach((u,h)=>{0===s.filter(g=>g===u._dataset).length&&this._destroyDatasetMeta(h)})}buildOrUpdateControllers(){const a=[],s=this.data.datasets;let u,h;for(this._removeUnreferencedMetasets(),u=0,h=s.length;u<h;u++){const g=s[u];let y=this.getDatasetMeta(u);const E=g.type||this.config.type;if(y.type&&y.type!==E&&(this._destroyDatasetMeta(u),y=this.getDatasetMeta(u)),y.type=E,y.indexAxis=g.indexAxis||da(E,this.options),y.order=g.order||0,y.index=u,y.label=""+g.label,y.visible=this.isDatasetVisible(u),y.controller)y.controller.updateIndex(u),y.controller.linkScales();else{const T=as.getController(E),{datasetElementType:P,dataElementType:G}=Sn.datasets[E];Object.assign(T.prototype,{dataElementType:as.getElement(G),datasetElementType:P&&as.getElement(P)}),y.controller=new T(this,u),a.push(y.controller)}}return this._updateMetasets(),a}_resetElements(){Dt(this.data.datasets,(a,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(a){const s=this.config;s.update();const u=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),h=this._animationsDisabled=!u.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:a,cancelable:!0}))return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let P=0,G=this.data.datasets.length;P<G;P++){const{controller:ee}=this.getDatasetMeta(P),fe=!h&&-1===g.indexOf(ee);ee.buildOrUpdateElements(fe),y=Math.max(+ee.getMaxOverflow(),y)}y=this._minPadding=u.layout.autoPadding?y:0,this._updateLayout(y),h||Dt(g,P=>{P.reset()}),this._updateDatasets(a),this.notifyPlugins("afterUpdate",{mode:a}),this._layers.sort(nc("z","_idx"));const{_active:E,_lastEvent:T}=this;T?this._eventHandler(T,!0):E.length&&this._updateHoverStyles(E,E,!0),this.render()}_updateScales(){Dt(this.scales,a=>{ks.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const a=this.options,s=new Set(Object.keys(this._listeners)),u=new Set(a.events);(!Mn(s,u)||!!this._responsiveListeners!==a.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:a}=this,s=this._getUniformDataChanges()||[];for(const{method:u,start:h,count:g}of s)Ml(a,h,"_removeElements"===u?-g:g)}_getUniformDataChanges(){const a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];const s=this.data.datasets.length,u=g=>new Set(a.filter(y=>y[0]===g).map((y,E)=>E+","+y.splice(1).join(","))),h=u(0);for(let g=1;g<s;g++)if(!Mn(h,u(g)))return;return Array.from(h).map(g=>g.split(",")).map(g=>({method:g[1],start:+g[2],count:+g[3]}))}_updateLayout(a){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ks.update(this,this.width,this.height,a);const s=this.chartArea,u=s.width<=0||s.height<=0;this._layers=[],Dt(this.boxes,h=>{u&&"chartArea"===h.position||(h.configure&&h.configure(),this._layers.push(...h._layers()))},this),this._layers.forEach((h,g)=>{h._idx=g}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})){for(let s=0,u=this.data.datasets.length;s<u;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,u=this.data.datasets.length;s<u;++s)this._updateDataset(s,gn(a)?a({datasetIndex:s}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}}_updateDataset(a,s){const u=this.getDatasetMeta(a),h={meta:u,index:a,mode:s,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",h)&&(u.controller._update(s),h.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",h))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Us.has(this)?this.attached&&!Us.running(this)&&Us.start(this):(this.draw(),Mh({chart:this})))}draw(){let a;if(this._resizeBeforeDraw){const{width:u,height:h}=this._resizeBeforeDraw;this._resize(u,h),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const s=this._layers;for(a=0;a<s.length&&s[a].z<=0;++a)s[a].draw(this.chartArea);for(this._drawDatasets();a<s.length;++a)s[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(a){const s=this._sortedMetasets,u=[];let h,g;for(h=0,g=s.length;h<g;++h){const y=s[h];(!a||y.visible)&&u.push(y)}return u}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const a=this.getSortedVisibleDatasetMetas();for(let s=a.length-1;s>=0;--s)this._drawDataset(a[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(a){const s=this.ctx,u=a._clip,h=!u.disabled,g=this.chartArea,y={meta:a,index:a.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",y)&&(h&&Pe(s,{left:!1===u.left?0:g.left-u.left,right:!1===u.right?this.width:g.right+u.right,top:!1===u.top?0:g.top-u.top,bottom:!1===u.bottom?this.height:g.bottom+u.bottom}),a.controller.draw(),h&&xe(s),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}getElementsAtEventForMode(a,s,u,h){const g=_r.modes[s];return"function"==typeof g?g(this,a,u,h):[]}getDatasetMeta(a){const s=this.data.datasets[a],u=this._metasets;let h=u.filter(g=>g&&g._dataset===s).pop();return h||(h={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:a,_dataset:s,_parsed:[],_sorted:!1},u.push(h)),h}getContext(){return this.$context||(this.$context=pi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){const s=this.data.datasets[a];if(!s)return!1;const u=this.getDatasetMeta(a);return"boolean"==typeof u.hidden?!u.hidden:!s.hidden}setDatasetVisibility(a,s){this.getDatasetMeta(a).hidden=!s}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(a,s,u){const h=u?"show":"hide",g=this.getDatasetMeta(a),y=g.controller._resolveAnimations(void 0,h);Pt(s)?(g.data[s].hidden=!u,this.update()):(this.setDatasetVisibility(a,u),y.update(g,{visible:u}),this.update(E=>E.datasetIndex===a?h:void 0))}hide(a,s){this._updateVisibility(a,s,!1)}show(a,s){this._updateVisibility(a,s,!0)}_destroyDatasetMeta(a){const s=this._metasets[a];s&&s.controller&&s.controller._destroy(),delete this._metasets[a]}_stop(){let a,s;for(this.stop(),Us.remove(this),a=0,s=this.data.datasets.length;a<s;++a)this._destroyDatasetMeta(a)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:a,ctx:s}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),Ht(a,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete fa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const a=this._listeners,s=this.platform,u=(g,y)=>{s.addEventListener(this,g,y),a[g]=y},h=(g,y,E)=>{g.offsetX=y,g.offsetY=E,this._eventHandler(g)};Dt(this.options.events,g=>u(g,h))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const a=this._responsiveListeners,s=this.platform,u=(T,P)=>{s.addEventListener(this,T,P),a[T]=P},h=(T,P)=>{a[T]&&(s.removeEventListener(this,T,P),delete a[T])},g=(T,P)=>{this.canvas&&this.resize(T,P)};let y;const E=()=>{h("attach",E),this.attached=!0,this.resize(),u("resize",g),u("detach",y)};y=()=>{this.attached=!1,h("resize",g),this._stop(),this._resize(0,0),u("attach",E)},s.isAttached(this.canvas)?E():y()}unbindEvents(){Dt(this._listeners,(a,s)=>{this.platform.removeEventListener(this,s,a)}),this._listeners={},Dt(this._responsiveListeners,(a,s)=>{this.platform.removeEventListener(this,s,a)}),this._responsiveListeners=void 0}updateHoverStyle(a,s,u){const h=u?"set":"remove";let g,y,E,T;for("dataset"===s&&(g=this.getDatasetMeta(a[0].datasetIndex),g.controller["_"+h+"DatasetHoverStyle"]()),E=0,T=a.length;E<T;++E){y=a[E];const P=y&&this.getDatasetMeta(y.datasetIndex).controller;P&&P[h+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(a){const s=this._active||[],u=a.map(({datasetIndex:g,index:y})=>{const E=this.getDatasetMeta(g);if(!E)throw new Error("No dataset found at index "+g);return{datasetIndex:g,element:E.data[y],index:y}});!ct(u,s)&&(this._active=u,this._lastEvent=null,this._updateHoverStyles(u,s))}notifyPlugins(a,s,u){return this._plugins.notify(this,a,s,u)}_updateHoverStyles(a,s,u){const h=this.options.hover,g=(T,P)=>T.filter(G=>!P.some(ee=>G.datasetIndex===ee.datasetIndex&&G.index===ee.index)),y=g(s,a),E=u?a:g(a,s);y.length&&this.updateHoverStyle(y,h.mode,!1),E.length&&h.mode&&this.updateHoverStyle(E,h.mode,!0)}_eventHandler(a,s){const u={event:a,replay:s,cancelable:!0,inChartArea:Hn(a,this.chartArea,this._minPadding)},h=y=>(y.options.events||this.options.events).includes(a.native.type);if(!1===this.notifyPlugins("beforeEvent",u,h))return;const g=this._handleEvent(a,s,u.inChartArea);return u.cancelable=!1,this.notifyPlugins("afterEvent",u,h),(g||u.changed)&&this.render(),this}_handleEvent(a,s,u){const{_active:h=[],options:g}=this,E=this._getActiveElements(a,h,u,s),T=function Bt(l){return"mouseup"===l.type||"click"===l.type||"contextmenu"===l.type}(a),P=function Ld(l,a,s,u){return s&&"mouseout"!==l.type?u?a:l:null}(a,this._lastEvent,u,T);u&&(this._lastEvent=null,Le(g.onHover,[a,E,this],this),T&&Le(g.onClick,[a,E,this],this));const G=!ct(E,h);return(G||s)&&(this._active=E,this._updateHoverStyles(E,h,s)),this._lastEvent=P,G}_getActiveElements(a,s,u,h){if("mouseout"===a.type)return[];if(!u)return s;const g=this.options.hover;return this.getElementsAtEventForMode(a,g.mode,g,h)}}const qu=()=>Dt(xa.instances,l=>l._plugins.invalidate()),_l=!0;function Rc(l,a,s){const{startAngle:u,pixelMargin:h,x:g,y,outerRadius:E,innerRadius:T}=a;let P=h/E;l.beginPath(),l.arc(g,y,E,u-P,s+P),T>h?(P=h/T,l.arc(g,y,T,s+P,u-P,!0)):l.arc(g,y,h,s+Gt,u-Gt),l.closePath(),l.clip()}function ts(l,a,s,u){return{x:s+l*Math.cos(a),y:u+l*Math.sin(a)}}function Fo(l,a,s,u,h){const{x:g,y,startAngle:E,pixelMargin:T,innerRadius:P}=a,G=Math.max(a.outerRadius+u+s-T,0),ee=P>0?P+u+s+T:0;let fe=0;const Me=h-E;if(u){const zl=((P>0?P-u:0)+(G>0?G-u:0))/2;fe=(Me-(0!==zl?Me*zl/(zl+u):Me))/2}const Ke=(Me-Math.max(.001,Me*G-s/jt)/G)/2,mt=E+Ke+fe,Et=h-Ke-fe,{outerStart:zt,outerEnd:wn,innerStart:nn,innerEnd:Wt}=function Fd(l,a,s,u){const h=function jf(l){return pt(l,["outerStart","outerEnd","innerStart","innerEnd"])}(l.options.borderRadius),g=(s-a)/2,y=Math.min(g,u*a/2),E=T=>{const P=(s-Math.min(g,T))*u/2;return er(T,0,Math.min(g,P))};return{outerStart:E(h.outerStart),outerEnd:E(h.outerEnd),innerStart:er(h.innerStart,0,y),innerEnd:er(h.innerEnd,0,y)}}(a,ee,G,Et-mt),En=G-zt,xn=G-wn,Gn=mt+zt/En,or=Et-wn/xn,Di=ee+nn,yi=ee+Wt,_i=mt+nn/Di,Ns=Et-Wt/yi;if(l.beginPath(),l.arc(g,y,G,Gn,or),wn>0){const Wi=ts(xn,or,g,y);l.arc(Wi.x,Wi.y,wn,or,Et+Gt)}const Mo=ts(yi,Et,g,y);if(l.lineTo(Mo.x,Mo.y),Wt>0){const Wi=ts(yi,Ns,g,y);l.arc(Wi.x,Wi.y,Wt,Et+Gt,Ns+Math.PI)}if(l.arc(g,y,ee,Et-Wt/ee,mt+nn/ee,!0),nn>0){const Wi=ts(Di,_i,g,y);l.arc(Wi.x,Wi.y,nn,_i+Math.PI,mt-Gt)}const ii=ts(En,mt,g,y);if(l.lineTo(ii.x,ii.y),zt>0){const Wi=ts(En,Gn,g,y);l.arc(Wi.x,Wi.y,zt,mt-Gt,Gn)}l.closePath()}Object.defineProperties(xa,{defaults:{enumerable:_l,value:Sn},instances:{enumerable:_l,value:fa},overrides:{enumerable:_l,value:Xr},registry:{enumerable:_l,value:as},version:{enumerable:_l,value:"3.7.1"},getChart:{enumerable:_l,value:pu},register:{enumerable:_l,value:(...l)=>{as.add(...l),qu()}},unregister:{enumerable:_l,value:(...l)=>{as.remove(...l),qu()}}});class kc extends Ss{constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(a,s,u){const h=this.getProps(["x","y"],u),{angle:g,distance:y}=Ur(h,{x:a,y:s}),{startAngle:E,endAngle:T,innerRadius:P,outerRadius:G,circumference:ee}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],u),fe=this.options.spacing/2,Ve=ht(ee,T-E)>=cn||xr(g,E,T),Ke=tn(y,P+fe,G+fe);return Ve&&Ke}getCenterPoint(a){const{x:s,y:u,startAngle:h,endAngle:g,innerRadius:y,outerRadius:E}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],a),{offset:T,spacing:P}=this.options,G=(h+g)/2,ee=(y+E+P+T)/2;return{x:s+Math.cos(G)*ee,y:u+Math.sin(G)*ee}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:s,circumference:u}=this,h=(s.offset||0)/2,g=(s.spacing||0)/2;if(this.pixelMargin="inner"===s.borderAlign?.33:0,this.fullCircles=u>cn?Math.floor(u/cn):0,0===u||this.innerRadius<0||this.outerRadius<0)return;a.save();let y=0;if(h){y=h/2;const T=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(T)*y,Math.sin(T)*y),this.circumference>=jt&&(y=h)}a.fillStyle=s.backgroundColor,a.strokeStyle=s.borderColor;const E=function Ol(l,a,s,u){const{fullCircles:h,startAngle:g,circumference:y}=a;let E=a.endAngle;if(h){Fo(l,a,s,u,g+cn);for(let T=0;T<h;++T)l.fill();isNaN(y)||(E=g+y%cn,y%cn==0&&(E+=cn))}return Fo(l,a,s,u,E),l.fill(),E}(a,this,y,g);(function Ph(l,a,s,u,h){const{options:g}=a,{borderWidth:y,borderJoinStyle:E}=g,T="inner"===g.borderAlign;!y||(T?(l.lineWidth=2*y,l.lineJoin=E||"round"):(l.lineWidth=y,l.lineJoin=E||"bevel"),a.fullCircles&&function Oh(l,a,s){const{x:u,y:h,startAngle:g,pixelMargin:y,fullCircles:E}=a,T=Math.max(a.outerRadius-y,0),P=a.innerRadius+y;let G;for(s&&Rc(l,a,g+cn),l.beginPath(),l.arc(u,h,P,g+cn,g,!0),G=0;G<E;++G)l.stroke();for(l.beginPath(),l.arc(u,h,T,g,g+cn),G=0;G<E;++G)l.stroke()}(l,a,T),T&&Rc(l,a,h),Fo(l,a,s,u,h),l.stroke())})(a,this,y,g,E),a.restore()}}function Rh(l,a,s=a){l.lineCap=ht(s.borderCapStyle,a.borderCapStyle),l.setLineDash(ht(s.borderDash,a.borderDash)),l.lineDashOffset=ht(s.borderDashOffset,a.borderDashOffset),l.lineJoin=ht(s.borderJoinStyle,a.borderJoinStyle),l.lineWidth=ht(s.borderWidth,a.borderWidth),l.strokeStyle=ht(s.borderColor,a.borderColor)}function kh(l,a,s){l.lineTo(s.x,s.y)}function vl(l,a,s={}){const u=l.length,{start:h=0,end:g=u-1}=s,{start:y,end:E}=a,T=Math.max(h,y),P=Math.min(g,E);return{count:u,start:T,loop:a.loop,ilen:P<T&&!(h<y&&g<y||h>E&&g>E)?u+P-T:P-T}}function Nh(l,a,s,u){const{points:h,options:g}=a,{count:y,start:E,loop:T,ilen:P}=vl(h,s,u),G=function gu(l){return l.stepped?ye:l.tension||"monotone"===l.cubicInterpolationMode?ze:kh}(g);let Me,Ve,Ke,{move:ee=!0,reverse:fe}=u||{};for(Me=0;Me<=P;++Me)Ve=h[(E+(fe?P-Me:Me))%y],!Ve.skip&&(ee?(l.moveTo(Ve.x,Ve.y),ee=!1):G(l,Ke,Ve,fe,g.stepped),Ke=Ve);return T&&(Ve=h[(E+(fe?P:0))%y],G(l,Ke,Ve,fe,g.stepped)),!!T}function Lh(l,a,s,u){const h=a.points,{count:g,start:y,ilen:E}=vl(h,s,u),{move:T=!0,reverse:P}=u||{};let fe,Me,Ve,Ke,mt,Et,G=0,ee=0;const zt=nn=>(y+(P?E-nn:nn))%g,wn=()=>{Ke!==mt&&(l.lineTo(G,mt),l.lineTo(G,Ke),l.lineTo(G,Et))};for(T&&(Me=h[zt(0)],l.moveTo(Me.x,Me.y)),fe=0;fe<=E;++fe){if(Me=h[zt(fe)],Me.skip)continue;const nn=Me.x,Wt=Me.y,En=0|nn;En===Ve?(Wt<Ke?Ke=Wt:Wt>mt&&(mt=Wt),G=(ee*G+nn)/++ee):(wn(),l.lineTo(nn,Wt),Ve=En,ee=0,Ke=mt=Wt),Et=Wt}wn()}function Vd(l){const a=l.options;return l._decimated||l._loop||a.tension||"monotone"===a.cubicInterpolationMode||a.stepped||a.borderDash&&a.borderDash.length?Nh:Lh}kc.id="arc",kc.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},kc.defaultRoutes={backgroundColor:"backgroundColor"};const ns="function"==typeof Path2D;let yo=(()=>{class l extends Ss{constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,u){const h=this.options;!h.tension&&"monotone"!==h.cubicInterpolationMode||h.stepped||this._pointsUpdated||(un(this._points,h,s,h.spanGaps?this._loop:this._fullLoop,u),this._pointsUpdated=!0)}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Js(l,a){const s=l.points,u=l.options.spanGaps,h=s.length;if(!h)return[];const g=!!l._loop,{start:y,end:E}=function wa(l,a,s,u){let h=0,g=a-1;if(s&&!u)for(;h<a&&!l[h].skip;)h++;for(;h<a&&l[h].skip;)h++;for(h%=a,s&&(g+=h);g>h&&l[g%a].skip;)g--;return g%=a,{start:h,end:g}}(s,h,g,u);return function ta(l,a,s,u){return u&&u.setContext&&s?function jo(l,a,s,u){const h=l._chart.getContext(),g=Ho(l.options),{_datasetIndex:y,options:{spanGaps:E}}=l,T=s.length,P=[];let G=g,ee=a[0].start,fe=ee;function Me(Ve,Ke,mt,Et){const zt=E?-1:1;if(Ve!==Ke){for(Ve+=T;s[Ve%T].skip;)Ve-=zt;for(;s[Ke%T].skip;)Ke+=zt;Ve%T!=Ke%T&&(P.push({start:Ve%T,end:Ke%T,loop:mt,style:Et}),G=Et,ee=Ke%T)}}for(const Ve of a){ee=E?ee:Ve.start;let mt,Ke=s[ee%T];for(fe=ee+1;fe<=Ve.end;fe++){const Et=s[fe%T];mt=Ho(u.setContext(pi(h,{type:"segment",p0:Ke,p1:Et,p0DataIndex:(fe-1)%T,p1DataIndex:fe%T,datasetIndex:y}))),Ea(mt,G)&&Me(ee,fe-1,Ve.loop,G),Ke=Et,G=mt}ee<fe-1&&Me(ee,fe-1,Ve.loop,G)}return P}(l,a,s,u):a}(l,!0===u?[{start:y,end:E,loop:g}]:function Xs(l,a,s,u){const h=l.length,g=[];let T,y=a,E=l[a];for(T=a+1;T<=s;++T){const P=l[T%h];P.skip||P.stop?E.skip||(g.push({start:a%h,end:(T-1)%h,loop:u=!1}),a=y=P.stop?T:null):(y=T,E.skip&&(a=T)),E=P}return null!==y&&g.push({start:a%h,end:y%h,loop:u}),g}(s,y,E<y?E+h:E,!!l._fullLoop&&0===y&&E===h-1),s,a)}(this,this.options.segment))}first(){const s=this.segments;return s.length&&this.points[s[0].start]}last(){const s=this.segments,h=s.length;return h&&this.points[s[h-1].end]}interpolate(s,u){const h=this.options,g=s[u],y=this.points,E=Bs(this,{property:u,start:g,end:g});if(!E.length)return;const T=[],P=function Ha(l){return l.stepped?Y:l.tension||"monotone"===l.cubicInterpolationMode?Je:V}(h);let G,ee;for(G=0,ee=E.length;G<ee;++G){const{start:fe,end:Me}=E[G],Ve=y[fe],Ke=y[Me];if(Ve===Ke){T.push(Ve);continue}const Et=P(Ve,Ke,Math.abs((g-Ve[u])/(Ke[u]-Ve[u])),h.stepped);Et[u]=s[u],T.push(Et)}return 1===T.length?T[0]:T}pathSegment(s,u,h){return Vd(this)(s,this,u,h)}path(s,u,h){const g=this.segments,y=Vd(this);let E=this._loop;u=u||0,h=h||this.points.length-u;for(const T of g)E&=y(s,this,T,{start:u,end:u+h-1});return!!E}draw(s,u,h,g){(this.points||[]).length&&(this.options||{}).borderWidth&&(s.save(),function di(l,a,s,u){ns&&!a.options.segment?function Fh(l,a,s,u){let h=a._path;h||(h=a._path=new Path2D,a.path(h,s,u)&&h.closePath()),Rh(l,a.options),l.stroke(h)}(l,a,s,u):function Hf(l,a,s,u){const{segments:h,options:g}=a,y=Vd(a);for(const E of h)Rh(l,g,E.style),l.beginPath(),y(l,a,E,{start:s,end:s+u-1})&&l.closePath(),l.stroke()}(l,a,s,u)}(s,this,h,g),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return l.id="line",l.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},l.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},l.descriptors={_scriptable:!0,_indexable:a=>"borderDash"!==a&&"fill"!==a},l})();function rc(l,a,s,u){const h=l.options,{[s]:g}=l.getProps([s],u);return Math.abs(a-g)<h.radius+h.hitRadius}let ol=(()=>{class l extends Ss{constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,u,h){const g=this.options,{x:y,y:E}=this.getProps(["x","y"],h);return Math.pow(s-y,2)+Math.pow(u-E,2)<Math.pow(g.hitRadius+g.radius,2)}inXRange(s,u){return rc(this,s,"x",u)}inYRange(s,u){return rc(this,s,"y",u)}getCenterPoint(s){const{x:u,y:h}=this.getProps(["x","y"],s);return{x:u,y:h}}size(s){let u=(s=s||this.options||{}).radius||0;return u=Math.max(u,u&&s.hoverRadius||0),2*(u+(u&&s.borderWidth||0))}draw(s,u){const h=this.options;this.skip||h.radius<.1||!Hn(this,u,this.size(h)/2)||(s.strokeStyle=h.borderColor,s.lineWidth=h.borderWidth,s.fillStyle=h.backgroundColor,$t(s,h,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}return l.id="point",l.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},l.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},l})();function rs(l,a){const{x:s,y:u,base:h,width:g,height:y}=l.getProps(["x","y","base","width","height"],a);let E,T,P,G,ee;return l.horizontal?(ee=y/2,E=Math.min(s,h),T=Math.max(s,h),P=u-ee,G=u+ee):(ee=g/2,E=s-ee,T=s+ee,P=Math.min(u,h),G=Math.max(u,h)),{left:E,top:P,right:T,bottom:G}}function Aa(l,a,s,u){return l?0:er(a,s,u)}function al(l,a,s,u){const h=null===a,g=null===s,E=l&&!(h&&g)&&rs(l,u);return E&&(h||tn(a,E.left,E.right))&&(g||tn(s,E.top,E.bottom))}function Yo(l,a){l.rect(a.x,a.y,a.w,a.h)}function Vh(l,a,s={}){const u=l.x!==s.x?-a:0,h=l.y!==s.y?-a:0;return{x:l.x+u,y:l.y+h,w:l.w+((l.x+l.w!==s.x+s.w?a:0)-u),h:l.h+((l.y+l.h!==s.y+s.h?a:0)-h),radius:l.radius}}class ic extends Ss{constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:s,options:{borderColor:u,backgroundColor:h}}=this,{inner:g,outer:y}=function $f(l){const a=rs(l),s=a.right-a.left,u=a.bottom-a.top,h=function xo(l,a,s){const h=l.borderSkipped,g=kt(l.options.borderWidth);return{t:Aa(h.top,g.top,0,s),r:Aa(h.right,g.right,0,a),b:Aa(h.bottom,g.bottom,0,s),l:Aa(h.left,g.left,0,a)}}(l,s/2,u/2),g=function Xi(l,a,s){const{enableBorderRadius:u}=l.getProps(["enableBorderRadius"]),h=l.options.borderRadius,g=Kt(h),y=Math.min(a,s),E=l.borderSkipped,T=u||Ye(h);return{topLeft:Aa(!T||E.top||E.left,g.topLeft,0,y),topRight:Aa(!T||E.top||E.right,g.topRight,0,y),bottomLeft:Aa(!T||E.bottom||E.left,g.bottomLeft,0,y),bottomRight:Aa(!T||E.bottom||E.right,g.bottomRight,0,y)}}(l,s/2,u/2);return{outer:{x:a.left,y:a.top,w:s,h:u,radius:g},inner:{x:a.left+h.l,y:a.top+h.t,w:s-h.l-h.r,h:u-h.t-h.b,radius:{topLeft:Math.max(0,g.topLeft-Math.max(h.t,h.l)),topRight:Math.max(0,g.topRight-Math.max(h.t,h.r)),bottomLeft:Math.max(0,g.bottomLeft-Math.max(h.b,h.l)),bottomRight:Math.max(0,g.bottomRight-Math.max(h.b,h.r))}}}}(this),E=function Bd(l){return l.topLeft||l.topRight||l.bottomLeft||l.bottomRight}(y.radius)?ar:Yo;a.save(),(y.w!==g.w||y.h!==g.h)&&(a.beginPath(),E(a,Vh(y,s,g)),a.clip(),E(a,Vh(g,-s,y)),a.fillStyle=u,a.fill("evenodd")),a.beginPath(),E(a,Vh(g,s)),a.fillStyle=h,a.fill(),a.restore()}inRange(a,s,u){return al(this,a,s,u)}inXRange(a,s){return al(this,a,null,s)}inYRange(a,s){return al(this,null,a,s)}getCenterPoint(a){const{x:s,y:u,base:h,horizontal:g}=this.getProps(["x","y","base","horizontal"],a);return{x:g?(s+h)/2:s,y:g?u:(u+h)/2}}getRange(a){return"x"===a?this.width/2:this.height/2}}function Bh(l,a,s){const u=function Nc(l){const a=l.options,s=a.fill;let u=ht(s&&s.target,s);return void 0===u&&(u=!!a.backgroundColor),!1!==u&&null!==u&&(!0===u?"origin":u)}(l);if(Ye(u))return!isNaN(u.value)&&u;let h=parseFloat(u);return nt(h)&&Math.floor(h)===h?(("-"===u[0]||"+"===u[0])&&(h=a+h),!(h===a||h<0||h>=s)&&h):["origin","start","end","stack","shape"].indexOf(u)>=0&&u}ic.id="bar",ic.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ic.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Yu{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(a,s,u){const{x:h,y:g,radius:y}=this;return a.arc(h,g,y,(s=s||{start:0,end:cn}).end,s.start,!0),!u.bounds}interpolate(a){const{x:s,y:u,radius:h}=this,g=a.angle;return{x:s+Math.cos(g)*h,y:u+Math.sin(g)*h,angle:g}}}function yu(l,a,s){for(;a>l;a--){const u=s[a];if(!isNaN(u.x)&&!isNaN(u.y))break}return a}function Lc(l,a,s){const u=[];for(let h=0;h<s.length;h++){const g=s[h],{first:y,last:E,point:T}=Uh(g,a,"x");if(!(!T||y&&E))if(y)u.unshift(T);else if(l.push(T),!E)break}l.push(...u)}function Uh(l,a,s){const u=l.interpolate(a,s);if(!u)return{};const h=u[s],g=l.segments,y=l.points;let E=!1,T=!1;for(let P=0;P<g.length;P++){const G=g[P],ee=y[G.start][s],fe=y[G.end][s];if(tn(h,ee,fe)){E=h===ee,T=h===fe;break}}return{first:E,last:T,point:u}}function Kp(l){const{chart:a,fill:s,line:u}=l;if(nt(s))return function kl(l,a){const s=l.getDatasetMeta(a);return s&&l.isDatasetVisible(a)?s.dataset:null}(a,s);if("stack"===s)return function Xu(l){const{scale:a,index:s,line:u}=l,h=[],g=u.segments,y=u.points,E=function qf(l,a){const s=[],u=l.getMatchingVisibleMetas("line");for(let h=0;h<u.length;h++){const g=u[h];if(g.index===a)break;g.hidden||s.unshift(g.dataset)}return s}(a,s);E.push(no({x:null,y:a.bottom},u));for(let T=0;T<g.length;T++){const P=g[T];for(let G=P.start;G<=P.end;G++)Lc(h,y[G],E)}return new yo({points:h,options:{}})}(l);if("shape"===s)return!0;const h=function Qu(l){return(l.scale||{}).getPointPositionForValue?function Gf(l){const{scale:a,fill:s}=l,u=a.options,h=a.getLabels().length,g=[],y=u.reverse?a.max:a.min;let T,P,G;if(G="start"===s?y:"end"===s?u.reverse?a.min:a.max:Ye(s)?s.value:a.getBaseValue(),u.grid.circular)return P=a.getPointPositionForValue(0,y),new Yu({x:P.x,y:P.y,radius:a.getDistanceFromCenterForValue(G)});for(T=0;T<h;++T)g.push(a.getPointPositionForValue(T,G));return g}(l):function Ms(l){const{scale:a={},fill:s}=l;let h,u=null;return"start"===s?u=a.bottom:"end"===s?u=a.top:Ye(s)?u=a.getPixelForValue(s.value):a.getBasePixel&&(u=a.getBasePixel()),nt(u)?(h=a.isHorizontal(),{x:h?u:null,y:h?null:u}):null}(l)}(l);return h instanceof Yu?h:no(h,u)}function no(l,a){let s=[],u=!1;return be(l)?(u=!0,s=l):s=function Kf(l,a){const{x:s=null,y:u=null}=l||{},h=a.points,g=[];return a.segments.forEach(({start:y,end:E})=>{E=yu(y,E,h);const T=h[y],P=h[E];null!==u?(g.push({x:T.x,y:u}),g.push({x:P.x,y:u})):null!==s&&(g.push({x:s,y:T.y}),g.push({x:s,y:P.y}))}),g}(l,a),s.length?new yo({points:s,options:{tension:0},_loop:u,_fullLoop:u}):null}function sc(l,a,s){let h=l[a].fill;const g=[a];let y;if(!s)return h;for(;!1!==h&&-1===g.indexOf(h);){if(!nt(h))return h;if(y=l[h],!y)return!1;if(y.visible)return h;g.push(h),h=y.fill}return!1}function ro(l,a,s){const{segments:u,points:h}=a;let g=!0,y=!1;l.beginPath();for(const E of u){const{start:T,end:P}=E,G=h[T],ee=h[yu(T,P,h)];g?(l.moveTo(G.x,G.y),g=!1):(l.lineTo(G.x,s),l.lineTo(G.x,G.y)),y=!!a.pathSegment(l,E,{move:y}),y?l.closePath():l.lineTo(ee.x,s)}l.lineTo(a.first().x,s),l.closePath(),l.clip()}function $a(l,a,s,u){if(u)return;let h=a[l],g=s[l];return"angle"===l&&(h=rn(h),g=rn(g)),{property:l,start:h,end:g}}function Qo(l,a,s,u){return l&&a?u(l[s],a[s]):l?l[s]:a?a[s]:0}function _o(l,a,s){const{top:u,bottom:h}=a.chart.chartArea,{property:g,start:y,end:E}=s||{};"x"===g&&(l.beginPath(),l.rect(y,u,E-y,h-u),l.clip())}function Sa(l,a,s,u){const h=a.interpolate(s,u);h&&l.lineTo(h.x,h.y)}function vu(l,a){const{line:s,target:u,property:h,color:g,scale:y}=a,E=function _u(l,a,s){const u=l.segments,h=l.points,g=a.points,y=[];for(const E of u){let{start:T,end:P}=E;P=yu(T,P,h);const G=$a(s,h[T],h[P],E.loop);if(!a.segments){y.push({source:E,target:G,start:h[T],end:h[P]});continue}const ee=Bs(a,G);for(const fe of ee){const Me=$a(s,g[fe.start],g[fe.end],fe.loop),Ve=fs(E,h,Me);for(const Ke of Ve)y.push({source:Ke,target:fe,start:{[s]:Qo(G,Me,"start",Math.max)},end:{[s]:Qo(G,Me,"end",Math.min)}})}}return y}(s,u,h);for(const{source:T,target:P,start:G,end:ee}of E){const{style:{backgroundColor:fe=g}={}}=T,Me=!0!==u;l.save(),l.fillStyle=fe,_o(l,y,Me&&$a(h,G,ee)),l.beginPath();const Ve=!!s.pathSegment(l,T);let Ke;if(Me){Ve?l.closePath():Sa(l,u,ee,h);const mt=!!u.pathSegment(l,P,{move:Ve,reverse:!0});Ke=Ve&&mt,Ke||Sa(l,u,G,h)}l.closePath(),l.fill(Ke?"evenodd":"nonzero"),l.restore()}}function Nl(l,a,s){const u=Kp(a),{line:h,scale:g,axis:y}=a,E=h.options,T=E.fill,P=E.backgroundColor,{above:G=P,below:ee=P}=T||{};u&&h.points.length&&(Pe(l,s),function Xo(l,a){const{line:s,target:u,above:h,below:g,area:y,scale:E}=a,T=s._loop?"angle":a.axis;l.save(),"x"===T&&g!==h&&(ro(l,u,y.top),vu(l,{line:s,target:u,color:h,scale:E,property:T}),l.restore(),l.save(),ro(l,u,y.bottom)),vu(l,{line:s,target:u,color:g,scale:E,property:T}),l.restore()}(l,{line:h,target:u,above:G,below:ee,area:s,scale:g,axis:y}),xe(l))}var Ju={id:"filler",afterDatasetsUpdate(l,a,s){const u=(l.data.datasets||[]).length,h=[];let g,y,E,T;for(y=0;y<u;++y)g=l.getDatasetMeta(y),E=g.dataset,T=null,E&&E.options&&E instanceof yo&&(T={visible:l.isDatasetVisible(y),index:y,fill:Bh(E,y,u),chart:l,axis:g.controller.options.indexAxis,scale:g.vScale,line:E}),g.$filler=T,h.push(T);for(y=0;y<u;++y)T=h[y],T&&!1!==T.fill&&(T.fill=sc(h,y,s.propagate))},beforeDraw(l,a,s){const u="beforeDraw"===s.drawTime,h=l.getSortedVisibleDatasetMetas(),g=l.chartArea;for(let y=h.length-1;y>=0;--y){const E=h[y].$filler;!E||(E.line.updateControlPoints(g,E.axis),u&&Nl(l.ctx,E,g))}},beforeDatasetsDraw(l,a,s){if("beforeDatasetsDraw"!==s.drawTime)return;const u=l.getSortedVisibleDatasetMetas();for(let h=u.length-1;h>=0;--h){const g=u[h].$filler;g&&Nl(l.ctx,g,l.chartArea)}},beforeDatasetDraw(l,a,s){const u=a.meta.$filler;!u||!1===u.fill||"beforeDatasetDraw"!==s.drawTime||Nl(l.ctx,u,l.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jh=(l,a)=>{let{boxHeight:s=a,boxWidth:u=a}=l;return l.usePointStyle&&(s=Math.min(s,a),u=Math.min(u,a)),{boxWidth:u,boxHeight:s,itemHeight:Math.max(a,s)}};class Fc extends Ss{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,s,u){this.maxWidth=a,this.maxHeight=s,this._margins=u,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const a=this.options.labels||{};let s=Le(a.generateLabels,[this.chart],this)||[];a.filter&&(s=s.filter(u=>a.filter(u,this.chart.data))),a.sort&&(s=s.sort((u,h)=>a.sort(u,h,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:a,ctx:s}=this;if(!a.display)return void(this.width=this.height=0);const u=a.labels,h=Yn(u.font),g=h.size,y=this._computeTitleHeight(),{boxWidth:E,itemHeight:T}=jh(u,g);let P,G;s.font=h.string,this.isHorizontal()?(P=this.maxWidth,G=this._fitRows(y,g,E,T)+10):(G=this.maxHeight,P=this._fitCols(y,g,E,T)+10),this.width=Math.min(P,a.maxWidth||this.maxWidth),this.height=Math.min(G,a.maxHeight||this.maxHeight)}_fitRows(a,s,u,h){const{ctx:g,maxWidth:y,options:{labels:{padding:E}}}=this,T=this.legendHitBoxes=[],P=this.lineWidths=[0],G=h+E;let ee=a;g.textAlign="left",g.textBaseline="middle";let fe=-1,Me=-G;return this.legendItems.forEach((Ve,Ke)=>{const mt=u+s/2+g.measureText(Ve.text).width;(0===Ke||P[P.length-1]+mt+2*E>y)&&(ee+=G,P[P.length-(Ke>0?0:1)]=0,Me+=G,fe++),T[Ke]={left:0,top:Me,row:fe,width:mt,height:h},P[P.length-1]+=mt+E}),ee}_fitCols(a,s,u,h){const{ctx:g,maxHeight:y,options:{labels:{padding:E}}}=this,T=this.legendHitBoxes=[],P=this.columnSizes=[],G=y-a;let ee=E,fe=0,Me=0,Ve=0,Ke=0;return this.legendItems.forEach((mt,Et)=>{const zt=u+s/2+g.measureText(mt.text).width;Et>0&&Me+h+2*E>G&&(ee+=fe+E,P.push({width:fe,height:Me}),Ve+=fe+E,Ke++,fe=Me=0),T[Et]={left:Ve,top:Me,col:Ke,width:zt,height:h},fe=Math.max(fe,zt),Me+=h+E}),ee+=fe,P.push({width:fe,height:Me}),ee}adjustHitBoxes(){if(!this.options.display)return;const a=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:u,labels:{padding:h},rtl:g}}=this,y=Ts(g,this.left,this.width);if(this.isHorizontal()){let E=0,T=Ae(u,this.left+h,this.right-this.lineWidths[E]);for(const P of s)E!==P.row&&(E=P.row,T=Ae(u,this.left+h,this.right-this.lineWidths[E])),P.top+=this.top+a+h,P.left=y.leftForLtr(y.x(T),P.width),T+=P.width+h}else{let E=0,T=Ae(u,this.top+a+h,this.bottom-this.columnSizes[E].height);for(const P of s)P.col!==E&&(E=P.col,T=Ae(u,this.top+a+h,this.bottom-this.columnSizes[E].height)),P.top=T,P.left+=this.left+h,P.left=y.leftForLtr(y.x(P.left),P.width),T+=P.height+h}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const a=this.ctx;Pe(a,this),this._draw(),xe(a)}}_draw(){const{options:a,columnSizes:s,lineWidths:u,ctx:h}=this,{align:g,labels:y}=a,E=Sn.color,T=Ts(a.rtl,this.left,this.width),P=Yn(y.font),{color:G,padding:ee}=y,fe=P.size,Me=fe/2;let Ve;this.drawTitle(),h.textAlign=T.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=P.string;const{boxWidth:Ke,boxHeight:mt,itemHeight:Et}=jh(y,fe),nn=this.isHorizontal(),Wt=this._computeTitleHeight();Ve=nn?{x:Ae(g,this.left+ee,this.right-u[0]),y:this.top+ee+Wt,line:0}:{x:this.left+ee,y:Ae(g,this.top+Wt+ee,this.bottom-s[0].height),line:0},Vs(this.ctx,a.textDirection);const En=Et+ee;this.legendItems.forEach((xn,Gn)=>{h.strokeStyle=xn.fontColor||G,h.fillStyle=xn.fontColor||G;const or=h.measureText(xn.text).width,Di=T.textAlign(xn.textAlign||(xn.textAlign=y.textAlign)),yi=Ke+Me+or;let _i=Ve.x,Ns=Ve.y;T.setWidth(this.width),nn?Gn>0&&_i+yi+ee>this.right&&(Ns=Ve.y+=En,Ve.line++,_i=Ve.x=Ae(g,this.left+ee,this.right-u[Ve.line])):Gn>0&&Ns+En>this.bottom&&(_i=Ve.x=_i+s[Ve.line].width+ee,Ve.line++,Ns=Ve.y=Ae(g,this.top+Wt+ee,this.bottom-s[Ve.line].height)),function(xn,Gn,or){if(isNaN(Ke)||Ke<=0||isNaN(mt)||mt<0)return;h.save();const Di=ht(or.lineWidth,1);if(h.fillStyle=ht(or.fillStyle,E),h.lineCap=ht(or.lineCap,"butt"),h.lineDashOffset=ht(or.lineDashOffset,0),h.lineJoin=ht(or.lineJoin,"miter"),h.lineWidth=Di,h.strokeStyle=ht(or.strokeStyle,E),h.setLineDash(ht(or.lineDash,[])),y.usePointStyle){const yi={radius:Ke*Math.SQRT2/2,pointStyle:or.pointStyle,rotation:or.rotation,borderWidth:Di},_i=T.xPlus(xn,Ke/2);$t(h,yi,_i,Gn+Me)}else{const yi=Gn+Math.max((fe-mt)/2,0),_i=T.leftForLtr(xn,Ke),Ns=Kt(or.borderRadius);h.beginPath(),Object.values(Ns).some(Mo=>0!==Mo)?ar(h,{x:_i,y:yi,w:Ke,h:mt,radius:Ns}):h.rect(_i,yi,Ke,mt),h.fill(),0!==Di&&h.stroke()}h.restore()}(T.x(_i),Ns,xn),_i=((l,a,s,u)=>l===(u?"left":"right")?s:"center"===l?(a+s)/2:a)(Di,_i+Ke+Me,nn?_i+yi:this.right,a.rtl),function(xn,Gn,or){It(h,or.text,xn,Gn+Et/2,P,{strikethrough:or.hidden,textAlign:T.textAlign(or.textAlign)})}(T.x(_i),Ns,xn),nn?Ve.x+=yi+ee:Ve.y+=En}),_a(this.ctx,a.textDirection)}drawTitle(){const a=this.options,s=a.title,u=Yn(s.font),h=pn(s.padding);if(!s.display)return;const g=Ts(a.rtl,this.left,this.width),y=this.ctx,E=s.position,P=h.top+u.size/2;let G,ee=this.left,fe=this.width;if(this.isHorizontal())fe=Math.max(...this.lineWidths),G=this.top+P,ee=Ae(a.align,ee,this.right-fe);else{const Ve=this.columnSizes.reduce((Ke,mt)=>Math.max(Ke,mt.height),0);G=P+Ae(a.align,this.top,this.bottom-Ve-a.labels.padding-this._computeTitleHeight())}const Me=Ae(E,ee,ee+fe);y.textAlign=g.textAlign(Ne(E)),y.textBaseline="middle",y.strokeStyle=s.color,y.fillStyle=s.color,y.font=u.string,It(y,s.text,Me,G,u)}_computeTitleHeight(){const a=this.options.title,s=Yn(a.font),u=pn(a.padding);return a.display?s.lineHeight+u.height:0}_getLegendItemAt(a,s){let u,h,g;if(tn(a,this.left,this.right)&&tn(s,this.top,this.bottom))for(g=this.legendHitBoxes,u=0;u<g.length;++u)if(h=g[u],tn(a,h.left,h.left+h.width)&&tn(s,h.top,h.top+h.height))return this.legendItems[u];return null}handleEvent(a){const s=this.options;if(!function Hh(l,a){return!!("mousemove"===l&&(a.onHover||a.onLeave)||a.onClick&&("click"===l||"mouseup"===l))}(a.type,s))return;const u=this._getLegendItemAt(a.x,a.y);if("mousemove"===a.type){const h=this._hoveredItem,g=((l,a)=>null!==l&&null!==a&&l.datasetIndex===a.datasetIndex&&l.index===a.index)(h,u);h&&!g&&Le(s.onLeave,[a,h,this],this),this._hoveredItem=u,u&&!g&&Le(s.onHover,[a,u,this],this)}else u&&Le(s.onClick,[a,u,this],this)}}var ed={id:"legend",_element:Fc,start(l,a,s){const u=l.legend=new Fc({ctx:l.ctx,options:s,chart:l});ks.configure(l,u,s),ks.addBox(l,u)},stop(l){ks.removeBox(l,l.legend),delete l.legend},beforeUpdate(l,a,s){const u=l.legend;ks.configure(l,u,s),u.options=s},afterUpdate(l){const a=l.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(l,a){a.replay||l.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(l,a,s){const u=a.datasetIndex,h=s.chart;h.isDatasetVisible(u)?(h.hide(u),a.hidden=!0):(h.show(u),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:l=>l.chart.options.color,boxWidth:40,padding:10,generateLabels(l){const a=l.data.datasets,{labels:{usePointStyle:s,pointStyle:u,textAlign:h,color:g}}=l.legend.options;return l._getSortedDatasetMetas().map(y=>{const E=y.controller.getStyle(s?0:void 0),T=pn(E.borderWidth);return{text:a[y.index].label,fillStyle:E.backgroundColor,fontColor:g,hidden:!y.visible,lineCap:E.borderCapStyle,lineDash:E.borderDash,lineDashOffset:E.borderDashOffset,lineJoin:E.borderJoinStyle,lineWidth:(T.width+T.height)/4,strokeStyle:E.borderColor,pointStyle:u||E.pointStyle,rotation:E.rotation,textAlign:h||E.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:l=>l.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:l=>!l.startsWith("on"),labels:{_scriptable:l=>!["generateLabels","filter","sort"].includes(l)}}};class td extends Ss{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,s){const u=this.options;if(this.left=0,this.top=0,!u.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=a,this.height=this.bottom=s;const h=be(u.text)?u.text.length:1;this._padding=pn(u.padding);const g=h*Yn(u.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=g:this.width=g}isHorizontal(){const a=this.options.position;return"top"===a||"bottom"===a}_drawArgs(a){const{top:s,left:u,bottom:h,right:g,options:y}=this,E=y.align;let P,G,ee,T=0;return this.isHorizontal()?(G=Ae(E,u,g),ee=s+a,P=g-u):("left"===y.position?(G=u+a,ee=Ae(E,h,s),T=-.5*jt):(G=g-a,ee=Ae(E,s,h),T=.5*jt),P=h-s),{titleX:G,titleY:ee,maxWidth:P,rotation:T}}draw(){const a=this.ctx,s=this.options;if(!s.display)return;const u=Yn(s.font),g=u.lineHeight/2+this._padding.top,{titleX:y,titleY:E,maxWidth:T,rotation:P}=this._drawArgs(g);It(a,s.text,0,0,u,{color:s.color,maxWidth:T,rotation:P,textAlign:Ne(s.align),textBaseline:"middle",translation:[y,E]})}}var Ud={id:"title",_element:td,start(l,a,s){!function za(l,a){const s=new td({ctx:l.ctx,options:a,chart:l});ks.configure(l,s,a),ks.addBox(l,s),l.titleBlock=s}(l,s)},stop(l){ks.removeBox(l,l.titleBlock),delete l.titleBlock},beforeUpdate(l,a,s){const u=l.titleBlock;ks.configure(l,u,s),u.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wu={average(l){if(!l.length)return!1;let a,s,u=0,h=0,g=0;for(a=0,s=l.length;a<s;++a){const y=l[a].element;if(y&&y.hasValue()){const E=y.tooltipPosition();u+=E.x,h+=E.y,++g}}return{x:u/g,y:h/g}},nearest(l,a){if(!l.length)return!1;let g,y,E,s=a.x,u=a.y,h=Number.POSITIVE_INFINITY;for(g=0,y=l.length;g<y;++g){const T=l[g].element;if(T&&T.hasValue()){const G=Li(a,T.getCenterPoint());G<h&&(h=G,E=T)}}if(E){const T=E.tooltipPosition();s=T.x,u=T.y}return{x:s,y:u}}};function Ao(l,a){return a&&(be(a)?Array.prototype.push.apply(l,a):l.push(a)),l}function Ii(l){return("string"==typeof l||l instanceof String)&&l.indexOf("\n")>-1?l.split("\n"):l}function Hd(l,a){const{element:s,datasetIndex:u,index:h}=a,g=l.getDatasetMeta(u).controller,{label:y,value:E}=g.getLabelAndValue(h);return{chart:l,label:y,parsed:g.getParsed(h),raw:l.data.datasets[u].data[h],formattedValue:E,dataset:g.getDataset(),dataIndex:h,datasetIndex:u,element:s}}function nd(l,a){const s=l.chart.ctx,{body:u,footer:h,title:g}=l,{boxWidth:y,boxHeight:E}=a,T=Yn(a.bodyFont),P=Yn(a.titleFont),G=Yn(a.footerFont),ee=g.length,fe=h.length,Me=u.length,Ve=pn(a.padding);let Ke=Ve.height,mt=0,Et=u.reduce((nn,Wt)=>nn+Wt.before.length+Wt.lines.length+Wt.after.length,0);Et+=l.beforeBody.length+l.afterBody.length,ee&&(Ke+=ee*P.lineHeight+(ee-1)*a.titleSpacing+a.titleMarginBottom),Et&&(Ke+=Me*(a.displayColors?Math.max(E,T.lineHeight):T.lineHeight)+(Et-Me)*T.lineHeight+(Et-1)*a.bodySpacing),fe&&(Ke+=a.footerMarginTop+fe*G.lineHeight+(fe-1)*a.footerSpacing);let zt=0;const wn=function(nn){mt=Math.max(mt,s.measureText(nn).width+zt)};return s.save(),s.font=P.string,Dt(l.title,wn),s.font=T.string,Dt(l.beforeBody.concat(l.afterBody),wn),zt=a.displayColors?y+2+a.boxPadding:0,Dt(u,nn=>{Dt(nn.before,wn),Dt(nn.lines,wn),Dt(nn.after,wn)}),zt=0,s.font=G.string,Dt(l.footer,wn),s.restore(),mt+=Ve.width,{width:mt,height:Ke}}function zs(l,a,s,u){const{x:h,width:g}=s,{width:y,chartArea:{left:E,right:T}}=l;let P="center";return"center"===u?P=h<=(E+T)/2?"left":"right":h<=g/2?P="left":h>=y-g/2&&(P="right"),function ll(l,a,s,u){const{x:h,width:g}=u,y=s.caretSize+s.caretPadding;if("left"===l&&h+g+y>a.width||"right"===l&&h-g-y<0)return!0}(P,l,a,s)&&(P="center"),P}function rd(l,a,s){const u=s.yAlign||a.yAlign||function Zf(l,a){const{y:s,height:u}=a;return s<u/2?"top":s>l.height-u/2?"bottom":"center"}(l,s);return{xAlign:s.xAlign||a.xAlign||zs(l,a,s,u),yAlign:u}}function Eu(l,a,s,u){const{caretSize:h,caretPadding:g,cornerRadius:y}=l,{xAlign:E,yAlign:T}=s,P=h+g,{topLeft:G,topRight:ee,bottomLeft:fe,bottomRight:Me}=Kt(y);let Ve=function $d(l,a){let{x:s,width:u}=l;return"right"===a?s-=u:"center"===a&&(s-=u/2),s}(a,E);const Ke=function cl(l,a,s){let{y:u,height:h}=l;return"top"===a?u+=s:u-="bottom"===a?h+s:h/2,u}(a,T,P);return"center"===T?"left"===E?Ve+=P:"right"===E&&(Ve-=P):"left"===E?Ve-=Math.max(G,fe)+h:"right"===E&&(Ve+=Math.max(ee,Me)+h),{x:er(Ve,0,u.width-a.width),y:er(Ke,0,u.height-a.height)}}function oc(l,a,s){const u=pn(s.padding);return"center"===a?l.x+l.width/2:"right"===a?l.x+l.width-u.right:l.x+u.left}function zd(l){return Ao([],Ii(l))}function $h(l,a){const s=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return s?l.override(s):l}let D=(()=>{class l extends Ss{constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart||s._chart,this._chart=this.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const u=this.chart,h=this.options.setContext(this.getContext()),g=h.enabled&&u.options.animation&&h.animations,y=new ho(this.chart,g);return g._cacheable&&(this._cachedAnimations=Object.freeze(y)),y}getContext(){return this.$context||(this.$context=function Yf(l,a,s){return pi(l,{tooltip:a,tooltipItems:s,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,u){const{callbacks:h}=u,g=h.beforeTitle.apply(this,[s]),y=h.title.apply(this,[s]),E=h.afterTitle.apply(this,[s]);let T=[];return T=Ao(T,Ii(g)),T=Ao(T,Ii(y)),T=Ao(T,Ii(E)),T}getBeforeBody(s,u){return zd(u.callbacks.beforeBody.apply(this,[s]))}getBody(s,u){const{callbacks:h}=u,g=[];return Dt(s,y=>{const E={before:[],lines:[],after:[]},T=$h(h,y);Ao(E.before,Ii(T.beforeLabel.call(this,y))),Ao(E.lines,T.label.call(this,y)),Ao(E.after,Ii(T.afterLabel.call(this,y))),g.push(E)}),g}getAfterBody(s,u){return zd(u.callbacks.afterBody.apply(this,[s]))}getFooter(s,u){const{callbacks:h}=u,g=h.beforeFooter.apply(this,[s]),y=h.footer.apply(this,[s]),E=h.afterFooter.apply(this,[s]);let T=[];return T=Ao(T,Ii(g)),T=Ao(T,Ii(y)),T=Ao(T,Ii(E)),T}_createItems(s){const u=this._active,h=this.chart.data,g=[],y=[],E=[];let P,G,T=[];for(P=0,G=u.length;P<G;++P)T.push(Hd(this.chart,u[P]));return s.filter&&(T=T.filter((ee,fe,Me)=>s.filter(ee,fe,Me,h))),s.itemSort&&(T=T.sort((ee,fe)=>s.itemSort(ee,fe,h))),Dt(T,ee=>{const fe=$h(s.callbacks,ee);g.push(fe.labelColor.call(this,ee)),y.push(fe.labelPointStyle.call(this,ee)),E.push(fe.labelTextColor.call(this,ee))}),this.labelColors=g,this.labelPointStyles=y,this.labelTextColors=E,this.dataPoints=T,T}update(s,u){const h=this.options.setContext(this.getContext()),g=this._active;let y,E=[];if(g.length){const T=wu[h.position].call(this,g,this._eventPosition);E=this._createItems(h),this.title=this.getTitle(E,h),this.beforeBody=this.getBeforeBody(E,h),this.body=this.getBody(E,h),this.afterBody=this.getAfterBody(E,h),this.footer=this.getFooter(E,h);const P=this._size=nd(this,h),G=Object.assign({},T,P),ee=rd(this.chart,h,G),fe=Eu(h,G,ee,this.chart);this.xAlign=ee.xAlign,this.yAlign=ee.yAlign,y={opacity:1,x:fe.x,y:fe.y,width:P.width,height:P.height,caretX:T.x,caretY:T.y}}else 0!==this.opacity&&(y={opacity:0});this._tooltipItems=E,this.$context=void 0,y&&this._resolveAnimations().update(this,y),s&&h.external&&h.external.call(this,{chart:this.chart,tooltip:this,replay:u})}drawCaret(s,u,h,g){const y=this.getCaretPosition(s,h,g);u.lineTo(y.x1,y.y1),u.lineTo(y.x2,y.y2),u.lineTo(y.x3,y.y3)}getCaretPosition(s,u,h){const{xAlign:g,yAlign:y}=this,{caretSize:E,cornerRadius:T}=h,{topLeft:P,topRight:G,bottomLeft:ee,bottomRight:fe}=Kt(T),{x:Me,y:Ve}=s,{width:Ke,height:mt}=u;let Et,zt,wn,nn,Wt,En;return"center"===y?(Wt=Ve+mt/2,"left"===g?(Et=Me,zt=Et-E,nn=Wt+E,En=Wt-E):(Et=Me+Ke,zt=Et+E,nn=Wt-E,En=Wt+E),wn=Et):(zt="left"===g?Me+Math.max(P,ee)+E:"right"===g?Me+Ke-Math.max(G,fe)-E:this.caretX,"top"===y?(nn=Ve,Wt=nn-E,Et=zt-E,wn=zt+E):(nn=Ve+mt,Wt=nn+E,Et=zt+E,wn=zt-E),En=nn),{x1:Et,x2:zt,x3:wn,y1:nn,y2:Wt,y3:En}}drawTitle(s,u,h){const g=this.title,y=g.length;let E,T,P;if(y){const G=Ts(h.rtl,this.x,this.width);for(s.x=oc(this,h.titleAlign,h),u.textAlign=G.textAlign(h.titleAlign),u.textBaseline="middle",E=Yn(h.titleFont),T=h.titleSpacing,u.fillStyle=h.titleColor,u.font=E.string,P=0;P<y;++P)u.fillText(g[P],G.x(s.x),s.y+E.lineHeight/2),s.y+=E.lineHeight+T,P+1===y&&(s.y+=h.titleMarginBottom-T)}}_drawColorBox(s,u,h,g,y){const E=this.labelColors[h],T=this.labelPointStyles[h],{boxHeight:P,boxWidth:G,boxPadding:ee}=y,fe=Yn(y.bodyFont),Me=oc(this,"left",y),Ve=g.x(Me),mt=u.y+(P<fe.lineHeight?(fe.lineHeight-P)/2:0);if(y.usePointStyle){const Et={radius:Math.min(G,P)/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:1},zt=g.leftForLtr(Ve,G)+G/2,wn=mt+P/2;s.strokeStyle=y.multiKeyBackground,s.fillStyle=y.multiKeyBackground,$t(s,Et,zt,wn),s.strokeStyle=E.borderColor,s.fillStyle=E.backgroundColor,$t(s,Et,zt,wn)}else{s.lineWidth=E.borderWidth||1,s.strokeStyle=E.borderColor,s.setLineDash(E.borderDash||[]),s.lineDashOffset=E.borderDashOffset||0;const Et=g.leftForLtr(Ve,G-ee),zt=g.leftForLtr(g.xPlus(Ve,1),G-ee-2),wn=Kt(E.borderRadius);Object.values(wn).some(nn=>0!==nn)?(s.beginPath(),s.fillStyle=y.multiKeyBackground,ar(s,{x:Et,y:mt,w:G,h:P,radius:wn}),s.fill(),s.stroke(),s.fillStyle=E.backgroundColor,s.beginPath(),ar(s,{x:zt,y:mt+1,w:G-2,h:P-2,radius:wn}),s.fill()):(s.fillStyle=y.multiKeyBackground,s.fillRect(Et,mt,G,P),s.strokeRect(Et,mt,G,P),s.fillStyle=E.backgroundColor,s.fillRect(zt,mt+1,G-2,P-2))}s.fillStyle=this.labelTextColors[h]}drawBody(s,u,h){const{body:g}=this,{bodySpacing:y,bodyAlign:E,displayColors:T,boxHeight:P,boxWidth:G,boxPadding:ee}=h,fe=Yn(h.bodyFont);let Me=fe.lineHeight,Ve=0;const Ke=Ts(h.rtl,this.x,this.width),mt=function(or){u.fillText(or,Ke.x(s.x+Ve),s.y+Me/2),s.y+=Me+y},Et=Ke.textAlign(E);let zt,wn,nn,Wt,En,xn,Gn;for(u.textAlign=E,u.textBaseline="middle",u.font=fe.string,s.x=oc(this,Et,h),u.fillStyle=h.bodyColor,Dt(this.beforeBody,mt),Ve=T&&"right"!==Et?"center"===E?G/2+ee:G+2+ee:0,Wt=0,xn=g.length;Wt<xn;++Wt){for(zt=g[Wt],wn=this.labelTextColors[Wt],u.fillStyle=wn,Dt(zt.before,mt),nn=zt.lines,T&&nn.length&&(this._drawColorBox(u,s,Wt,Ke,h),Me=Math.max(fe.lineHeight,P)),En=0,Gn=nn.length;En<Gn;++En)mt(nn[En]),Me=fe.lineHeight;Dt(zt.after,mt)}Ve=0,Me=fe.lineHeight,Dt(this.afterBody,mt),s.y-=y}drawFooter(s,u,h){const g=this.footer,y=g.length;let E,T;if(y){const P=Ts(h.rtl,this.x,this.width);for(s.x=oc(this,h.footerAlign,h),s.y+=h.footerMarginTop,u.textAlign=P.textAlign(h.footerAlign),u.textBaseline="middle",E=Yn(h.footerFont),u.fillStyle=h.footerColor,u.font=E.string,T=0;T<y;++T)u.fillText(g[T],P.x(s.x),s.y+E.lineHeight/2),s.y+=E.lineHeight+h.footerSpacing}}drawBackground(s,u,h,g){const{xAlign:y,yAlign:E}=this,{x:T,y:P}=s,{width:G,height:ee}=h,{topLeft:fe,topRight:Me,bottomLeft:Ve,bottomRight:Ke}=Kt(g.cornerRadius);u.fillStyle=g.backgroundColor,u.strokeStyle=g.borderColor,u.lineWidth=g.borderWidth,u.beginPath(),u.moveTo(T+fe,P),"top"===E&&this.drawCaret(s,u,h,g),u.lineTo(T+G-Me,P),u.quadraticCurveTo(T+G,P,T+G,P+Me),"center"===E&&"right"===y&&this.drawCaret(s,u,h,g),u.lineTo(T+G,P+ee-Ke),u.quadraticCurveTo(T+G,P+ee,T+G-Ke,P+ee),"bottom"===E&&this.drawCaret(s,u,h,g),u.lineTo(T+Ve,P+ee),u.quadraticCurveTo(T,P+ee,T,P+ee-Ve),"center"===E&&"left"===y&&this.drawCaret(s,u,h,g),u.lineTo(T,P+fe),u.quadraticCurveTo(T,P,T+fe,P),u.closePath(),u.fill(),g.borderWidth>0&&u.stroke()}_updateAnimationTarget(s){const u=this.chart,h=this.$animations,g=h&&h.x,y=h&&h.y;if(g||y){const E=wu[s.position].call(this,this._active,this._eventPosition);if(!E)return;const T=this._size=nd(this,s),P=Object.assign({},E,this._size),G=rd(u,s,P),ee=Eu(s,P,G,u);(g._to!==ee.x||y._to!==ee.y)&&(this.xAlign=G.xAlign,this.yAlign=G.yAlign,this.width=T.width,this.height=T.height,this.caretX=E.x,this.caretY=E.y,this._resolveAnimations().update(this,ee))}}draw(s){const u=this.options.setContext(this.getContext());let h=this.opacity;if(!h)return;this._updateAnimationTarget(u);const g={width:this.width,height:this.height},y={x:this.x,y:this.y};h=Math.abs(h)<.001?0:h;const E=pn(u.padding);u.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(s.save(),s.globalAlpha=h,this.drawBackground(y,s,g,u),Vs(s,u.textDirection),y.y+=E.top,this.drawTitle(y,s,u),this.drawBody(y,s,u),this.drawFooter(y,s,u),_a(s,u.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,u){const h=this._active,g=s.map(({datasetIndex:T,index:P})=>{const G=this.chart.getDatasetMeta(T);if(!G)throw new Error("Cannot find a dataset at index "+T);return{datasetIndex:T,element:G.data[P],index:P}}),y=!ct(h,g),E=this._positionChanged(g,u);(y||E)&&(this._active=g,this._eventPosition=u,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,u,h=!0){if(u&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const g=this.options,y=this._active||[],E=this._getActiveElements(s,y,u,h),T=this._positionChanged(E,s),P=u||!ct(E,y)||T;return P&&(this._active=E,(g.enabled||g.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,u))),P}_getActiveElements(s,u,h,g){const y=this.options;if("mouseout"===s.type)return[];if(!g)return u;const E=this.chart.getElementsAtEventForMode(s,y.mode,y,h);return y.reverse&&E.reverse(),E}_positionChanged(s,u){const{caretX:h,caretY:g,options:y}=this,E=wu[y.position].call(this,s,u);return!1!==E&&(h!==E.x||g!==E.y)}}return l.positioners=wu,l})();var m={id:"tooltip",_element:D,positioners:wu,afterInit(l,a,s){s&&(l.tooltip=new D({chart:l,options:s}))},beforeUpdate(l,a,s){l.tooltip&&l.tooltip.initialize(s)},reset(l,a,s){l.tooltip&&l.tooltip.initialize(s)},afterDraw(l){const a=l.tooltip,s={tooltip:a};!1!==l.notifyPlugins("beforeTooltipDraw",s)&&(a&&a.draw(l.ctx),l.notifyPlugins("afterTooltipDraw",s))},afterEvent(l,a){l.tooltip&&l.tooltip.handleEvent(a.event,a.replay,a.inChartArea)&&(a.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(l,a)=>a.bodyFont.size,boxWidth:(l,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:De,title(l){if(l.length>0){const a=l[0],s=a.chart.data.labels,u=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return a.dataset.label||"";if(a.label)return a.label;if(u>0&&a.dataIndex<u)return s[a.dataIndex]}return""},afterTitle:De,beforeBody:De,beforeLabel:De,label(l){if(this&&this.options&&"dataset"===this.options.mode)return l.label+": "+l.formattedValue||l.formattedValue;let a=l.dataset.label||"";a&&(a+=": ");const s=l.formattedValue;return he(s)||(a+=s),a},labelColor(l){const s=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(l){const s=l.chart.getDatasetMeta(l.datasetIndex).controller.getStyle(l.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:De,afterBody:De,beforeFooter:De,footer:De,afterFooter:De}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:l=>"filter"!==l&&"itemSort"!==l&&"external"!==l,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class tt extends gs{constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(a){const s=this._addedLabels;if(s.length){const u=this.getLabels();for(const{index:h,label:g}of s)u[h]===g&&u.splice(h,1);this._addedLabels=[]}super.init(a)}parse(a,s){if(he(a))return null;const u=this.getLabels();return((l,a)=>null===l?null:er(Math.round(l),0,a))(s=isFinite(s)&&u[s]===a?s:function Q(l,a,s,u){const h=l.indexOf(a);return-1===h?((l,a,s,u)=>("string"==typeof a?(s=l.push(a)-1,u.unshift({index:s,label:a})):isNaN(a)&&(s=null),s))(l,a,s,u):h!==l.lastIndexOf(a)?s:h}(u,a,ht(s,a),this._addedLabels),u.length-1)}determineDataLimits(){const{minDefined:a,maxDefined:s}=this.getUserBounds();let{min:u,max:h}=this.getMinMax(!0);"ticks"===this.options.bounds&&(a||(u=0),s||(h=this.getLabels().length-1)),this.min=u,this.max=h}buildTicks(){const a=this.min,s=this.max,u=this.options.offset,h=[];let g=this.getLabels();g=0===a&&s===g.length-1?g:g.slice(a,s+1),this._valueRange=Math.max(g.length-(u?0:1),1),this._startValue=this.min-(u?.5:0);for(let y=a;y<=s;y++)h.push({value:y});return h}getLabelForValue(a){const s=this.getLabels();return a>=0&&a<s.length?s[a]:a}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return"number"!=typeof a&&(a=this.parse(a)),null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){const s=this.ticks;return a<0||a>s.length-1?null:this.getPixelForValue(s[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}}function yn(l,a,{horizontal:s,minRotation:u}){const h=$n(u),g=(s?Math.sin(h):Math.cos(h))||.001;return Math.min(a/g,.75*a*(""+l).length)}tt.id="category",tt.defaults={ticks:{callback:tt.prototype.getLabelForValue}};class Vn extends gs{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,s){return he(a)||("number"==typeof a||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:a}=this.options,{minDefined:s,maxDefined:u}=this.getUserBounds();let{min:h,max:g}=this;const y=T=>h=s?h:T,E=T=>g=u?g:T;if(a){const T=pr(h),P=pr(g);T<0&&P<0?E(0):T>0&&P>0&&y(0)}if(h===g){let T=1;(g>=Number.MAX_SAFE_INTEGER||h<=Number.MIN_SAFE_INTEGER)&&(T=Math.abs(.05*g)),E(g+T),a||y(h-T)}this.min=h,this.max=g}getTickLimit(){const a=this.options.ticks;let h,{maxTicksLimit:s,stepSize:u}=a;return u?(h=Math.ceil(this.max/u)-Math.floor(this.min/u)+1,h>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${u} would result generating up to ${h} ticks. Limiting to 1000.`),h=1e3)):(h=this.computeTickLimit(),s=s||11),s&&(h=Math.min(s,h)),h}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,s=a.ticks;let u=this.getTickLimit();u=Math.max(2,u);const y=function xt(l,a){const s=[],{bounds:h,step:g,min:y,max:E,precision:T,count:P,maxTicks:G,maxDigits:ee,includeBounds:fe}=l,Me=g||1,Ve=G-1,{min:Ke,max:mt}=a,Et=!he(y),zt=!he(E),wn=!he(P),nn=(mt-Ke)/(ee+1);let En,xn,Gn,or,Wt=vr((mt-Ke)/Ve/Me)*Me;if(Wt<1e-14&&!Et&&!zt)return[{value:Ke},{value:mt}];or=Math.ceil(mt/Wt)-Math.floor(Ke/Wt),or>Ve&&(Wt=vr(or*Wt/Ve/Me)*Me),he(T)||(En=Math.pow(10,T),Wt=Math.ceil(Wt*En)/En),"ticks"===h?(xn=Math.floor(Ke/Wt)*Wt,Gn=Math.ceil(mt/Wt)*Wt):(xn=Ke,Gn=mt),Et&&zt&&g&&function Br(l,a){const s=Math.round(l);return s-a<=l&&s+a>=l}((E-y)/g,Wt/1e3)?(or=Math.round(Math.min((E-y)/Wt,G)),Wt=(E-y)/or,xn=y,Gn=E):wn?(xn=Et?y:xn,Gn=zt?E:Gn,or=P-1,Wt=(Gn-xn)/or):(or=(Gn-xn)/Wt,or=zr(or,Math.round(or),Wt/1e3)?Math.round(or):Math.ceil(or));const Di=Math.max(Ln(Wt),Ln(xn));En=Math.pow(10,he(T)?Di:T),xn=Math.round(xn*En)/En,Gn=Math.round(Gn*En)/En;let yi=0;for(Et&&(fe&&xn!==y?(s.push({value:y}),xn<y&&yi++,zr(Math.round((xn+yi*Wt)*En)/En,y,yn(y,nn,l))&&yi++):xn<y&&yi++);yi<or;++yi)s.push({value:Math.round((xn+yi*Wt)*En)/En});return zt&&fe&&Gn!==E?s.length&&zr(s[s.length-1].value,E,yn(E,nn,l))?s[s.length-1].value=E:s.push({value:E}):(!zt||Gn===E)&&s.push({value:Gn}),s}({maxTicks:u,bounds:a.bounds,min:a.min,max:a.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:!1!==s.includeBounds},this._range||this);return"ticks"===a.bounds&&Ft(y,this,"value"),a.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const a=this.ticks;let s=this.min,u=this.max;if(super.configure(),this.options.offset&&a.length){const h=(u-s)/Math.max(a.length-1,1)/2;s-=h,u+=h}this._startValue=s,this._endValue=u,this._valueRange=u-s}getLabelForValue(a){return xi(a,this.chart.options.locale,this.options.ticks.format)}}class ur extends Vn{determineDataLimits(){const{min:a,max:s}=this.getMinMax(!0);this.min=nt(a)?a:0,this.max=nt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),s=a?this.width:this.height,u=$n(this.options.ticks.minRotation),h=(a?Math.sin(u):Math.cos(u))||.001,g=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,g.lineHeight/h))}getPixelForValue(a){return null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}function sr(l){return l/Math.pow(10,Math.floor(Un(l)))==1}ur.id="linear",ur.defaults={ticks:{callback:mo.formatters.numeric}};class Vo extends gs{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(a,s){const u=Vn.prototype.parse.apply(this,[a,s]);if(0!==u)return nt(u)&&u>0?u:null;this._zero=!0}determineDataLimits(){const{min:a,max:s}=this.getMinMax(!0);this.min=nt(a)?Math.max(0,a):null,this.max=nt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:a,maxDefined:s}=this.getUserBounds();let u=this.min,h=this.max;const g=T=>u=a?u:T,y=T=>h=s?h:T,E=(T,P)=>Math.pow(10,Math.floor(Un(T))+P);u===h&&(u<=0?(g(1),y(10)):(g(E(u,-1)),y(E(h,1)))),u<=0&&g(E(h,-1)),h<=0&&y(E(u,1)),this._zero&&this.min!==this._suggestedMin&&u===E(this.min,0)&&g(E(u,-1)),this.min=u,this.max=h}buildTicks(){const a=this.options,u=function ms(l,a){const s=Math.floor(Un(a.max)),u=Math.ceil(a.max/Math.pow(10,s)),h=[];let g=dt(l.min,Math.pow(10,Math.floor(Un(a.min)))),y=Math.floor(Un(g)),E=Math.floor(g/Math.pow(10,y)),T=y<0?Math.pow(10,Math.abs(y)):1;do{h.push({value:g,major:sr(g)}),++E,10===E&&(E=1,++y,T=y>=0?1:T),g=Math.round(E*Math.pow(10,y)*T)/T}while(y<s||y===s&&E<u);const P=dt(l.max,g);return h.push({value:P,major:sr(g)}),h}({min:this._userMin,max:this._userMax},this);return"ticks"===a.bounds&&Ft(u,this,"value"),a.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}getLabelForValue(a){return void 0===a?"0":xi(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=Un(a),this._valueRange=Un(this.max)-Un(a)}getPixelForValue(a){return(void 0===a||0===a)&&(a=this.min),null===a||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(Un(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const s=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+s*this._valueRange)}}function ac(l){const a=l.ticks;if(a.display&&l.display){const s=pn(a.backdropPadding);return ht(a.font&&a.font.size,Sn.font.size)+s.height}return 0}function Du(l,a,s){return s=be(s)?s:[s],{w:qe(l,a.string,s),h:s.length*a.lineHeight}}function Vc(l,a,s,u,h){return l===u||l===h?{start:a-s/2,end:a+s/2}:l<u||l>h?{start:a-s,end:a}:{start:a,end:a+s}}function zh(l,a,s,u,h){const g=Math.abs(Math.sin(s)),y=Math.abs(Math.cos(s));let E=0,T=0;u.start<a.l?(E=(a.l-u.start)/g,l.l=Math.min(l.l,a.l-E)):u.end>a.r&&(E=(u.end-a.r)/g,l.r=Math.max(l.r,a.r+E)),h.start<a.t?(T=(a.t-h.start)/y,l.t=Math.min(l.t,a.t-T)):h.end>a.b&&(T=(h.end-a.b)/y,l.b=Math.max(l.b,a.b+T))}function lc(l){return 0===l||180===l?"center":l<180?"left":"right"}function pa(l,a,s){return"right"===s?l-=a:"center"===s&&(l-=a/2),l}function Wd(l,a,s){return 90===s||270===s?l-=a/2:(s>270||s<90)&&(l-=a),l}function Vl(l,a,s,u){const{ctx:h}=l;if(s)h.arc(l.xCenter,l.yCenter,a,0,cn);else{let g=l.getPointPosition(0,a);h.moveTo(g.x,g.y);for(let y=1;y<u;y++)g=l.getPointPosition(y,a),h.lineTo(g.x,g.y)}}Vo.id="logarithmic",Vo.defaults={ticks:{callback:mo.formatters.logarithmic,major:{enabled:!0}}};class Cu extends Vn{constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const a=this._padding=pn(ac(this.options)/2),s=this.width=this.maxWidth-a.width,u=this.height=this.maxHeight-a.height;this.xCenter=Math.floor(this.left+s/2+a.left),this.yCenter=Math.floor(this.top+u/2+a.top),this.drawingArea=Math.floor(Math.min(s,u)/2)}determineDataLimits(){const{min:a,max:s}=this.getMinMax(!1);this.min=nt(a)&&!isNaN(a)?a:0,this.max=nt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ac(this.options))}generateTickLabels(a){Vn.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((s,u)=>{const h=Le(this.options.pointLabels.callback,[s,u],this);return h||0===h?h:""}).filter((s,u)=>this.chart.getDataVisibility(u))}fit(){const a=this.options;a.display&&a.pointLabels.display?function id(l){const a={l:l.left+l._padding.left,r:l.right-l._padding.right,t:l.top+l._padding.top,b:l.bottom-l._padding.bottom},s=Object.assign({},a),u=[],h=[],g=l._pointLabels.length,y=l.options.pointLabels,E=y.centerPointLabels?jt/g:0;for(let T=0;T<g;T++){const P=y.setContext(l.getPointLabelContext(T));h[T]=P.padding;const G=l.getPointPosition(T,l.drawingArea+h[T],E),ee=Yn(P.font),fe=Du(l.ctx,ee,l._pointLabels[T]);u[T]=fe;const Me=rn(l.getIndexAngle(T)+E),Ve=Math.round(lr(Me));zh(s,a,Me,Vc(Ve,G.x,fe.w,0,180),Vc(Ve,G.y,fe.h,90,270))}l.setCenterPoint(a.l-s.l,s.r-a.r,a.t-s.t,s.b-a.b),l._pointLabelItems=function At(l,a,s){const u=[],h=l._pointLabels.length,g=l.options,y=ac(g)/2,E=l.drawingArea,T=g.pointLabels.centerPointLabels?jt/h:0;for(let P=0;P<h;P++){const G=l.getPointPosition(P,E+y+s[P],T),ee=Math.round(lr(rn(G.angle+Gt))),fe=a[P],Me=Wd(G.y,fe.h,ee),Ve=lc(ee),Ke=pa(G.x,fe.w,Ve);u.push({x:G.x,y:Me,textAlign:Ve,left:Ke,top:Me,right:Ke+fe.w,bottom:Me+fe.h})}return u}(l,u,h)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(a,s,u,h){this.xCenter+=Math.floor((a-s)/2),this.yCenter+=Math.floor((u-h)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(a,s,u,h))}getIndexAngle(a){return rn(a*(cn/(this._pointLabels.length||1))+$n(this.options.startAngle||0))}getDistanceFromCenterForValue(a){if(he(a))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*s:(a-this.min)*s}getValueForDistanceFromCenter(a){if(he(a))return NaN;const s=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(a){const s=this._pointLabels||[];if(a>=0&&a<s.length){const u=s[a];return function cc(l,a,s){return pi(l,{label:s,index:a,type:"pointLabel"})}(this.getContext(),a,u)}}getPointPosition(a,s,u=0){const h=this.getIndexAngle(a)-Gt+u;return{x:Math.cos(h)*s+this.xCenter,y:Math.sin(h)*s+this.yCenter,angle:h}}getPointPositionForValue(a,s){return this.getPointPosition(a,this.getDistanceFromCenterForValue(s))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:s,top:u,right:h,bottom:g}=this._pointLabelItems[a];return{left:s,top:u,right:h,bottom:g}}drawBackground(){const{backgroundColor:a,grid:{circular:s}}=this.options;if(a){const u=this.ctx;u.save(),u.beginPath(),Vl(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),u.closePath(),u.fillStyle=a,u.fill(),u.restore()}}drawGrid(){const a=this.ctx,s=this.options,{angleLines:u,grid:h}=s,g=this._pointLabels.length;let y,E,T;if(s.pointLabels.display&&function Fl(l,a){const{ctx:s,options:{pointLabels:u}}=l;for(let h=a-1;h>=0;h--){const g=u.setContext(l.getPointLabelContext(h)),y=Yn(g.font),{x:E,y:T,textAlign:P,left:G,top:ee,right:fe,bottom:Me}=l._pointLabelItems[h],{backdropColor:Ve}=g;if(!he(Ve)){const Ke=pn(g.backdropPadding);s.fillStyle=Ve,s.fillRect(G-Ke.left,ee-Ke.top,fe-G+Ke.width,Me-ee+Ke.height)}It(s,l._pointLabels[h],E,T+y.lineHeight/2,y,{color:g.color,textAlign:P,textBaseline:"middle"})}}(this,g),h.display&&this.ticks.forEach((P,G)=>{0!==G&&(E=this.getDistanceFromCenterForValue(P.value),function Gd(l,a,s,u){const h=l.ctx,g=a.circular,{color:y,lineWidth:E}=a;!g&&!u||!y||!E||s<0||(h.save(),h.strokeStyle=y,h.lineWidth=E,h.setLineDash(a.borderDash),h.lineDashOffset=a.borderDashOffset,h.beginPath(),Vl(l,s,g,u),h.closePath(),h.stroke(),h.restore())}(this,h.setContext(this.getContext(G-1)),E,g))}),u.display){for(a.save(),y=g-1;y>=0;y--){const P=u.setContext(this.getPointLabelContext(y)),{color:G,lineWidth:ee}=P;!ee||!G||(a.lineWidth=ee,a.strokeStyle=G,a.setLineDash(P.borderDash),a.lineDashOffset=P.borderDashOffset,E=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),T=this.getPointPosition(y,E),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(T.x,T.y),a.stroke())}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,s=this.options,u=s.ticks;if(!u.display)return;const h=this.getIndexAngle(0);let g,y;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(h),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((E,T)=>{if(0===T&&!s.reverse)return;const P=u.setContext(this.getContext(T)),G=Yn(P.font);if(g=this.getDistanceFromCenterForValue(this.ticks[T].value),P.showLabelBackdrop){a.font=G.string,y=a.measureText(E.label).width,a.fillStyle=P.backdropColor;const ee=pn(P.backdropPadding);a.fillRect(-y/2-ee.left,-g-G.size/2-ee.top,y+ee.width,G.size+ee.height)}It(a,E.label,0,-g,G,{color:P.color})}),a.restore()}drawTitle(){}}Cu.id="radialLinear",Cu.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mo.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:l=>l,padding:5,centerPointLabels:!1}},Cu.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Cu.descriptors={angleLines:{_fallback:"grid"}};const sd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ga=Object.keys(sd);function vo(l,a){return l-a}function od(l,a){if(he(a))return null;const s=l._adapter,{parser:u,round:h,isoWeekday:g}=l._parseOpts;let y=a;return"function"==typeof u&&(y=u(y)),nt(y)||(y="string"==typeof u?s.parse(y,u):s.parse(y)),null===y?null:(h&&(y="week"!==h||!br(g)&&!0!==g?s.startOf(y,h):s.startOf(y,"isoWeek",g)),+y)}function Kd(l,a,s,u){const h=ga.length;for(let g=ga.indexOf(l);g<h-1;++g){const y=sd[ga[g]],E=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((s-a)/(E*y.size))<=u)return ga[g]}return ga[h-1]}function Qf(l,a,s){if(s){if(s.length){const{lo:u,hi:h}=Ui(s,a);l[s[u]>=a?s[u]:s[h]]=!0}}else l[a]=!0}function Wh(l,a,s){const u=[],h={},g=a.length;let y,E;for(y=0;y<g;++y)E=a[y],h[E]=y,u.push({value:E,major:!1});return 0!==g&&s?function qp(l,a,s,u){const h=l._adapter,g=+h.startOf(a[0].value,u),y=a[a.length-1].value;let E,T;for(E=g;E<=y;E=+h.add(E,1,u))T=s[E],T>=0&&(a[T].major=!0);return a}(l,u,h,s):u}let ul=(()=>{class l extends gs{constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,u){const h=s.time||(s.time={}),g=this._adapter=new A._date(s.adapters.date);ge(h.displayFormats,g.formats()),this._parseOpts={parser:h.parser,round:h.round,isoWeekday:h.isoWeekday},super.init(s),this._normalized=u.normalized}parse(s,u){return void 0===s?null:od(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,u=this._adapter,h=s.time.unit||"day";let{min:g,max:y,minDefined:E,maxDefined:T}=this.getUserBounds();function P(G){!E&&!isNaN(G.min)&&(g=Math.min(g,G.min)),!T&&!isNaN(G.max)&&(y=Math.max(y,G.max))}(!E||!T)&&(P(this._getLabelBounds()),("ticks"!==s.bounds||"labels"!==s.ticks.source)&&P(this.getMinMax(!1))),g=nt(g)&&!isNaN(g)?g:+u.startOf(Date.now(),h),y=nt(y)&&!isNaN(y)?y:+u.endOf(Date.now(),h)+1,this.min=Math.min(g,y-1),this.max=Math.max(g+1,y)}_getLabelBounds(){const s=this.getLabelTimestamps();let u=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;return s.length&&(u=s[0],h=s[s.length-1]),{min:u,max:h}}buildTicks(){const s=this.options,u=s.time,h=s.ticks,g="labels"===h.source?this.getLabelTimestamps():this._generate();"ticks"===s.bounds&&g.length&&(this.min=this._userMin||g[0],this.max=this._userMax||g[g.length-1]);const y=this.min,T=function ys(l,a,s){let u=0,h=l.length;for(;u<h&&l[u]<a;)u++;for(;h>u&&l[h-1]>s;)h--;return u>0||h<l.length?l.slice(u,h):l}(g,y,this.max);return this._unit=u.unit||(h.autoSkip?Kd(u.minUnit,this.min,this.max,this._getLabelCapacity(y)):function qd(l,a,s,u,h){for(let g=ga.length-1;g>=ga.indexOf(s);g--){const y=ga[g];if(sd[y].common&&l._adapter.diff(h,u,y)>=a-1)return y}return ga[s?ga.indexOf(s):0]}(this,T.length,u.minUnit,this.min,this.max)),this._majorUnit=h.major.enabled&&"year"!==this._unit?function Bc(l){for(let a=ga.indexOf(l)+1,s=ga.length;a<s;++a)if(sd[ga[a]].common)return ga[a]}(this._unit):void 0,this.initOffsets(g),s.reverse&&T.reverse(),Wh(this,T,this._majorUnit)}initOffsets(s){let g,y,u=0,h=0;this.options.offset&&s.length&&(g=this.getDecimalForValue(s[0]),u=1===s.length?1-g:(this.getDecimalForValue(s[1])-g)/2,y=this.getDecimalForValue(s[s.length-1]),h=1===s.length?y:(y-this.getDecimalForValue(s[s.length-2]))/2);const E=s.length<3?.5:.25;u=er(u,0,E),h=er(h,0,E),this._offsets={start:u,end:h,factor:1/(u+1+h)}}_generate(){const s=this._adapter,u=this.min,h=this.max,g=this.options,y=g.time,E=y.unit||Kd(y.minUnit,u,h,this._getLabelCapacity(u)),T=ht(y.stepSize,1),P="week"===E&&y.isoWeekday,G=br(P)||!0===P,ee={};let Me,Ve,fe=u;if(G&&(fe=+s.startOf(fe,"isoWeek",P)),fe=+s.startOf(fe,G?"day":E),s.diff(h,u,E)>1e5*T)throw new Error(u+" and "+h+" are too far apart with stepSize of "+T+" "+E);const Ke="data"===g.ticks.source&&this.getDataTimestamps();for(Me=fe,Ve=0;Me<h;Me=+s.add(Me,T,E),Ve++)Qf(ee,Me,Ke);return(Me===h||"ticks"===g.bounds||1===Ve)&&Qf(ee,Me,Ke),Object.keys(ee).sort((mt,Et)=>mt-Et).map(mt=>+mt)}getLabelForValue(s){const h=this.options.time;return this._adapter.format(s,h.tooltipFormat?h.tooltipFormat:h.displayFormats.datetime)}_tickFormatFunction(s,u,h,g){const y=this.options,E=y.time.displayFormats,T=this._unit,P=this._majorUnit,ee=P&&E[P],fe=h[u],Ve=this._adapter.format(s,g||(P&&ee&&fe&&fe.major?ee:T&&E[T])),Ke=y.ticks.callback;return Ke?Le(Ke,[Ve,u,h],this):Ve}generateTickLabels(s){let u,h,g;for(u=0,h=s.length;u<h;++u)g=s[u],g.label=this._tickFormatFunction(g.value,u,s)}getDecimalForValue(s){return null===s?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const u=this._offsets,h=this.getDecimalForValue(s);return this.getPixelForDecimal((u.start+h)*u.factor)}getValueForPixel(s){const u=this._offsets,h=this.getDecimalForPixel(s)/u.factor-u.end;return this.min+h*(this.max-this.min)}_getLabelSize(s){const u=this.options.ticks,h=this.ctx.measureText(s).width,g=$n(this.isHorizontal()?u.maxRotation:u.minRotation),y=Math.cos(g),E=Math.sin(g),T=this._resolveTickFontOptions(0).size;return{w:h*y+T*E,h:h*E+T*y}}_getLabelCapacity(s){const u=this.options.time,h=u.displayFormats,g=h[u.unit]||h.millisecond,y=this._tickFormatFunction(s,0,Wh(this,[s],this._majorUnit),g),E=this._getLabelSize(y),T=Math.floor(this.isHorizontal()?this.width/E.w:this.height/E.h)-1;return T>0?T:1}getDataTimestamps(){let u,h,s=this._cache.data||[];if(s.length)return s;const g=this.getMatchingVisibleMetas();if(this._normalized&&g.length)return this._cache.data=g[0].controller.getAllParsedValues(this);for(u=0,h=g.length;u<h;++u)s=s.concat(g[u].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let u,h;if(s.length)return s;const g=this.getLabels();for(u=0,h=g.length;u<h;++u)s.push(od(this,g[u]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return ki(s.sort(vo))}}return l.id="time",l.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},l})();function bl(l,a,s){let g,y,E,T,u=0,h=l.length-1;s?(a>=l[u].pos&&a<=l[h].pos&&({lo:u,hi:h}=Ri(l,"pos",a)),({pos:g,time:E}=l[u]),({pos:y,time:T}=l[h])):(a>=l[u].time&&a<=l[h].time&&({lo:u,hi:h}=Ri(l,"time",a)),({time:g,pos:E}=l[u]),({time:y,pos:T}=l[h]));const P=y-g;return P?E+(T-E)*(a-g)/P:E}class wl extends ul{constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(a);this._minPos=bl(s,this.min),this._tableRange=bl(s,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(a){const{min:s,max:u}=this,h=[],g=[];let y,E,T,P,G;for(y=0,E=a.length;y<E;++y)P=a[y],P>=s&&P<=u&&h.push(P);if(h.length<2)return[{time:s,pos:0},{time:u,pos:1}];for(y=0,E=h.length;y<E;++y)G=h[y+1],T=h[y-1],P=h[y],Math.round((G+T)/2)!==P&&g.push({time:P,pos:y/(E-1)});return g}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const s=this.getDataTimestamps(),u=this.getLabelTimestamps();return a=s.length&&u.length?this.normalize(s.concat(u)):s.length?s:u,a=this._cache.all=a,a}getDecimalForValue(a){return(bl(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(a){const s=this._offsets,u=this.getDecimalForPixel(a)/s.factor-s.end;return bl(this._table,u*this._tableRange+this._minPos,!0)}}wl.id="timeseries",wl.defaults=ul.defaults;var Zp=L(1884);const ld=function Xf(l,a){return l===a||l!=l&&a!=a},Uc=function Jf(l,a){for(var s=l.length;s--;)if(ld(l[s][0],a))return s;return-1};var ud=Array.prototype.splice;function Wa(l){var a=-1,s=null==l?0:l.length;for(this.clear();++a<s;){var u=l[a];this.set(u[0],u[1])}}Wa.prototype.clear=function Gh(){this.__data__=[],this.size=0},Wa.prototype.delete=function uc(l){var a=this.__data__,s=Uc(a,l);return!(s<0||(s==a.length-1?a.pop():ud.call(a,s,1),--this.size,0))},Wa.prototype.get=function qh(l){var a=this.__data__,s=Uc(a,l);return s<0?void 0:a[s][1]},Wa.prototype.has=function am(l){return Uc(this.__data__,l)>-1},Wa.prototype.set=function Yd(l,a){var s=this.__data__,u=Uc(s,l);return u<0?(++this.size,s.push([l,a])):s[u][1]=a,this};const Tu=Wa,Qh="object"==typeof global&&global&&global.Object===Object&&global;var Oa="object"==typeof self&&self&&self.Object===Object&&self;const dc=Qh||Oa||Function("return this")();var ep=dc.Symbol,hc=Object.prototype,fd=hc.hasOwnProperty,ng=hc.toString,mr=ep?ep.toStringTag:void 0;var El=Object.prototype.toString;var Bl=ep?ep.toStringTag:void 0;const Xd=function rp(l){return null==l?void 0===l?"[object Undefined]":"[object Null]":Bl&&Bl in Object(l)?function rg(l){var a=fd.call(l,mr),s=l[mr];try{l[mr]=void 0;var u=!0}catch(g){}var h=ng.call(l);return u&&(a?l[mr]=s:delete l[mr]),h}(l):function Bo(l){return El.call(l)}(l)},Au=function pd(l){var a=typeof l;return null!=l&&("object"==a||"function"==a)},gd=function Su(l){if(!Au(l))return!1;var a=Xd(l);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a};var l,Jh=dc["__core-js_shared__"],ip=(l=/[^.]+$/.exec(Jh&&Jh.keys&&Jh.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"";var th=Function.prototype.toString;var ap=/^\[object .+?Constructor\]$/,ny=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ry=function cm(l){return!(!Au(l)||function sp(l){return!!ip&&ip in l}(l))&&(gd(l)?ny:ap).test(function ag(l){if(null!=l){try{return th.call(l)}catch(a){}try{return l+""}catch(a){}}return""}(l))},Mu=function nh(l,a){var s=function um(l,a){return null==l?void 0:l[a]}(l,a);return ry(s)?s:void 0},tf=Mu(dc,"Map"),Hc=Mu(Object,"create");var $c=Object.prototype.hasOwnProperty;var hm=Object.prototype.hasOwnProperty;function pc(l){var a=-1,s=null==l?0:l.length;for(this.clear();++a<s;){var u=l[a];this.set(u[0],u[1])}}pc.prototype.clear=function fg(){this.__data__=Hc?Hc(null):{},this.size=0},pc.prototype.delete=function rh(l){var a=this.has(l)&&delete this.__data__[l];return this.size-=a?1:0,a},pc.prototype.get=function nf(l){var a=this.__data__;if(Hc){var s=a[l];return"__lodash_hash_undefined__"===s?void 0:s}return $c.call(a,l)?a[l]:void 0},pc.prototype.has=function mg(l){var a=this.__data__;return Hc?void 0!==a[l]:hm.call(a,l)},pc.prototype.set=function sh(l,a){var s=this.__data__;return this.size+=this.has(l)?0:1,s[l]=Hc&&void 0===a?"__lodash_hash_undefined__":a,this};const Wc=pc,Gc=function rf(l,a){var s=l.__data__;return function oh(l){var a=typeof l;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==l:null===l}(a)?s["string"==typeof a?"string":"hash"]:s.map};function mc(l){var a=-1,s=null==l?0:l.length;for(this.clear();++a<s;){var u=l[a];this.set(u[0],u[1])}}mc.prototype.clear=function Ou(){this.size=0,this.__data__={hash:new Wc,map:new(tf||Tu),string:new Wc}},mc.prototype.delete=function lh(l){var a=Gc(this,l).delete(l);return this.size-=a?1:0,a},mc.prototype.get=function sf(l){return Gc(this,l).get(l)},mc.prototype.has=function _g(l){return Gc(this,l).has(l)},mc.prototype.set=function vg(l,a){var s=Gc(this,l),u=s.size;return s.set(l,a),this.size+=s.size==u?0:1,this};const md=mc;function yd(l){var a=this.__data__=new Tu(l);this.size=a.size}yd.prototype.clear=function Xp(){this.__data__=new Tu,this.size=0},yd.prototype.delete=function Zh(l){var a=this.__data__,s=a.delete(l);return this.size=a.size,s},yd.prototype.get=function Jp(l){return this.__data__.get(l)},yd.prototype.has=function Qd(l){return this.__data__.has(l)},yd.prototype.set=function bg(l,a){var s=this.__data__;if(s instanceof Tu){var u=s.__data__;if(!tf||u.length<199)return u.push([l,a]),this.size=++s.size,this;s=this.__data__=new md(u)}return s.set(l,a),this.size=s.size,this};const gm=yd;var oy=function(){try{var l=Mu(Object,"defineProperty");return l({},"",{}),l}catch(a){}}();const hp=oy,of=function _d(l,a,s){"__proto__"==a&&hp?hp(l,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):l[a]=s},Pu=function vd(l,a,s){(void 0!==s&&!ld(l[a],s)||void 0===s&&!(a in l))&&of(l,a,s)};var fp=function ch(l){return function(a,s,u){for(var h=-1,g=Object(a),y=u(a),E=y.length;E--;){var T=y[l?E:++h];if(!1===s(g[T],T,g))break}return a}}();const wg=fp;var uh="object"==typeof exports&&exports&&!exports.nodeType&&exports,lf=uh&&"object"==typeof module&&module&&!module.nodeType&&module,pp=lf&&lf.exports===uh?dc.Buffer:void 0,Eg=pp?pp.allocUnsafe:void 0;const Dl=dc.Uint8Array,mm=function mp(l,a){var s=a?function dh(l){var a=new l.constructor(l.byteLength);return new Dl(a).set(new Dl(l)),a}(l.buffer):l.buffer;return new l.constructor(s,l.byteOffset,l.length)};var Cg=Object.create,ym=function(){function l(){}return function(a){if(!Au(a))return{};if(Cg)return Cg(a);l.prototype=a;var s=new l;return l.prototype=void 0,s}}();const df=ym;var bd=function Ig(l,a){return function(s){return l(a(s))}}(Object.getPrototypeOf,Object);const hf=bd;var _p=Object.prototype;const wd=function vp(l){var a=l&&l.constructor;return l===("function"==typeof a&&a.prototype||_p)},_c=function xg(l){return null!=l&&"object"==typeof l},Kc=function wp(l){return _c(l)&&"[object Arguments]"==Xd(l)};var jl=Object.prototype,ff=jl.hasOwnProperty,ku=jl.propertyIsEnumerable,Nu=Kc(function(){return arguments}())?Kc:function(l){return _c(l)&&ff.call(l,"callee")&&!ku.call(l,"callee")};const dl=Nu,Ep=Array.isArray,Ed=function Sg(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=9007199254740991},Lu=function pf(l){return null!=l&&Ed(l.length)&&!gd(l)};var Dp="object"==typeof exports&&exports&&!exports.nodeType&&exports,mf=Dp&&"object"==typeof module&&module&&!module.nodeType&&module,ph=mf&&mf.exports===Dp?dc.Buffer:void 0;const yf=(ph?ph.isBuffer:void 0)||function fh(){return!1};var Rg=Function.prototype.toString,qc=Object.prototype.hasOwnProperty,Cp=Rg.call(Object);var ls={};ls["[object Float32Array]"]=ls["[object Float64Array]"]=ls["[object Int8Array]"]=ls["[object Int16Array]"]=ls["[object Int32Array]"]=ls["[object Uint8Array]"]=ls["[object Uint8ClampedArray]"]=ls["[object Uint16Array]"]=ls["[object Uint32Array]"]=!0,ls["[object Arguments]"]=ls["[object Array]"]=ls["[object ArrayBuffer]"]=ls["[object Boolean]"]=ls["[object DataView]"]=ls["[object Date]"]=ls["[object Error]"]=ls["[object Function]"]=ls["[object Map]"]=ls["[object Number]"]=ls["[object Object]"]=ls["[object RegExp]"]=ls["[object Set]"]=ls["[object String]"]=ls["[object WeakMap]"]=!1;var Df="object"==typeof exports&&exports&&!exports.nodeType&&exports,Cf=Df&&"object"==typeof module&&module&&!module.nodeType&&module,_h=Cf&&Cf.exports===Df&&Qh.process,Rp=function(){try{return Cf&&Cf.require&&Cf.require("util").types||_h&&_h.binding&&_h.binding("util")}catch(a){}}(),Tf=Rp&&Rp.isTypedArray;const Bg=Tf?function Ef(l){return function(a){return l(a)}}(Tf):function cy(l){return _c(l)&&Ed(l.length)&&!!ls[Xd(l)]},bh=function xm(l,a){if(("constructor"!==a||"function"!=typeof l[a])&&"__proto__"!=a)return l[a]};var Cd=Object.prototype.hasOwnProperty;const kp=function Zc(l,a,s){var u=l[a];(!Cd.call(l,a)||!ld(u,s)||void 0===s&&!(a in l))&&of(l,a,s)};var Id=/^(?:0|[1-9]\d*)$/;const Yc=function bo(l,a){var s=typeof l;return!!(a=null==a?9007199254740991:a)&&("number"==s||"symbol"!=s&&Id.test(l))&&l>-1&&l%1==0&&l<a};var fl=Object.prototype.hasOwnProperty;const Fu=function Lp(l,a){var s=Ep(l),u=!s&&dl(l),h=!s&&!u&&yf(l),g=!s&&!u&&!h&&Bg(l),y=s||u||h||g,E=y?function jg(l,a){for(var s=-1,u=Array(l);++s<l;)u[s]=a(s);return u}(l.length,String):[],T=E.length;for(var P in l)(a||fl.call(l,P))&&(!y||!("length"==P||h&&("offset"==P||"parent"==P)||g&&("buffer"==P||"byteLength"==P||"byteOffset"==P)||Yc(P,T)))&&E.push(P);return E};var Jc=Object.prototype.hasOwnProperty;const bc=function eu(l){if(!Au(l))return function Qc(l){var a=[];if(null!=l)for(var s in Object(l))a.push(s);return a}(l);var a=wd(l),s=[];for(var u in l)"constructor"==u&&(a||!Jc.call(l,u))||s.push(u);return s},nu=function tu(l){return Lu(l)?Fu(l,!0):bc(l)},Fp=function Af(l){return function wh(l,a,s,u){var h=!s;s||(s={});for(var g=-1,y=a.length;++g<y;){var E=a[g],T=u?u(s[E],l[E],E,s,l):void 0;void 0===T&&(T=l[E]),h?of(s,E,T):kp(s,E,T)}return s}(l,nu(l))},Bu=function Sf(l,a,s,u,h,g,y){var E=bh(l,s),T=bh(a,s),P=y.get(T);if(P)Pu(l,s,P);else{var G=g?g(E,T,s+"",l,a,y):void 0,ee=void 0===G;if(ee){var fe=Ep(T),Me=!fe&&yf(T),Ve=!fe&&!Me&&Bg(T);G=T,fe||Me||Ve?Ep(E)?G=E:function hh(l){return _c(l)&&Lu(l)}(E)?G=function Ru(l,a){var s=-1,u=l.length;for(a||(a=Array(u));++s<u;)a[s]=l[s];return a}(E):Me?(ee=!1,G=function cf(l,a){if(a)return l.slice();var s=l.length,u=Eg?Eg(s):new l.constructor(s);return l.copy(u),u}(T,!0)):Ve?(ee=!1,G=mm(T,!0)):G=[]:function Ip(l){if(!_c(l)||"[object Object]"!=Xd(l))return!1;var a=hf(l);if(null===a)return!0;var s=qc.call(a,"constructor")&&a.constructor;return"function"==typeof s&&s instanceof s&&Rg.call(s)==Cp}(T)||dl(T)?(G=E,dl(E)?G=Fp(E):(!Au(E)||gd(E))&&(G=function Tg(l){return"function"!=typeof l.constructor||wd(l)?{}:df(hf(l))}(T))):ee=!1}ee&&(y.set(T,G),h(G,T,u,g,y),y.delete(T)),Pu(l,s,G)}},Hg=function Eh(l,a,s,u,h){l!==a&&wg(a,function(g,y){if(h||(h=new gm),Au(g))Bu(l,a,y,s,Eh,u,h);else{var E=u?u(bh(l,y),g,y+"",l,a,h):void 0;void 0===E&&(E=g),Pu(l,y,E)}},nu)},Vp=function $g(l){return l},Sm=function Bp(l,a,s){switch(s.length){case 0:return l.call(a);case 1:return l.call(a,s[0]);case 2:return l.call(a,s[0],s[1]);case 3:return l.call(a,s[0],s[1],s[2])}return l.apply(a,s)};var Mf=Math.max;const Pm=function zg(l){return function(){return l}};var Wg=hp?function(l,a){return hp(l,"toString",{configurable:!0,enumerable:!1,value:Pm(a),writable:!0})}:Vp,Kg=Date.now,qg=function Pf(l){var a=0,s=0;return function(){var u=Kg(),h=16-(u-s);if(s=u,h>0){if(++a>=800)return arguments[0]}else a=0;return l.apply(void 0,arguments)}}(Wg);const Rf=qg,Rm=function Uu(l,a){return Rf(function Mm(l,a,s){return a=Mf(void 0===a?l.length-1:a,0),function(){for(var u=arguments,h=-1,g=Mf(u.length-a,0),y=Array(g);++h<g;)y[h]=u[a+h];h=-1;for(var E=Array(a+1);++h<a;)E[h]=u[h];return E[a]=s(y),Sm(l,this,E)}}(l,a,Vp),l+"")};var Zg=function wc(l){return Rm(function(a,s){var u=-1,h=s.length,g=h>1?s[h-1]:void 0,y=h>2?s[2]:void 0;for(g=l.length>3&&"function"==typeof g?(h--,g):void 0,y&&function Ws(l,a,s){if(!Au(s))return!1;var u=typeof a;return!!("number"==u?Lu(s)&&Yc(a,s.length):"string"==u&&a in s)&&ld(s[a],l)}(s[0],s[1],y)&&(g=h<3?void 0:g,h=1),a=Object(a);++u<h;){var E=s[u];E&&l(a,E,u,g)}return a})}(function(l,a,s){Hg(l,a,s)});const Yg=Zg;var km=L(1135);let ju=(()=>{class l{constructor(){this.colorschemesOptions=new km.X(void 0)}setColorschemesOptions(s){this.pColorschemesOptions=s,this.colorschemesOptions.next(s)}getColorschemesOptions(){return this.pColorschemesOptions}}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Nm=(()=>{class l{constructor(s,u,h){this.element=s,this.zone=u,this.themeService=h,this.type="bar",this.plugins=[],this.chartClick=new _.vpe,this.chartHover=new _.vpe,this.subs=[],this.ctx=s.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,Zp.x)()).subscribe(g=>this.themeChanged(g)))}ngOnChanges(s){const u=["type"],h=Object.getOwnPropertyNames(s);if(h.some(g=>u.includes(g))||h.every(g=>s[g].isFirstChange()))this.render();else{const g=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,g.data),Object.assign(this.chart.config.plugins,g.plugins),Object.assign(this.chart.config.options,g.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(s=>s.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new xa(this.ctx,this.getChartConfiguration()))}update(s){this.chart&&this.zone.runOutsideAngular(()=>{var u;return null===(u=this.chart)||void 0===u?void 0:u.update(s)})}hideDataset(s,u){this.chart&&(this.chart.getDatasetMeta(s).hidden=u,this.update())}isDatasetHidden(s){var u,h;return null===(h=null===(u=this.chart)||void 0===u?void 0:u.getDatasetMeta(s))||void 0===h?void 0:h.hidden}toBase64Image(){var s;return null===(s=this.chart)||void 0===s?void 0:s.toBase64Image()}themeChanged(s){this.themeOverrides=s,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return Yg({onHover:(s,u)=>{!this.chartHover.observed&&!this.chartHover.observers.length||this.zone.run(()=>this.chartHover.emit({event:s,active:u}))},onClick:(s,u)=>{!this.chartClick.observed&&!this.chartClick.observers.length||this.zone.run(()=>this.chartClick.emit({event:s,active:u}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return l.\u0275fac=function(s){return new(s||l)(_.Y36(_.SBq),_.Y36(_.R0b),_.Y36(ju))},l.\u0275dir=_.lG2({type:l,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[_.TTD]}),l})();const kf=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],Lm={datasets:{line:{backgroundColor:l=>Jo(ya(l.datasetIndex),.4),borderColor:l=>Jo(ya(l.datasetIndex),1),pointBackgroundColor:l=>Jo(ya(l.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:l=>Jo(ya(l.datasetIndex),.8)},bar:{backgroundColor:l=>Jo(ya(l.datasetIndex),.6),borderColor:l=>Jo(ya(l.datasetIndex),1),hoverBackgroundColor:l=>Jo(ya(l.datasetIndex),.8),hoverBorderColor:l=>Jo(ya(l.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:l=>Jo(ya(l.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:l=>Jo(ya(l.dataIndex),1),hoverBorderColor:l=>Jo(ya(l.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:l=>Jo(ya(l.dataIndex),.6),borderColor:l=>Jo(ya(l.dataIndex),1),hoverBackgroundColor:l=>Jo(ya(l.dataIndex),.8),hoverBorderColor:l=>Jo(ya(l.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Jo(l,a){return"rgba("+l.concat(a).join(",")+")"}function zi(l,a){return Math.floor(Math.random()*(a-l+1))+l}function ya(l=0){return kf[l]||function dy(){return[zi(0,255),zi(0,255),zi(0,255)]}()}xa.register(Ud,m,Ju,ed,vs,yo,ol,ur,tt,Ge,ic,Si,kc,Fa,Cu,Ta,xl,ln,Ko,wl);let Gs=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275prov=_.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Qg=(()=>{class l{constructor(s){(null==s?void 0:s.plugins)&&xa.register(...null==s?void 0:s.plugins);const u=Yg(Lm,(null==s?void 0:s.defaults)||{});Sn.set(u)}static forRoot(s){return{ngModule:l,providers:[{provide:Gs,useValue:s}]}}}return l.\u0275fac=function(s){return new(s||l)(_.LFG(Gs,8))},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[[]]}),l})()},5861:(je,ve,L)=>{"use strict";function _(ie,Se,de,Ne,Ae,me,De){try{var ce=ie[me](De),he=ce.value}catch(be){return void de(be)}ce.done?Se(he):Promise.resolve(he).then(Ne,Ae)}function Z(ie){return function(){var Se=this,de=arguments;return new Promise(function(Ne,Ae){var me=ie.apply(Se,de);function De(he){_(me,Ne,Ae,De,ce,"next",he)}function ce(he){_(me,Ne,Ae,De,ce,"throw",he)}De(void 0)})}}L.d(ve,{Z:()=>Z})}},je=>{je(je.s=5163)}]);